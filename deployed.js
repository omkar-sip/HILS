(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function X0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yg={exports:{}},uc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS;function E4(){if(xS)return uc;xS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:u,ref:s!==void 0?s:null,props:o}}return uc.Fragment=e,uc.jsx=n,uc.jsxs=n,uc}var bS;function T4(){return bS||(bS=1,Yg.exports=E4()),Yg.exports}var y=T4(),Qg={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function w4(){if(_S)return Oe;_S=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function S(G){return G===null||typeof G!="object"?null:(G=b&&G[b]||G["@@iterator"],typeof G=="function"?G:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function D(G,re,O){this.props=G,this.context=re,this.refs=A,this.updater=O||C}D.prototype.isReactComponent={},D.prototype.setState=function(G,re){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,re,"setState")},D.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function q(){}q.prototype=D.prototype;function L(G,re,O){this.props=G,this.context=re,this.refs=A,this.updater=O||C}var ee=L.prototype=new q;ee.constructor=L,R(ee,D.prototype),ee.isPureReactComponent=!0;var J=Array.isArray;function F(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function M(G,re,O){var ye=O.ref;return{$$typeof:t,type:G,key:re,ref:ye!==void 0?ye:null,props:O}}function B(G,re){return M(G.type,re,G.props)}function V(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function U(G){var re={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(O){return re[O]})}var j=/\/+/g;function fe(G,re){return typeof G=="object"&&G!==null&&G.key!=null?U(""+G.key):re.toString(36)}function ce(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(F,F):(G.status="pending",G.then(function(re){G.status==="pending"&&(G.status="fulfilled",G.value=re)},function(re){G.status==="pending"&&(G.status="rejected",G.reason=re)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Q(G,re,O,ye,Te){var Ee=typeof G;(Ee==="undefined"||Ee==="boolean")&&(G=null);var Ve=!1;if(G===null)Ve=!0;else switch(Ee){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(G.$$typeof){case t:case e:Ve=!0;break;case g:return Ve=G._init,Q(Ve(G._payload),re,O,ye,Te)}}if(Ve)return Te=Te(G),Ve=ye===""?"."+fe(G,0):ye,J(Te)?(O="",Ve!=null&&(O=Ve.replace(j,"$&/")+"/"),Q(Te,re,O,"",function(cn){return cn})):Te!=null&&(V(Te)&&(Te=B(Te,O+(Te.key==null||G&&G.key===Te.key?"":(""+Te.key).replace(j,"$&/")+"/")+Ve)),re.push(Te)),1;Ve=0;var gt=ye===""?".":ye+":";if(J(G))for(var at=0;at<G.length;at++)ye=G[at],Ee=gt+fe(ye,at),Ve+=Q(ye,re,O,Ee,Te);else if(at=S(G),typeof at=="function")for(G=at.call(G),at=0;!(ye=G.next()).done;)ye=ye.value,Ee=gt+fe(ye,at++),Ve+=Q(ye,re,O,Ee,Te);else if(Ee==="object"){if(typeof G.then=="function")return Q(ce(G),re,O,ye,Te);throw re=String(G),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ae(G,re,O){if(G==null)return G;var ye=[],Te=0;return Q(G,ye,"","",function(Ee){return re.call(O,Ee,Te++)}),ye}function ge(G){if(G._status===-1){var re=G._result;re=re(),re.then(function(O){(G._status===0||G._status===-1)&&(G._status=1,G._result=O)},function(O){(G._status===0||G._status===-1)&&(G._status=2,G._result=O)}),G._status===-1&&(G._status=0,G._result=re)}if(G._status===1)return G._result.default;throw G._result}var Re=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},z={map:ae,forEach:function(G,re,O){ae(G,function(){re.apply(this,arguments)},O)},count:function(G){var re=0;return ae(G,function(){re++}),re},toArray:function(G){return ae(G,function(re){return re})||[]},only:function(G){if(!V(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Oe.Activity=x,Oe.Children=z,Oe.Component=D,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=L,Oe.StrictMode=i,Oe.Suspense=d,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(G){return I.H.useMemoCache(G)}},Oe.cache=function(G){return function(){return G.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(G,re,O){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ye=R({},G.props),Te=G.key;if(re!=null)for(Ee in re.key!==void 0&&(Te=""+re.key),re)!w.call(re,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&re.ref===void 0||(ye[Ee]=re[Ee]);var Ee=arguments.length-2;if(Ee===1)ye.children=O;else if(1<Ee){for(var Ve=Array(Ee),gt=0;gt<Ee;gt++)Ve[gt]=arguments[gt+2];ye.children=Ve}return M(G.type,Te,ye)},Oe.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},Oe.createElement=function(G,re,O){var ye,Te={},Ee=null;if(re!=null)for(ye in re.key!==void 0&&(Ee=""+re.key),re)w.call(re,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Te[ye]=re[ye]);var Ve=arguments.length-2;if(Ve===1)Te.children=O;else if(1<Ve){for(var gt=Array(Ve),at=0;at<Ve;at++)gt[at]=arguments[at+2];Te.children=gt}if(G&&G.defaultProps)for(ye in Ve=G.defaultProps,Ve)Te[ye]===void 0&&(Te[ye]=Ve[ye]);return M(G,Ee,Te)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(G){return{$$typeof:h,render:G}},Oe.isValidElement=V,Oe.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:ge}},Oe.memo=function(G,re){return{$$typeof:f,type:G,compare:re===void 0?null:re}},Oe.startTransition=function(G){var re=I.T,O={};I.T=O;try{var ye=G(),Te=I.S;Te!==null&&Te(O,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(F,Re)}catch(Ee){Re(Ee)}finally{re!==null&&O.types!==null&&(re.types=O.types),I.T=re}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(G){return I.H.use(G)},Oe.useActionState=function(G,re,O){return I.H.useActionState(G,re,O)},Oe.useCallback=function(G,re){return I.H.useCallback(G,re)},Oe.useContext=function(G){return I.H.useContext(G)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(G,re){return I.H.useDeferredValue(G,re)},Oe.useEffect=function(G,re){return I.H.useEffect(G,re)},Oe.useEffectEvent=function(G){return I.H.useEffectEvent(G)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(G,re,O){return I.H.useImperativeHandle(G,re,O)},Oe.useInsertionEffect=function(G,re){return I.H.useInsertionEffect(G,re)},Oe.useLayoutEffect=function(G,re){return I.H.useLayoutEffect(G,re)},Oe.useMemo=function(G,re){return I.H.useMemo(G,re)},Oe.useOptimistic=function(G,re){return I.H.useOptimistic(G,re)},Oe.useReducer=function(G,re,O){return I.H.useReducer(G,re,O)},Oe.useRef=function(G){return I.H.useRef(G)},Oe.useState=function(G){return I.H.useState(G)},Oe.useSyncExternalStore=function(G,re,O){return I.H.useSyncExternalStore(G,re,O)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.4",Oe}var SS;function W0(){return SS||(SS=1,Qg.exports=w4()),Qg.exports}var P=W0();const ef=X0(P);var Xg={exports:{}},cc={},Wg={exports:{}},Jg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES;function C4(){return ES||(ES=1,(function(t){function e(Q,ae){var ge=Q.length;Q.push(ae);e:for(;0<ge;){var Re=ge-1>>>1,z=Q[Re];if(0<s(z,ae))Q[Re]=ae,Q[ge]=z,ge=Re;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ae=Q[0],ge=Q.pop();if(ge!==ae){Q[0]=ge;e:for(var Re=0,z=Q.length,G=z>>>1;Re<G;){var re=2*(Re+1)-1,O=Q[re],ye=re+1,Te=Q[ye];if(0>s(O,ge))ye<z&&0>s(Te,O)?(Q[Re]=Te,Q[ye]=ge,Re=ye):(Q[Re]=O,Q[re]=ge,Re=re);else if(ye<z&&0>s(Te,ge))Q[Re]=Te,Q[ye]=ge,Re=ye;else break e}}return ae}function s(Q,ae){var ge=Q.sortIndex-ae.sortIndex;return ge!==0?ge:Q.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],f=[],g=1,x=null,b=3,S=!1,C=!1,R=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function ee(Q){for(var ae=n(f);ae!==null;){if(ae.callback===null)i(f);else if(ae.startTime<=Q)i(f),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=n(f)}}function J(Q){if(R=!1,ee(Q),!C)if(n(d)!==null)C=!0,F||(F=!0,U());else{var ae=n(f);ae!==null&&ce(J,ae.startTime-Q)}}var F=!1,I=-1,w=5,M=-1;function B(){return A?!0:!(t.unstable_now()-M<w)}function V(){if(A=!1,F){var Q=t.unstable_now();M=Q;var ae=!0;try{e:{C=!1,R&&(R=!1,q(I),I=-1),S=!0;var ge=b;try{t:{for(ee(Q),x=n(d);x!==null&&!(x.expirationTime>Q&&B());){var Re=x.callback;if(typeof Re=="function"){x.callback=null,b=x.priorityLevel;var z=Re(x.expirationTime<=Q);if(Q=t.unstable_now(),typeof z=="function"){x.callback=z,ee(Q),ae=!0;break t}x===n(d)&&i(d),ee(Q)}else i(d);x=n(d)}if(x!==null)ae=!0;else{var G=n(f);G!==null&&ce(J,G.startTime-Q),ae=!1}}break e}finally{x=null,b=ge,S=!1}ae=void 0}}finally{ae?U():F=!1}}}var U;if(typeof L=="function")U=function(){L(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,fe=j.port2;j.port1.onmessage=V,U=function(){fe.postMessage(null)}}else U=function(){D(V,0)};function ce(Q,ae){I=D(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var ge=b;b=ae;try{return Q()}finally{b=ge}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=b;b=Q;try{return ae()}finally{b=ge}},t.unstable_scheduleCallback=function(Q,ae,ge){var Re=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Re+ge:Re):ge=Re,Q){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ge+z,Q={id:g++,callback:ae,priorityLevel:Q,startTime:ge,expirationTime:z,sortIndex:-1},ge>Re?(Q.sortIndex=ge,e(f,Q),n(d)===null&&Q===n(f)&&(R?(q(I),I=-1):R=!0,ce(J,ge-Re))):(Q.sortIndex=z,e(d,Q),C||S||(C=!0,F||(F=!0,U()))),Q},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(Q){var ae=b;return function(){var ge=b;b=ae;try{return Q.apply(this,arguments)}finally{b=ge}}}})(Jg)),Jg}var TS;function A4(){return TS||(TS=1,Wg.exports=C4()),Wg.exports}var Zg={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS;function N4(){if(wS)return _n;wS=1;var t=W0();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,f,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:d,containerInfo:f,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},_n.flushSync=function(d){var f=u.T,g=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=f,i.p=g,i.d.f()}},_n.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},_n.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},_n.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,x=h(g,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:S}):g==="script"&&i.d.X(d,{crossOrigin:x,integrity:b,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},_n.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},_n.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,x=h(g,f.crossOrigin);i.d.L(d,g,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},_n.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},_n.requestFormReset=function(d){i.d.r(d)},_n.unstable_batchedUpdates=function(d,f){return d(f)},_n.useFormState=function(d,f,g){return u.H.useFormState(d,f,g)},_n.useFormStatus=function(){return u.H.useHostTransitionStatus()},_n.version="19.2.4",_n}var CS;function R4(){if(CS)return Zg.exports;CS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zg.exports=N4(),Zg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS;function k4(){if(AS)return cc;AS=1;var t=A4(),e=W0(),n=R4();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function f(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,c=a;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return d(p),r;if(v===c)return d(p),a;v=v.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=v;else{for(var E=!1,N=p.child;N;){if(N===l){E=!0,l=p,c=v;break}if(N===c){E=!0,c=p,l=v;break}N=N.sibling}if(!E){for(N=v.child;N;){if(N===l){E=!0,l=v,c=p;break}if(N===c){E=!0,c=v,l=p;break}N=N.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),L=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var j=Symbol.for("react.client.reference");function fe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===j?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case D:return"Profiler";case A:return"StrictMode";case J:return"Suspense";case F:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case L:return r.displayName||"Context";case q:return(r._context.displayName||"Context")+".Consumer";case ee:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return a=r.displayName||null,a!==null?a:fe(r.type)||"Memo";case w:a=r._payload,r=r._init;try{return fe(r(a))}catch{}}return null}var ce=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Re=[],z=-1;function G(r){return{current:r}}function re(r){0>z||(r.current=Re[z],Re[z]=null,z--)}function O(r,a){z++,Re[z]=r.current,r.current=a}var ye=G(null),Te=G(null),Ee=G(null),Ve=G(null);function gt(r,a){switch(O(Ee,a),O(Te,r),O(ye,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?F_(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=F_(a),r=H_(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}re(ye),O(ye,r)}function at(){re(ye),re(Te),re(Ee)}function cn(r){r.memoizedState!==null&&O(Ve,r);var a=ye.current,l=H_(a,r.type);a!==l&&(O(Te,r),O(ye,l))}function Vn(r){Te.current===r&&(re(ye),re(Te)),Ve.current===r&&(re(Ve),sc._currentValue=ge)}var Nr,vs;function Jn(r){if(Nr===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Nr=a&&a[1]||"",vs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nr+r+vs}var Ki=!1;function Rr(r,a){if(!r||Ki)return"";Ki=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var Z=te}Reflect.construct(r,[],le)}else{try{le.call()}catch(te){Z=te}r.call(le.prototype)}}else{try{throw Error()}catch(te){Z=te}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),E=v[0],N=v[1];if(E&&N){var H=E.split(`
`),W=N.split(`
`);for(p=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(c===H.length||p===W.length)for(c=H.length-1,p=W.length-1;1<=c&&0<=p&&H[c]!==W[p];)p--;for(;1<=c&&0<=p;c--,p--)if(H[c]!==W[p]){if(c!==1||p!==1)do if(c--,p--,0>p||H[c]!==W[p]){var se=`
`+H[c].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=c&&0<=p);break}}}finally{Ki=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Jn(l):""}function Io(r,a){switch(r.tag){case 26:case 27:case 5:return Jn(r.type);case 16:return Jn("Lazy");case 13:return r.child!==a&&a!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Rr(r.type,!1);case 11:return Rr(r.type.render,!1);case 1:return Rr(r.type,!0);case 31:return Jn("Activity");default:return""}}function Mo(r){try{var a="",l=null;do a+=Io(r,l),l=r,r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var kr=Object.prototype.hasOwnProperty,Yi=t.unstable_scheduleCallback,xs=t.unstable_cancelCallback,cu=t.unstable_shouldYield,Ma=t.unstable_requestPaint,Yt=t.unstable_now,Do=t.unstable_getCurrentPriorityLevel,ie=t.unstable_ImmediatePriority,de=t.unstable_UserBlockingPriority,Ce=t.unstable_NormalPriority,ze=t.unstable_LowPriority,Ze=t.unstable_IdlePriority,Rn=t.log,kn=t.unstable_setDisableYieldValue,en=null,Nt=null;function tn(r){if(typeof Rn=="function"&&kn(r),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(en,r)}catch{}}var ut=Math.clz32?Math.clz32:Rh,Qi=Math.log,In=Math.LN2;function Rh(r){return r>>>=0,r===0?32:31-(Qi(r)/In|0)|0}var Da=256,Xi=262144,bs=4194304;function Di(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function mi(r,a,l){var c=r.pendingLanes;if(c===0)return 0;var p=0,v=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var N=c&134217727;return N!==0?(c=N&~v,c!==0?p=Di(c):(E&=N,E!==0?p=Di(E):l||(l=N&~r,l!==0&&(p=Di(l))))):(N=c&~v,N!==0?p=Di(N):E!==0?p=Di(E):l||(l=c&~r,l!==0&&(p=Di(l)))),p===0?0:a!==0&&a!==p&&(a&v)===0&&(v=p&-p,l=a&-a,v>=l||v===32&&(l&4194048)!==0)?a:p}function _s(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Po(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var r=bs;return bs<<=1,(bs&62914560)===0&&(bs=4194304),r}function Ir(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Ss(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function hn(r,a,l,c,p,v){var E=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var N=r.entanglements,H=r.expirationTimes,W=r.hiddenUpdates;for(l=E&~l;0<l;){var se=31-ut(l),le=1<<se;N[se]=0,H[se]=-1;var Z=W[se];if(Z!==null)for(W[se]=null,se=0;se<Z.length;se++){var te=Z[se];te!==null&&(te.lane&=-536870913)}l&=~le}c!==0&&du(r,c,0),v!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=v&~(E&~a))}function du(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-ut(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function Es(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var c=31-ut(l),p=1<<c;p&a|r[c]&a&&(r[c]|=a),l&=~p}}function Ts(r,a){var l=a&-a;return l=(l&42)!==0?1:fu(l),(l&(r.suspendedLanes|a))!==0?0:l}function fu(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function mu(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Mr(){var r=ae.p;return r!==0?r:(r=window.event,r===void 0?32:dS(r.type))}function kh(r,a){var l=ae.p;try{return ae.p=r,a()}finally{ae.p=l}}var Wi=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Wi,dn="__reactProps$"+Wi,Ji="__reactContainer$"+Wi,ws="__reactEvents$"+Wi,Zi="__reactListeners$"+Wi,Ih="__reactHandles$"+Wi,pu="__reactResources$"+Wi,Dr="__reactMarker$"+Wi;function Pa(r){delete r[Rt],delete r[dn],delete r[ws],delete r[Zi],delete r[Ih]}function Pr(r){var a=r[Rt];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Ji]||l[Rt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=X_(r);r!==null;){if(l=r[Rt])return l;r=X_(r)}return a}r=l,l=r.parentNode}return null}function Or(r){if(r=r[Rt]||r[Ji]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function Oa(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Pi(r){var a=r[pu];return a||(a=r[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Pt(r){r[Dr]=!0}var Oo=new Set,Cs={};function Mn(r,a){er(r,a),er(r+"Capture",a)}function er(r,a){for(Cs[r]=a,r=0;r<a.length;r++)Oo.add(a[r])}var Qm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gu={},yu={};function Mh(r){return kr.call(yu,r)?!0:kr.call(gu,r)?!1:Qm.test(r)?yu[r]=!0:(gu[r]=!0,!1)}function As(r,a,l){if(Mh(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function Ns(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function pi(r,a,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+c)}}function Dn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Dh(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Xm(r,a,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,v=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(E){l=""+E,v.call(this,E)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function jo(r){if(!r._valueTracker){var a=Dh(r)?"checked":"value";r._valueTracker=Xm(r,a,""+r[a])}}function vu(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return r&&(c=Dh(r)?r.checked?"true":"false":r.value),r=c,r!==l?(a.setValue(r),!0):!1}function Lo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var jr=/[\n"\\]/g;function kt(r){return r.replace(jr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Rs(r,a,l,c,p,v,E,N){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Dn(a)):r.value!==""+Dn(a)&&(r.value=""+Dn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Vo(r,E,Dn(a)):l!=null?Vo(r,E,Dn(l)):c!=null&&r.removeAttribute("value"),p==null&&v!=null&&(r.defaultChecked=!!v),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+Dn(N):r.removeAttribute("name")}function ja(r,a,l,c,p,v,E,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),a!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||a!=null)){jo(r);return}l=l!=null?""+Dn(l):"",a=a!=null?""+Dn(a):l,N||a===r.value||(r.value=a),r.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=N?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),jo(r)}function Vo(r,a,l){a==="number"&&Lo(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function et(r,a,l,c){if(r=r.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=a.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+Dn(l),a=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function La(r,a,l){if(a!=null&&(a=""+Dn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+Dn(l):""}function ks(r,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(ce(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Dn(a),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),jo(r)}function gi(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Wm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(r,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,l):typeof l!="number"||l===0||Wm.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function Ph(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&xu(r,p,c)}else for(var v in a)a.hasOwnProperty(v)&&xu(r,v,a[v])}function bu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(r){return Zm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function nn(){}var Bo=null;function Uo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Lr=null,Zn=null;function Oh(r){var a=Or(r);if(a&&(r=a.stateNode)){var l=r[dn]||null;e:switch(r=a.stateNode,a.type){case"input":if(Rs(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+kt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==r&&c.form===r.form){var p=c[dn]||null;if(!p)throw Error(i(90));Rs(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===r.form&&vu(c)}break e;case"textarea":La(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&et(r,!!l.multiple,a,!1)}}}var _u=!1;function jh(r,a,l){if(_u)return r(a,l);_u=!0;try{var c=r(a);return c}finally{if(_u=!1,(Lr!==null||Zn!==null)&&(Md(),Lr&&(a=Lr,r=Zn,Zn=Lr=null,Oh(a),r)))for(a=0;a<r.length;a++)Oh(r[a])}}function Bn(r,a){var l=r.stateNode;if(l===null)return null;var c=l[dn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Su=!1;if(Oi)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){Su=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{Su=!1}var ei=null,zo=null,ir=null;function Is(){if(ir)return ir;var r,a=zo,l=a.length,c,p="value"in ei?ei.value:ei.textContent,v=p.length;for(r=0;r<l&&a[r]===p[r];r++);var E=l-r;for(c=1;c<=E&&a[l-c]===p[v-c];c++);return ir=p.slice(r,1<c?1-c:void 0)}function Va(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ms(){return!0}function xt(){return!1}function bn(r){function a(l,c,p,v,E){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(l=r[N],this[N]=l?l(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ms:xt,this.isPropagationStopped=xt,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),a}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=bn(Vr),Ds=x({},Vr,{view:0,detail:0}),Lh=bn(Ds),Ps,Fo,Pn,Ua=x({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Pn&&(Pn&&r.type==="mousemove"?(Ps=r.screenX-Pn.screenX,Fo=r.screenY-Pn.screenY):Fo=Ps=0,Pn=r),Ps)},movementY:function(r){return"movementY"in r?r.movementY:Fo}}),Vh=bn(Ua),za=x({},Ua,{dataTransfer:0}),Bh=bn(za),Eu=x({},Ds,{relatedTarget:0}),Os=bn(Eu),Uh=x({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ho=bn(Uh),ep=x({},Vr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),zh=bn(ep),Fa=x({},Vr,{data:0}),Tu=bn(Fa),Fh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hh(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Cu[r])?!!a[r]:!1}function js(){return Hh}var qh=x({},Ds,{key:function(r){if(r.key){var a=Fh[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Va(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?wu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(r){return r.type==="keypress"?Va(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Va(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Gh=bn(qh),Br=x({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=bn(Br),$h=x({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),Kh=bn($h),Yh=x({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qo=bn(Yh),On=x({},Ua,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qh=bn(On),Xh=x({},Vr,{newState:0,oldState:0}),Ls=bn(Xh),m=[9,13,27,32],_=Oi&&"CompositionEvent"in window,T=null;Oi&&"documentMode"in document&&(T=document.documentMode);var k=Oi&&"TextEvent"in window&&!T,Y=Oi&&(!_||T&&8<T&&11>=T),ne=" ",pe=!1;function ot(r,a){switch(r){case"keyup":return m.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fe=!1;function rn(r,a){switch(r){case"compositionend":return Bt(a);case"keypress":return a.which!==32?null:(pe=!0,ne);case"textInput":return r=a.data,r===ne&&pe?null:r;default:return null}}function sn(r,a){if(Fe)return r==="compositionend"||!_&&ot(r,a)?(r=Is(),ir=zo=ei=null,Fe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Y&&a.locale!=="ko"?null:a.data;default:return null}}var Vs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Vs[r.type]:a==="textarea"}function Ha(r,a,l,c){Lr?Zn?Zn.push(c):Zn=[c]:Lr=c,a=Bd(a,"onChange"),0<a.length&&(l=new Ba("onChange","change",null,l,c),r.push({event:l,listeners:a}))}var Ur=null,Nu=null;function Xk(r){j_(r,0)}function Wh(r){var a=Oa(r);if(vu(a))return r}function t1(r,a){if(r==="change")return a}var n1=!1;if(Oi){var tp;if(Oi){var np="oninput"in document;if(!np){var i1=document.createElement("div");i1.setAttribute("oninput","return;"),np=typeof i1.oninput=="function"}tp=np}else tp=!1;n1=tp&&(!document.documentMode||9<document.documentMode)}function r1(){Ur&&(Ur.detachEvent("onpropertychange",s1),Nu=Ur=null)}function s1(r){if(r.propertyName==="value"&&Wh(Nu)){var a=[];Ha(a,Nu,r,Uo(r)),jh(Xk,a)}}function Wk(r,a,l){r==="focusin"?(r1(),Ur=a,Nu=l,Ur.attachEvent("onpropertychange",s1)):r==="focusout"&&r1()}function Jk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Wh(Nu)}function Zk(r,a){if(r==="click")return Wh(a)}function eI(r,a){if(r==="input"||r==="change")return Wh(a)}function tI(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var ti=typeof Object.is=="function"?Object.is:tI;function Ru(r,a){if(ti(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!kr.call(a,p)||!ti(r[p],a[p]))return!1}return!0}function a1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function o1(r,a){var l=a1(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=a&&c>=a)return{node:l,offset:a-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=a1(l)}}function l1(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?l1(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function u1(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Lo(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Lo(r.document)}return a}function ip(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var nI=Oi&&"documentMode"in document&&11>=document.documentMode,Go=null,rp=null,ku=null,sp=!1;function c1(r,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;sp||Go==null||Go!==Lo(c)||(c=Go,"selectionStart"in c&&ip(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ku&&Ru(ku,c)||(ku=c,c=Bd(rp,"onSelect"),0<c.length&&(a=new Ba("onSelect","select",null,a,l),r.push({event:a,listeners:c}),a.target=Go)))}function qa(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var $o={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},ap={},h1={};Oi&&(h1=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Ga(r){if(ap[r])return ap[r];if(!$o[r])return r;var a=$o[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in h1)return ap[r]=a[l];return r}var d1=Ga("animationend"),f1=Ga("animationiteration"),m1=Ga("animationstart"),iI=Ga("transitionrun"),rI=Ga("transitionstart"),sI=Ga("transitioncancel"),p1=Ga("transitionend"),g1=new Map,op="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");op.push("scrollEnd");function ji(r,a){g1.set(r,a),Mn(a,[r])}var Jh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},yi=[],Ko=0,lp=0;function Zh(){for(var r=Ko,a=lp=Ko=0;a<r;){var l=yi[a];yi[a++]=null;var c=yi[a];yi[a++]=null;var p=yi[a];yi[a++]=null;var v=yi[a];if(yi[a++]=null,c!==null&&p!==null){var E=c.pending;E===null?p.next=p:(p.next=E.next,E.next=p),c.pending=p}v!==0&&y1(l,p,v)}}function ed(r,a,l,c){yi[Ko++]=r,yi[Ko++]=a,yi[Ko++]=l,yi[Ko++]=c,lp|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function up(r,a,l,c){return ed(r,a,l,c),td(r)}function $a(r,a){return ed(r,null,null,a),td(r)}function y1(r,a,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,v=r.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(p=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,p&&a!==null&&(p=31-ut(l),r=v.hiddenUpdates,c=r[p],c===null?r[p]=[a]:c.push(a),a.lane=l|536870912),v):null}function td(r){if(50<Ju)throw Ju=0,vg=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Yo={};function aI(r,a,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(r,a,l,c){return new aI(r,a,l,c)}function cp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function zr(r,a){var l=r.alternate;return l===null?(l=ni(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function v1(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function nd(r,a,l,c,p,v){var E=0;if(c=r,typeof r=="function")cp(r)&&(E=1);else if(typeof r=="string")E=h4(r,l,ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=ni(31,l,a,p),r.elementType=M,r.lanes=v,r;case R:return Ka(l.children,p,v,a);case A:E=8,p|=24;break;case D:return r=ni(12,l,a,p|2),r.elementType=D,r.lanes=v,r;case J:return r=ni(13,l,a,p),r.elementType=J,r.lanes=v,r;case F:return r=ni(19,l,a,p),r.elementType=F,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:E=10;break e;case q:E=9;break e;case ee:E=11;break e;case I:E=14;break e;case w:E=16,c=null;break e}E=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=ni(E,l,a,p),a.elementType=r,a.type=c,a.lanes=v,a}function Ka(r,a,l,c){return r=ni(7,r,c,a),r.lanes=l,r}function hp(r,a,l){return r=ni(6,r,null,a),r.lanes=l,r}function x1(r){var a=ni(18,null,null,0);return a.stateNode=r,a}function dp(r,a,l){return a=ni(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var b1=new WeakMap;function vi(r,a){if(typeof r=="object"&&r!==null){var l=b1.get(r);return l!==void 0?l:(a={value:r,source:a,stack:Mo(a)},b1.set(r,a),a)}return{value:r,source:a,stack:Mo(a)}}var Qo=[],Xo=0,id=null,Iu=0,xi=[],bi=0,Bs=null,rr=1,sr="";function Fr(r,a){Qo[Xo++]=Iu,Qo[Xo++]=id,id=r,Iu=a}function _1(r,a,l){xi[bi++]=rr,xi[bi++]=sr,xi[bi++]=Bs,Bs=r;var c=rr;r=sr;var p=32-ut(c)-1;c&=~(1<<p),l+=1;var v=32-ut(a)+p;if(30<v){var E=p-p%5;v=(c&(1<<E)-1).toString(32),c>>=E,p-=E,rr=1<<32-ut(a)+p|l<<p|c,sr=v+r}else rr=1<<v|l<<p|c,sr=r}function fp(r){r.return!==null&&(Fr(r,1),_1(r,1,0))}function mp(r){for(;r===id;)id=Qo[--Xo],Qo[Xo]=null,Iu=Qo[--Xo],Qo[Xo]=null;for(;r===Bs;)Bs=xi[--bi],xi[bi]=null,sr=xi[--bi],xi[bi]=null,rr=xi[--bi],xi[bi]=null}function S1(r,a){xi[bi++]=rr,xi[bi++]=sr,xi[bi++]=Bs,rr=a.id,sr=a.overflow,Bs=r}var fn=null,bt=null,We=!1,Us=null,_i=!1,pp=Error(i(519));function zs(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mu(vi(a,r)),pp}function E1(r){var a=r.stateNode,l=r.type,c=r.memoizedProps;switch(a[Rt]=r,a[dn]=c,l){case"dialog":$e("cancel",a),$e("close",a);break;case"iframe":case"object":case"embed":$e("load",a);break;case"video":case"audio":for(l=0;l<ec.length;l++)$e(ec[l],a);break;case"source":$e("error",a);break;case"img":case"image":case"link":$e("error",a),$e("load",a);break;case"details":$e("toggle",a);break;case"input":$e("invalid",a),ja(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$e("invalid",a);break;case"textarea":$e("invalid",a),ks(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||U_(a.textContent,l)?(c.popover!=null&&($e("beforetoggle",a),$e("toggle",a)),c.onScroll!=null&&$e("scroll",a),c.onScrollEnd!=null&&$e("scrollend",a),c.onClick!=null&&(a.onclick=nn),a=!0):a=!1,a||zs(r,!0)}function T1(r){for(fn=r.return;fn;)switch(fn.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:fn=fn.return}}function Wo(r){if(r!==fn)return!1;if(!We)return T1(r),We=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Dg(r.type,r.memoizedProps)),l=!l),l&&bt&&zs(r),T1(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));bt=Q_(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));bt=Q_(r)}else a===27?(a=bt,ta(r.type)?(r=Vg,Vg=null,bt=r):bt=a):bt=fn?Ei(r.stateNode.nextSibling):null;return!0}function Ya(){bt=fn=null,We=!1}function gp(){var r=Us;return r!==null&&(qn===null?qn=r:qn.push.apply(qn,r),Us=null),r}function Mu(r){Us===null?Us=[r]:Us.push(r)}var yp=G(null),Qa=null,Hr=null;function Fs(r,a,l){O(yp,a._currentValue),a._currentValue=l}function qr(r){r._currentValue=yp.current,re(yp)}function vp(r,a,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===l)break;r=r.return}}function xp(r,a,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var v=p.dependencies;if(v!==null){var E=p.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=p;for(var H=0;H<a.length;H++)if(N.context===a[H]){v.lanes|=l,N=v.alternate,N!==null&&(N.lanes|=l),vp(v.return,l,r),c||(E=null);break e}v=N.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(i(341));E.lanes|=l,v=E.alternate,v!==null&&(v.lanes|=l),vp(E,l,r),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===r){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Jo(r,a,l,c){r=null;for(var p=a,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var N=p.type;ti(p.pendingProps.value,E.value)||(r!==null?r.push(N):r=[N])}}else if(p===Ve.current){if(E=p.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(sc):r=[sc])}p=p.return}r!==null&&xp(a,r,l,c),a.flags|=262144}function rd(r){for(r=r.firstContext;r!==null;){if(!ti(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Xa(r){Qa=r,Hr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function mn(r){return w1(Qa,r)}function sd(r,a){return Qa===null&&Xa(r),w1(r,a)}function w1(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Hr===null){if(r===null)throw Error(i(308));Hr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Hr=Hr.next=a;return l}var oI=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},lI=t.unstable_scheduleCallback,uI=t.unstable_NormalPriority,Ut={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bp(){return{controller:new oI,data:new Map,refCount:0}}function Du(r){r.refCount--,r.refCount===0&&lI(uI,function(){r.controller.abort()})}var Pu=null,_p=0,Zo=0,el=null;function cI(r,a){if(Pu===null){var l=Pu=[];_p=0,Zo=Tg(),el={status:"pending",value:void 0,then:function(c){l.push(c)}}}return _p++,a.then(C1,C1),a}function C1(){if(--_p===0&&Pu!==null){el!==null&&(el.status="fulfilled");var r=Pu;Pu=null,Zo=0,el=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function hI(r,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var A1=Q.S;Q.S=function(r,a){c_=Yt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&cI(r,a),A1!==null&&A1(r,a)};var Wa=G(null);function Sp(){var r=Wa.current;return r!==null?r:pt.pooledCache}function ad(r,a){a===null?O(Wa,Wa.current):O(Wa,a.pool)}function N1(){var r=Sp();return r===null?null:{parent:Ut._currentValue,pool:r}}var tl=Error(i(460)),Ep=Error(i(474)),od=Error(i(542)),ld={then:function(){}};function R1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function k1(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(nn,nn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,M1(r),r;default:if(typeof a.status=="string")a.then(nn,nn);else{if(r=pt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,M1(r),r}throw Za=a,tl}}function Ja(r){try{var a=r._init;return a(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Za=l,tl):l}}var Za=null;function I1(){if(Za===null)throw Error(i(459));var r=Za;return Za=null,r}function M1(r){if(r===tl||r===od)throw Error(i(483))}var nl=null,Ou=0;function ud(r){var a=Ou;return Ou+=1,nl===null&&(nl=[]),k1(nl,r,a)}function ju(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function cd(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function D1(r){function a(K,$){if(r){var X=K.deletions;X===null?(K.deletions=[$],K.flags|=16):X.push($)}}function l(K,$){if(!r)return null;for(;$!==null;)a(K,$),$=$.sibling;return null}function c(K){for(var $=new Map;K!==null;)K.key!==null?$.set(K.key,K):$.set(K.index,K),K=K.sibling;return $}function p(K,$){return K=zr(K,$),K.index=0,K.sibling=null,K}function v(K,$,X){return K.index=X,r?(X=K.alternate,X!==null?(X=X.index,X<$?(K.flags|=67108866,$):X):(K.flags|=67108866,$)):(K.flags|=1048576,$)}function E(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function N(K,$,X,oe){return $===null||$.tag!==6?($=hp(X,K.mode,oe),$.return=K,$):($=p($,X),$.return=K,$)}function H(K,$,X,oe){var we=X.type;return we===R?se(K,$,X.props.children,oe,X.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===w&&Ja(we)===$.type)?($=p($,X.props),ju($,X),$.return=K,$):($=nd(X.type,X.key,X.props,null,K.mode,oe),ju($,X),$.return=K,$)}function W(K,$,X,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==X.containerInfo||$.stateNode.implementation!==X.implementation?($=dp(X,K.mode,oe),$.return=K,$):($=p($,X.children||[]),$.return=K,$)}function se(K,$,X,oe,we){return $===null||$.tag!==7?($=Ka(X,K.mode,oe,we),$.return=K,$):($=p($,X),$.return=K,$)}function le(K,$,X){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=hp(""+$,K.mode,X),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return X=nd($.type,$.key,$.props,null,K.mode,X),ju(X,$),X.return=K,X;case C:return $=dp($,K.mode,X),$.return=K,$;case w:return $=Ja($),le(K,$,X)}if(ce($)||U($))return $=Ka($,K.mode,X,null),$.return=K,$;if(typeof $.then=="function")return le(K,ud($),X);if($.$$typeof===L)return le(K,sd(K,$),X);cd(K,$)}return null}function Z(K,$,X,oe){var we=$!==null?$.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return we!==null?null:N(K,$,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return X.key===we?H(K,$,X,oe):null;case C:return X.key===we?W(K,$,X,oe):null;case w:return X=Ja(X),Z(K,$,X,oe)}if(ce(X)||U(X))return we!==null?null:se(K,$,X,oe,null);if(typeof X.then=="function")return Z(K,$,ud(X),oe);if(X.$$typeof===L)return Z(K,$,sd(K,X),oe);cd(K,X)}return null}function te(K,$,X,oe,we){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(X)||null,N($,K,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case S:return K=K.get(oe.key===null?X:oe.key)||null,H($,K,oe,we);case C:return K=K.get(oe.key===null?X:oe.key)||null,W($,K,oe,we);case w:return oe=Ja(oe),te(K,$,X,oe,we)}if(ce(oe)||U(oe))return K=K.get(X)||null,se($,K,oe,we,null);if(typeof oe.then=="function")return te(K,$,X,ud(oe),we);if(oe.$$typeof===L)return te(K,$,X,sd($,oe),we);cd($,oe)}return null}function xe(K,$,X,oe){for(var we=null,tt=null,be=$,Be=$=0,Ye=null;be!==null&&Be<X.length;Be++){be.index>Be?(Ye=be,be=null):Ye=be.sibling;var nt=Z(K,be,X[Be],oe);if(nt===null){be===null&&(be=Ye);break}r&&be&&nt.alternate===null&&a(K,be),$=v(nt,$,Be),tt===null?we=nt:tt.sibling=nt,tt=nt,be=Ye}if(Be===X.length)return l(K,be),We&&Fr(K,Be),we;if(be===null){for(;Be<X.length;Be++)be=le(K,X[Be],oe),be!==null&&($=v(be,$,Be),tt===null?we=be:tt.sibling=be,tt=be);return We&&Fr(K,Be),we}for(be=c(be);Be<X.length;Be++)Ye=te(be,K,Be,X[Be],oe),Ye!==null&&(r&&Ye.alternate!==null&&be.delete(Ye.key===null?Be:Ye.key),$=v(Ye,$,Be),tt===null?we=Ye:tt.sibling=Ye,tt=Ye);return r&&be.forEach(function(aa){return a(K,aa)}),We&&Fr(K,Be),we}function Ne(K,$,X,oe){if(X==null)throw Error(i(151));for(var we=null,tt=null,be=$,Be=$=0,Ye=null,nt=X.next();be!==null&&!nt.done;Be++,nt=X.next()){be.index>Be?(Ye=be,be=null):Ye=be.sibling;var aa=Z(K,be,nt.value,oe);if(aa===null){be===null&&(be=Ye);break}r&&be&&aa.alternate===null&&a(K,be),$=v(aa,$,Be),tt===null?we=aa:tt.sibling=aa,tt=aa,be=Ye}if(nt.done)return l(K,be),We&&Fr(K,Be),we;if(be===null){for(;!nt.done;Be++,nt=X.next())nt=le(K,nt.value,oe),nt!==null&&($=v(nt,$,Be),tt===null?we=nt:tt.sibling=nt,tt=nt);return We&&Fr(K,Be),we}for(be=c(be);!nt.done;Be++,nt=X.next())nt=te(be,K,Be,nt.value,oe),nt!==null&&(r&&nt.alternate!==null&&be.delete(nt.key===null?Be:nt.key),$=v(nt,$,Be),tt===null?we=nt:tt.sibling=nt,tt=nt);return r&&be.forEach(function(S4){return a(K,S4)}),We&&Fr(K,Be),we}function mt(K,$,X,oe){if(typeof X=="object"&&X!==null&&X.type===R&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case S:e:{for(var we=X.key;$!==null;){if($.key===we){if(we=X.type,we===R){if($.tag===7){l(K,$.sibling),oe=p($,X.props.children),oe.return=K,K=oe;break e}}else if($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===w&&Ja(we)===$.type){l(K,$.sibling),oe=p($,X.props),ju(oe,X),oe.return=K,K=oe;break e}l(K,$);break}else a(K,$);$=$.sibling}X.type===R?(oe=Ka(X.props.children,K.mode,oe,X.key),oe.return=K,K=oe):(oe=nd(X.type,X.key,X.props,null,K.mode,oe),ju(oe,X),oe.return=K,K=oe)}return E(K);case C:e:{for(we=X.key;$!==null;){if($.key===we)if($.tag===4&&$.stateNode.containerInfo===X.containerInfo&&$.stateNode.implementation===X.implementation){l(K,$.sibling),oe=p($,X.children||[]),oe.return=K,K=oe;break e}else{l(K,$);break}else a(K,$);$=$.sibling}oe=dp(X,K.mode,oe),oe.return=K,K=oe}return E(K);case w:return X=Ja(X),mt(K,$,X,oe)}if(ce(X))return xe(K,$,X,oe);if(U(X)){if(we=U(X),typeof we!="function")throw Error(i(150));return X=we.call(X),Ne(K,$,X,oe)}if(typeof X.then=="function")return mt(K,$,ud(X),oe);if(X.$$typeof===L)return mt(K,$,sd(K,X),oe);cd(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,$!==null&&$.tag===6?(l(K,$.sibling),oe=p($,X),oe.return=K,K=oe):(l(K,$),oe=hp(X,K.mode,oe),oe.return=K,K=oe),E(K)):l(K,$)}return function(K,$,X,oe){try{Ou=0;var we=mt(K,$,X,oe);return nl=null,we}catch(be){if(be===tl||be===od)throw be;var tt=ni(29,be,null,K.mode);return tt.lanes=oe,tt.return=K,tt}finally{}}}var eo=D1(!0),P1=D1(!1),Hs=!1;function Tp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wp(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function qs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Gs(r,a,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=td(r),y1(r,null,l),a}return ed(r,c,a,l),td(r)}function Lu(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,Es(r,l)}}function Cp(r,a){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?p=v=a:v=v.next=a}else p=v=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Ap=!1;function Vu(){if(Ap){var r=el;if(r!==null)throw r}}function Bu(r,a,l,c){Ap=!1;var p=r.updateQueue;Hs=!1;var v=p.firstBaseUpdate,E=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var H=N,W=H.next;H.next=null,E===null?v=W:E.next=W,E=H;var se=r.alternate;se!==null&&(se=se.updateQueue,N=se.lastBaseUpdate,N!==E&&(N===null?se.firstBaseUpdate=W:N.next=W,se.lastBaseUpdate=H))}if(v!==null){var le=p.baseState;E=0,se=W=H=null,N=v;do{var Z=N.lane&-536870913,te=Z!==N.lane;if(te?(Ke&Z)===Z:(c&Z)===Z){Z!==0&&Z===Zo&&(Ap=!0),se!==null&&(se=se.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var xe=r,Ne=N;Z=a;var mt=l;switch(Ne.tag){case 1:if(xe=Ne.payload,typeof xe=="function"){le=xe.call(mt,le,Z);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ne.payload,Z=typeof xe=="function"?xe.call(mt,le,Z):xe,Z==null)break e;le=x({},le,Z);break e;case 2:Hs=!0}}Z=N.callback,Z!==null&&(r.flags|=64,te&&(r.flags|=8192),te=p.callbacks,te===null?p.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},se===null?(W=se=te,H=le):se=se.next=te,E|=Z;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;te=N,N=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);se===null&&(H=le),p.baseState=H,p.firstBaseUpdate=W,p.lastBaseUpdate=se,v===null&&(p.shared.lanes=0),Xs|=E,r.lanes=E,r.memoizedState=le}}function O1(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function j1(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)O1(l[r],a)}var il=G(null),hd=G(0);function L1(r,a){r=Zr,O(hd,r),O(il,a),Zr=r|a.baseLanes}function Np(){O(hd,Zr),O(il,il.current)}function Rp(){Zr=hd.current,re(il),re(hd)}var ii=G(null),Si=null;function $s(r){var a=r.alternate;O(Ot,Ot.current&1),O(ii,r),Si===null&&(a===null||il.current!==null||a.memoizedState!==null)&&(Si=r)}function kp(r){O(Ot,Ot.current),O(ii,r),Si===null&&(Si=r)}function V1(r){r.tag===22?(O(Ot,Ot.current),O(ii,r),Si===null&&(Si=r)):Ks()}function Ks(){O(Ot,Ot.current),O(ii,ii.current)}function ri(r){re(ii),Si===r&&(Si=null),re(Ot)}var Ot=G(0);function dd(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||jg(l)||Lg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Gr=0,Le=null,dt=null,zt=null,fd=!1,rl=!1,to=!1,md=0,Uu=0,sl=null,dI=0;function It(){throw Error(i(321))}function Ip(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!ti(r[l],a[l]))return!1;return!0}function Mp(r,a,l,c,p,v){return Gr=v,Le=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=r===null||r.memoizedState===null?_b:Kp,to=!1,v=l(c,p),to=!1,rl&&(v=U1(a,l,c,p)),B1(r),v}function B1(r){Q.H=Hu;var a=dt!==null&&dt.next!==null;if(Gr=0,zt=dt=Le=null,fd=!1,Uu=0,sl=null,a)throw Error(i(300));r===null||Ft||(r=r.dependencies,r!==null&&rd(r)&&(Ft=!0))}function U1(r,a,l,c){Le=r;var p=0;do{if(rl&&(sl=null),Uu=0,rl=!1,25<=p)throw Error(i(301));if(p+=1,zt=dt=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Q.H=Sb,v=a(l,c)}while(rl);return v}function fI(){var r=Q.H,a=r.useState()[0];return a=typeof a.then=="function"?zu(a):a,r=r.useState()[0],(dt!==null?dt.memoizedState:null)!==r&&(Le.flags|=1024),a}function Dp(){var r=md!==0;return md=0,r}function Pp(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Op(r){if(fd){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}fd=!1}Gr=0,zt=dt=Le=null,rl=!1,Uu=md=0,sl=null}function jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Le.memoizedState=zt=r:zt=zt.next=r,zt}function jt(){if(dt===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=dt.next;var a=zt===null?Le.memoizedState:zt.next;if(a!==null)zt=a,dt=r;else{if(r===null)throw Le.alternate===null?Error(i(467)):Error(i(310));dt=r,r={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},zt===null?Le.memoizedState=zt=r:zt=zt.next=r}return zt}function pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(r){var a=Uu;return Uu+=1,sl===null&&(sl=[]),r=k1(sl,r,a),a=Le,(zt===null?a.memoizedState:zt.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?_b:Kp),r}function gd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return zu(r);if(r.$$typeof===L)return mn(r)}throw Error(i(438,String(r)))}function jp(r){var a=null,l=Le.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Le.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=pd(),Le.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),c=0;c<r;c++)l[c]=B;return a.index++,l}function $r(r,a){return typeof a=="function"?a(r):a}function yd(r){var a=jt();return Lp(a,dt,r)}function Lp(r,a,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=r.baseQueue,v=c.pending;if(v!==null){if(p!==null){var E=p.next;p.next=v.next,v.next=E}a.baseQueue=p=v,c.pending=null}if(v=r.baseState,p===null)r.memoizedState=v;else{a=p.next;var N=E=null,H=null,W=a,se=!1;do{var le=W.lane&-536870913;if(le!==W.lane?(Ke&le)===le:(Gr&le)===le){var Z=W.revertLane;if(Z===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),le===Zo&&(se=!0);else if((Gr&Z)===Z){W=W.next,Z===Zo&&(se=!0);continue}else le={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},H===null?(N=H=le,E=v):H=H.next=le,Le.lanes|=Z,Xs|=Z;le=W.action,to&&l(v,le),v=W.hasEagerState?W.eagerState:l(v,le)}else Z={lane:le,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},H===null?(N=H=Z,E=v):H=H.next=Z,Le.lanes|=le,Xs|=le;W=W.next}while(W!==null&&W!==a);if(H===null?E=v:H.next=N,!ti(v,r.memoizedState)&&(Ft=!0,se&&(l=el,l!==null)))throw l;r.memoizedState=v,r.baseState=E,r.baseQueue=H,c.lastRenderedState=v}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Vp(r){var a=jt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,v=a.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do v=r(v,E.action),E=E.next;while(E!==p);ti(v,a.memoizedState)||(Ft=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),l.lastRenderedState=v}return[v,c]}function z1(r,a,l){var c=Le,p=jt(),v=We;if(v){if(l===void 0)throw Error(i(407));l=l()}else l=a();var E=!ti((dt||p).memoizedState,l);if(E&&(p.memoizedState=l,Ft=!0),p=p.queue,zp(q1.bind(null,c,p,r),[r]),p.getSnapshot!==a||E||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,al(9,{destroy:void 0},H1.bind(null,c,p,l,a),null),pt===null)throw Error(i(349));v||(Gr&127)!==0||F1(c,a,l)}return l}function F1(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Le.updateQueue,a===null?(a=pd(),Le.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function H1(r,a,l,c){a.value=l,a.getSnapshot=c,G1(a)&&$1(r)}function q1(r,a,l){return l(function(){G1(a)&&$1(r)})}function G1(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!ti(r,l)}catch{return!0}}function $1(r){var a=$a(r,2);a!==null&&Gn(a,r,2)}function Bp(r){var a=jn();if(typeof r=="function"){var l=r;if(r=l(),to){tn(!0);try{l()}finally{tn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:r},a}function K1(r,a,l,c){return r.baseState=l,Lp(r,dt,typeof c=="function"?c:$r)}function mI(r,a,l,c,p){if(bd(r))throw Error(i(485));if(r=a.action,r!==null){var v={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};Q.T!==null?l(!0):v.isTransition=!1,c(v),l=a.pending,l===null?(v.next=a.pending=v,Y1(a,v)):(v.next=l.next,a.pending=l.next=v)}}function Y1(r,a){var l=a.action,c=a.payload,p=r.state;if(a.isTransition){var v=Q.T,E={};Q.T=E;try{var N=l(p,c),H=Q.S;H!==null&&H(E,N),Q1(r,a,N)}catch(W){Up(r,a,W)}finally{v!==null&&E.types!==null&&(v.types=E.types),Q.T=v}}else try{v=l(p,c),Q1(r,a,v)}catch(W){Up(r,a,W)}}function Q1(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){X1(r,a,c)},function(c){return Up(r,a,c)}):X1(r,a,l)}function X1(r,a,l){a.status="fulfilled",a.value=l,W1(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,Y1(r,l)))}function Up(r,a,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,W1(a),a=a.next;while(a!==c)}r.action=null}function W1(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function J1(r,a){return a}function Z1(r,a){if(We){var l=pt.formState;if(l!==null){e:{var c=Le;if(We){if(bt){t:{for(var p=bt,v=_i;p.nodeType!==8;){if(!v){p=null;break t}if(p=Ei(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){bt=Ei(p.nextSibling),c=p.data==="F!";break e}}zs(c)}c=!1}c&&(a=l[0])}}return l=jn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J1,lastRenderedState:a},l.queue=c,l=vb.bind(null,Le,c),c.dispatch=l,c=Bp(!1),v=$p.bind(null,Le,!1,c.queue),c=jn(),p={state:a,dispatch:null,action:r,pending:null},c.queue=p,l=mI.bind(null,Le,p,v,l),p.dispatch=l,c.memoizedState=r,[a,l,!1]}function eb(r){var a=jt();return tb(a,dt,r)}function tb(r,a,l){if(a=Lp(r,a,J1)[0],r=yd($r)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=zu(a)}catch(E){throw E===tl?od:E}else c=a;a=jt();var p=a.queue,v=p.dispatch;return l!==a.memoizedState&&(Le.flags|=2048,al(9,{destroy:void 0},pI.bind(null,p,l),null)),[c,v,r]}function pI(r,a){r.action=a}function nb(r){var a=jt(),l=dt;if(l!==null)return tb(a,l,r);jt(),a=a.memoizedState,l=jt();var c=l.queue.dispatch;return l.memoizedState=r,[a,c,!1]}function al(r,a,l,c){return r={tag:r,create:l,deps:c,inst:a,next:null},a=Le.updateQueue,a===null&&(a=pd(),Le.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,a.lastEffect=r),r}function ib(){return jt().memoizedState}function vd(r,a,l,c){var p=jn();Le.flags|=r,p.memoizedState=al(1|a,{destroy:void 0},l,c===void 0?null:c)}function xd(r,a,l,c){var p=jt();c=c===void 0?null:c;var v=p.memoizedState.inst;dt!==null&&c!==null&&Ip(c,dt.memoizedState.deps)?p.memoizedState=al(a,v,l,c):(Le.flags|=r,p.memoizedState=al(1|a,v,l,c))}function rb(r,a){vd(8390656,8,r,a)}function zp(r,a){xd(2048,8,r,a)}function gI(r){Le.flags|=4;var a=Le.updateQueue;if(a===null)a=pd(),Le.updateQueue=a,a.events=[r];else{var l=a.events;l===null?a.events=[r]:l.push(r)}}function sb(r){var a=jt().memoizedState;return gI({ref:a,nextImpl:r}),function(){if((rt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function ab(r,a){return xd(4,2,r,a)}function ob(r,a){return xd(4,4,r,a)}function lb(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function ub(r,a,l){l=l!=null?l.concat([r]):null,xd(4,4,lb.bind(null,a,r),l)}function Fp(){}function cb(r,a){var l=jt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Ip(a,c[1])?c[0]:(l.memoizedState=[r,a],r)}function hb(r,a){var l=jt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Ip(a,c[1]))return c[0];if(c=r(),to){tn(!0);try{r()}finally{tn(!1)}}return l.memoizedState=[c,a],c}function Hp(r,a,l){return l===void 0||(Gr&1073741824)!==0&&(Ke&261930)===0?r.memoizedState=a:(r.memoizedState=l,r=d_(),Le.lanes|=r,Xs|=r,l)}function db(r,a,l,c){return ti(l,a)?l:il.current!==null?(r=Hp(r,l,c),ti(r,a)||(Ft=!0),r):(Gr&42)===0||(Gr&1073741824)!==0&&(Ke&261930)===0?(Ft=!0,r.memoizedState=l):(r=d_(),Le.lanes|=r,Xs|=r,a)}function fb(r,a,l,c,p){var v=ae.p;ae.p=v!==0&&8>v?v:8;var E=Q.T,N={};Q.T=N,$p(r,!1,a,l);try{var H=p(),W=Q.S;if(W!==null&&W(N,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var se=hI(H,c);Fu(r,a,se,oi(r))}else Fu(r,a,c,oi(r))}catch(le){Fu(r,a,{then:function(){},status:"rejected",reason:le},oi())}finally{ae.p=v,E!==null&&N.types!==null&&(E.types=N.types),Q.T=E}}function yI(){}function qp(r,a,l,c){if(r.tag!==5)throw Error(i(476));var p=mb(r).queue;fb(r,p,a,ge,l===null?yI:function(){return pb(r),l(c)})}function mb(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:ge},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function pb(r){var a=mb(r);a.next===null&&(a=r.alternate.memoizedState),Fu(r,a.next.queue,{},oi())}function Gp(){return mn(sc)}function gb(){return jt().memoizedState}function yb(){return jt().memoizedState}function vI(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=oi();r=qs(l);var c=Gs(a,r,l);c!==null&&(Gn(c,a,l),Lu(c,a,l)),a={cache:bp()},r.payload=a;return}a=a.return}}function xI(r,a,l){var c=oi();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bd(r)?xb(a,l):(l=up(r,a,l,c),l!==null&&(Gn(l,r,c),bb(l,a,c)))}function vb(r,a,l){var c=oi();Fu(r,a,l,c)}function Fu(r,a,l,c){var p={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(bd(r))xb(a,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var E=a.lastRenderedState,N=v(E,l);if(p.hasEagerState=!0,p.eagerState=N,ti(N,E))return ed(r,a,p,0),pt===null&&Zh(),!1}catch{}finally{}if(l=up(r,a,p,c),l!==null)return Gn(l,r,c),bb(l,a,c),!0}return!1}function $p(r,a,l,c){if(c={lane:2,revertLane:Tg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},bd(r)){if(a)throw Error(i(479))}else a=up(r,l,c,2),a!==null&&Gn(a,r,2)}function bd(r){var a=r.alternate;return r===Le||a!==null&&a===Le}function xb(r,a){rl=fd=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function bb(r,a,l){if((l&4194048)!==0){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,Es(r,l)}}var Hu={readContext:mn,use:gd,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};Hu.useEffectEvent=It;var _b={readContext:mn,use:gd,useCallback:function(r,a){return jn().memoizedState=[r,a===void 0?null:a],r},useContext:mn,useEffect:rb,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,vd(4194308,4,lb.bind(null,a,r),l)},useLayoutEffect:function(r,a){return vd(4194308,4,r,a)},useInsertionEffect:function(r,a){vd(4,2,r,a)},useMemo:function(r,a){var l=jn();a=a===void 0?null:a;var c=r();if(to){tn(!0);try{r()}finally{tn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(r,a,l){var c=jn();if(l!==void 0){var p=l(a);if(to){tn(!0);try{l(a)}finally{tn(!1)}}}else p=a;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=xI.bind(null,Le,r),[c.memoizedState,r]},useRef:function(r){var a=jn();return r={current:r},a.memoizedState=r},useState:function(r){r=Bp(r);var a=r.queue,l=vb.bind(null,Le,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:Fp,useDeferredValue:function(r,a){var l=jn();return Hp(l,r,a)},useTransition:function(){var r=Bp(!1);return r=fb.bind(null,Le,r.queue,!0,!1),jn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var c=Le,p=jn();if(We){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),pt===null)throw Error(i(349));(Ke&127)!==0||F1(c,a,l)}p.memoizedState=l;var v={value:l,getSnapshot:a};return p.queue=v,rb(q1.bind(null,c,v,r),[r]),c.flags|=2048,al(9,{destroy:void 0},H1.bind(null,c,v,l,a),null),l},useId:function(){var r=jn(),a=pt.identifierPrefix;if(We){var l=sr,c=rr;l=(c&~(1<<32-ut(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=md++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=dI++,a="_"+a+"r_"+l.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:Gp,useFormState:Z1,useActionState:Z1,useOptimistic:function(r){var a=jn();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=$p.bind(null,Le,!0,l),l.dispatch=a,[r,a]},useMemoCache:jp,useCacheRefresh:function(){return jn().memoizedState=vI.bind(null,Le)},useEffectEvent:function(r){var a=jn(),l={impl:r};return a.memoizedState=l,function(){if((rt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Kp={readContext:mn,use:gd,useCallback:cb,useContext:mn,useEffect:zp,useImperativeHandle:ub,useInsertionEffect:ab,useLayoutEffect:ob,useMemo:hb,useReducer:yd,useRef:ib,useState:function(){return yd($r)},useDebugValue:Fp,useDeferredValue:function(r,a){var l=jt();return db(l,dt.memoizedState,r,a)},useTransition:function(){var r=yd($r)[0],a=jt().memoizedState;return[typeof r=="boolean"?r:zu(r),a]},useSyncExternalStore:z1,useId:gb,useHostTransitionStatus:Gp,useFormState:eb,useActionState:eb,useOptimistic:function(r,a){var l=jt();return K1(l,dt,r,a)},useMemoCache:jp,useCacheRefresh:yb};Kp.useEffectEvent=sb;var Sb={readContext:mn,use:gd,useCallback:cb,useContext:mn,useEffect:zp,useImperativeHandle:ub,useInsertionEffect:ab,useLayoutEffect:ob,useMemo:hb,useReducer:Vp,useRef:ib,useState:function(){return Vp($r)},useDebugValue:Fp,useDeferredValue:function(r,a){var l=jt();return dt===null?Hp(l,r,a):db(l,dt.memoizedState,r,a)},useTransition:function(){var r=Vp($r)[0],a=jt().memoizedState;return[typeof r=="boolean"?r:zu(r),a]},useSyncExternalStore:z1,useId:gb,useHostTransitionStatus:Gp,useFormState:nb,useActionState:nb,useOptimistic:function(r,a){var l=jt();return dt!==null?K1(l,dt,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:jp,useCacheRefresh:yb};Sb.useEffectEvent=sb;function Yp(r,a,l,c){a=r.memoizedState,l=l(c,a),l=l==null?a:x({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Qp={enqueueSetState:function(r,a,l){r=r._reactInternals;var c=oi(),p=qs(c);p.payload=a,l!=null&&(p.callback=l),a=Gs(r,p,c),a!==null&&(Gn(a,r,c),Lu(a,r,c))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var c=oi(),p=qs(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Gs(r,p,c),a!==null&&(Gn(a,r,c),Lu(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=oi(),c=qs(l);c.tag=2,a!=null&&(c.callback=a),a=Gs(r,c,l),a!==null&&(Gn(a,r,l),Lu(a,r,l))}};function Eb(r,a,l,c,p,v,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,v,E):a.prototype&&a.prototype.isPureReactComponent?!Ru(l,c)||!Ru(p,v):!0}function Tb(r,a,l,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==r&&Qp.enqueueReplaceState(a,a.state,null)}function no(r,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(r=r.defaultProps){l===a&&(l=x({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}function wb(r){Jh(r)}function Cb(r){console.error(r)}function Ab(r){Jh(r)}function _d(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Nb(r,a,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Xp(r,a,l){return l=qs(l),l.tag=3,l.payload={element:null},l.callback=function(){_d(r,a)},l}function Rb(r){return r=qs(r),r.tag=3,r}function kb(r,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=c.value;r.payload=function(){return p(v)},r.callback=function(){Nb(a,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Nb(a,l,c),typeof p!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function bI(r,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Jo(a,l,p,!0),l=ii.current,l!==null){switch(l.tag){case 31:case 13:return Si===null?Dd():l.alternate===null&&Mt===0&&(Mt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===ld?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),_g(r,c,p)),!1;case 22:return l.flags|=65536,c===ld?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),_g(r,c,p)),!1}throw Error(i(435,l.tag))}return _g(r,c,p),Dd(),!1}if(We)return a=ii.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==pp&&(r=Error(i(422),{cause:c}),Mu(vi(r,l)))):(c!==pp&&(a=Error(i(423),{cause:c}),Mu(vi(a,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=vi(c,l),p=Xp(r.stateNode,c,p),Cp(r,p),Mt!==4&&(Mt=2)),!1;var v=Error(i(520),{cause:c});if(v=vi(v,l),Wu===null?Wu=[v]:Wu.push(v),Mt!==4&&(Mt=2),a===null)return!0;c=vi(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Xp(l.stateNode,c,r),Cp(l,r),!1;case 1:if(a=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ws===null||!Ws.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Rb(p),kb(p,r,l,c),Cp(l,p),!1}l=l.return}while(l!==null);return!1}var Wp=Error(i(461)),Ft=!1;function pn(r,a,l,c){a.child=r===null?P1(a,null,l,c):eo(a,r.child,l,c)}function Ib(r,a,l,c,p){l=l.render;var v=a.ref;if("ref"in c){var E={};for(var N in c)N!=="ref"&&(E[N]=c[N])}else E=c;return Xa(a),c=Mp(r,a,l,E,v,p),N=Dp(),r!==null&&!Ft?(Pp(r,a,p),Kr(r,a,p)):(We&&N&&fp(a),a.flags|=1,pn(r,a,c,p),a.child)}function Mb(r,a,l,c,p){if(r===null){var v=l.type;return typeof v=="function"&&!cp(v)&&v.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=v,Db(r,a,v,c,p)):(r=nd(l.type,null,c,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(v=r.child,!sg(r,p)){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ru,l(E,c)&&r.ref===a.ref)return Kr(r,a,p)}return a.flags|=1,r=zr(v,c),r.ref=a.ref,r.return=a,a.child=r}function Db(r,a,l,c,p){if(r!==null){var v=r.memoizedProps;if(Ru(v,c)&&r.ref===a.ref)if(Ft=!1,a.pendingProps=c=v,sg(r,p))(r.flags&131072)!==0&&(Ft=!0);else return a.lanes=r.lanes,Kr(r,a,p)}return Jp(r,a,l,c,p)}function Pb(r,a,l,c){var p=c.children,v=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,r!==null){for(c=a.child=r.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~v}else c=0,a.child=null;return Ob(r,a,v,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&ad(a,v!==null?v.cachePool:null),v!==null?L1(a,v):Np(),V1(a);else return c=a.lanes=536870912,Ob(r,a,v!==null?v.baseLanes|l:l,l,c)}else v!==null?(ad(a,v.cachePool),L1(a,v),Ks(),a.memoizedState=null):(r!==null&&ad(a,null),Np(),Ks());return pn(r,a,p,l),a.child}function qu(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Ob(r,a,l,c,p){var v=Sp();return v=v===null?null:{parent:Ut._currentValue,pool:v},a.memoizedState={baseLanes:l,cachePool:v},r!==null&&ad(a,null),Np(),V1(a),r!==null&&Jo(r,a,c,!0),a.childLanes=p,null}function Sd(r,a){return a=Td({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function jb(r,a,l){return eo(a,r.child,null,l),r=Sd(a,a.pendingProps),r.flags|=2,ri(a),a.memoizedState=null,r}function _I(r,a,l){var c=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(We){if(c.mode==="hidden")return r=Sd(a,c),a.lanes=536870912,qu(null,r);if(kp(a),(r=bt)?(r=Y_(r,_i),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Bs!==null?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},l=x1(r),l.return=a,a.child=l,fn=a,bt=null)):r=null,r===null)throw zs(a);return a.lanes=536870912,null}return Sd(a,c)}var v=r.memoizedState;if(v!==null){var E=v.dehydrated;if(kp(a),p)if(a.flags&256)a.flags&=-257,a=jb(r,a,l);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(Ft||Jo(r,a,l,!1),p=(l&r.childLanes)!==0,Ft||p){if(c=pt,c!==null&&(E=Ts(c,l),E!==0&&E!==v.retryLane))throw v.retryLane=E,$a(r,E),Gn(c,r,E),Wp;Dd(),a=jb(r,a,l)}else r=v.treeContext,bt=Ei(E.nextSibling),fn=a,We=!0,Us=null,_i=!1,r!==null&&S1(a,r),a=Sd(a,c),a.flags|=4096;return a}return r=zr(r.child,{mode:c.mode,children:c.children}),r.ref=a.ref,a.child=r,r.return=a,r}function Ed(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Jp(r,a,l,c,p){return Xa(a),l=Mp(r,a,l,c,void 0,p),c=Dp(),r!==null&&!Ft?(Pp(r,a,p),Kr(r,a,p)):(We&&c&&fp(a),a.flags|=1,pn(r,a,l,p),a.child)}function Lb(r,a,l,c,p,v){return Xa(a),a.updateQueue=null,l=U1(a,c,l,p),B1(r),c=Dp(),r!==null&&!Ft?(Pp(r,a,v),Kr(r,a,v)):(We&&c&&fp(a),a.flags|=1,pn(r,a,l,v),a.child)}function Vb(r,a,l,c,p){if(Xa(a),a.stateNode===null){var v=Yo,E=l.contextType;typeof E=="object"&&E!==null&&(v=mn(E)),v=new l(c,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qp,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=c,v.state=a.memoizedState,v.refs={},Tp(a),E=l.contextType,v.context=typeof E=="object"&&E!==null?mn(E):Yo,v.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Yp(a,l,E,c),v.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Qp.enqueueReplaceState(v,v.state,null),Bu(a,c,v,p),Vu(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){v=a.stateNode;var N=a.memoizedProps,H=no(l,N);v.props=H;var W=v.context,se=l.contextType;E=Yo,typeof se=="object"&&se!==null&&(E=mn(se));var le=l.getDerivedStateFromProps;se=typeof le=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,se||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||W!==E)&&Tb(a,v,c,E),Hs=!1;var Z=a.memoizedState;v.state=Z,Bu(a,c,v,p),Vu(),W=a.memoizedState,N||Z!==W||Hs?(typeof le=="function"&&(Yp(a,l,le,c),W=a.memoizedState),(H=Hs||Eb(a,l,H,c,Z,W,E))?(se||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=W),v.props=c,v.state=W,v.context=E,c=H):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{v=a.stateNode,wp(r,a),E=a.memoizedProps,se=no(l,E),v.props=se,le=a.pendingProps,Z=v.context,W=l.contextType,H=Yo,typeof W=="object"&&W!==null&&(H=mn(W)),N=l.getDerivedStateFromProps,(W=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==le||Z!==H)&&Tb(a,v,c,H),Hs=!1,Z=a.memoizedState,v.state=Z,Bu(a,c,v,p),Vu();var te=a.memoizedState;E!==le||Z!==te||Hs||r!==null&&r.dependencies!==null&&rd(r.dependencies)?(typeof N=="function"&&(Yp(a,l,N,c),te=a.memoizedState),(se=Hs||Eb(a,l,se,c,Z,te,H)||r!==null&&r.dependencies!==null&&rd(r.dependencies))?(W||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,te,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,te,H)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=te),v.props=c,v.state=te,v.context=H,c=se):(typeof v.componentDidUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),c=!1)}return v=c,Ed(r,a),c=(a.flags&128)!==0,v||c?(v=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,r!==null&&c?(a.child=eo(a,r.child,null,p),a.child=eo(a,null,l,p)):pn(r,a,l,p),a.memoizedState=v.state,r=a.child):r=Kr(r,a,p),r}function Bb(r,a,l,c){return Ya(),a.flags|=256,pn(r,a,l,c),a.child}var Zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eg(r){return{baseLanes:r,cachePool:N1()}}function tg(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=ai),r}function Ub(r,a,l){var c=a.pendingProps,p=!1,v=(a.flags&128)!==0,E;if((E=v)||(E=r!==null&&r.memoizedState===null?!1:(Ot.current&2)!==0),E&&(p=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(We){if(p?$s(a):Ks(),(r=bt)?(r=Y_(r,_i),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Bs!==null?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},l=x1(r),l.return=a,a.child=l,fn=a,bt=null)):r=null,r===null)throw zs(a);return Lg(r)?a.lanes=32:a.lanes=536870912,null}var N=c.children;return c=c.fallback,p?(Ks(),p=a.mode,N=Td({mode:"hidden",children:N},p),c=Ka(c,p,l,null),N.return=a,c.return=a,N.sibling=c,a.child=N,c=a.child,c.memoizedState=eg(l),c.childLanes=tg(r,E,l),a.memoizedState=Zp,qu(null,c)):($s(a),ng(a,N))}var H=r.memoizedState;if(H!==null&&(N=H.dehydrated,N!==null)){if(v)a.flags&256?($s(a),a.flags&=-257,a=ig(r,a,l)):a.memoizedState!==null?(Ks(),a.child=r.child,a.flags|=128,a=null):(Ks(),N=c.fallback,p=a.mode,c=Td({mode:"visible",children:c.children},p),N=Ka(N,p,l,null),N.flags|=2,c.return=a,N.return=a,c.sibling=N,a.child=c,eo(a,r.child,null,l),c=a.child,c.memoizedState=eg(l),c.childLanes=tg(r,E,l),a.memoizedState=Zp,a=qu(null,c));else if($s(a),Lg(N)){if(E=N.nextSibling&&N.nextSibling.dataset,E)var W=E.dgst;E=W,c=Error(i(419)),c.stack="",c.digest=E,Mu({value:c,source:null,stack:null}),a=ig(r,a,l)}else if(Ft||Jo(r,a,l,!1),E=(l&r.childLanes)!==0,Ft||E){if(E=pt,E!==null&&(c=Ts(E,l),c!==0&&c!==H.retryLane))throw H.retryLane=c,$a(r,c),Gn(E,r,c),Wp;jg(N)||Dd(),a=ig(r,a,l)}else jg(N)?(a.flags|=192,a.child=r.child,a=null):(r=H.treeContext,bt=Ei(N.nextSibling),fn=a,We=!0,Us=null,_i=!1,r!==null&&S1(a,r),a=ng(a,c.children),a.flags|=4096);return a}return p?(Ks(),N=c.fallback,p=a.mode,H=r.child,W=H.sibling,c=zr(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,W!==null?N=zr(W,N):(N=Ka(N,p,l,null),N.flags|=2),N.return=a,c.return=a,c.sibling=N,a.child=c,qu(null,c),c=a.child,N=r.child.memoizedState,N===null?N=eg(l):(p=N.cachePool,p!==null?(H=Ut._currentValue,p=p.parent!==H?{parent:H,pool:H}:p):p=N1(),N={baseLanes:N.baseLanes|l,cachePool:p}),c.memoizedState=N,c.childLanes=tg(r,E,l),a.memoizedState=Zp,qu(r.child,c)):($s(a),l=r.child,r=l.sibling,l=zr(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=l,a.memoizedState=null,l)}function ng(r,a){return a=Td({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Td(r,a){return r=ni(22,r,null,a),r.lanes=0,r}function ig(r,a,l){return eo(a,r.child,null,l),r=ng(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function zb(r,a,l){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),vp(r.return,a,l)}function rg(r,a,l,c,p,v){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p,treeForkCount:v}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=l,E.tailMode=p,E.treeForkCount=v)}function Fb(r,a,l){var c=a.pendingProps,p=c.revealOrder,v=c.tail;c=c.children;var E=Ot.current,N=(E&2)!==0;if(N?(E=E&1|2,a.flags|=128):E&=1,O(Ot,E),pn(r,a,c,l),c=We?Iu:0,!N&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&zb(r,l,a);else if(r.tag===19)zb(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(l=a.child,p=null;l!==null;)r=l.alternate,r!==null&&dd(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),rg(a,!1,p,l,v,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&dd(r)===null){a.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}rg(a,!0,l,null,v,c);break;case"together":rg(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Kr(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),Xs|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(Jo(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=zr(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=zr(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function sg(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&rd(r)))}function SI(r,a,l){switch(a.tag){case 3:gt(a,a.stateNode.containerInfo),Fs(a,Ut,r.memoizedState.cache),Ya();break;case 27:case 5:cn(a);break;case 4:gt(a,a.stateNode.containerInfo);break;case 10:Fs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,kp(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?($s(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Ub(r,a,l):($s(a),r=Kr(r,a,l),r!==null?r.sibling:null);$s(a);break;case 19:var p=(r.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Jo(r,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return Fb(r,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),O(Ot,Ot.current),c)break;return null;case 22:return a.lanes=0,Pb(r,a,l,a.pendingProps);case 24:Fs(a,Ut,r.memoizedState.cache)}return Kr(r,a,l)}function Hb(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)Ft=!0;else{if(!sg(r,l)&&(a.flags&128)===0)return Ft=!1,SI(r,a,l);Ft=(r.flags&131072)!==0}else Ft=!1,We&&(a.flags&1048576)!==0&&_1(a,Iu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(r=Ja(a.elementType),a.type=r,typeof r=="function")cp(r)?(c=no(r,c),a.tag=1,a=Vb(null,a,r,c,l)):(a.tag=0,a=Jp(null,a,r,c,l));else{if(r!=null){var p=r.$$typeof;if(p===ee){a.tag=11,a=Ib(null,a,r,c,l);break e}else if(p===I){a.tag=14,a=Mb(null,a,r,c,l);break e}}throw a=fe(r)||r,Error(i(306,a,""))}}return a;case 0:return Jp(r,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=no(c,a.pendingProps),Vb(r,a,c,p,l);case 3:e:{if(gt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));c=a.pendingProps;var v=a.memoizedState;p=v.element,wp(r,a),Bu(a,c,null,l);var E=a.memoizedState;if(c=E.cache,Fs(a,Ut,c),c!==v.cache&&xp(a,[Ut],l,!0),Vu(),c=E.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=Bb(r,a,c,l);break e}else if(c!==p){p=vi(Error(i(424)),a),Mu(p),a=Bb(r,a,c,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bt=Ei(r.firstChild),fn=a,We=!0,Us=null,_i=!0,l=P1(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ya(),c===p){a=Kr(r,a,l);break e}pn(r,a,c,l)}a=a.child}return a;case 26:return Ed(r,a),r===null?(l=eS(a.type,null,a.pendingProps,null))?a.memoizedState=l:We||(l=a.type,r=a.pendingProps,c=Ud(Ee.current).createElement(l),c[Rt]=a,c[dn]=r,gn(c,l,r),Pt(c),a.stateNode=c):a.memoizedState=eS(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return cn(a),r===null&&We&&(c=a.stateNode=W_(a.type,a.pendingProps,Ee.current),fn=a,_i=!0,p=bt,ta(a.type)?(Vg=p,bt=Ei(c.firstChild)):bt=p),pn(r,a,a.pendingProps.children,l),Ed(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&We&&((p=c=bt)&&(c=JI(c,a.type,a.pendingProps,_i),c!==null?(a.stateNode=c,fn=a,bt=Ei(c.firstChild),_i=!1,p=!0):p=!1),p||zs(a)),cn(a),p=a.type,v=a.pendingProps,E=r!==null?r.memoizedProps:null,c=v.children,Dg(p,v)?c=null:E!==null&&Dg(p,E)&&(a.flags|=32),a.memoizedState!==null&&(p=Mp(r,a,fI,null,null,l),sc._currentValue=p),Ed(r,a),pn(r,a,c,l),a.child;case 6:return r===null&&We&&((r=l=bt)&&(l=ZI(l,a.pendingProps,_i),l!==null?(a.stateNode=l,fn=a,bt=null,r=!0):r=!1),r||zs(a)),null;case 13:return Ub(r,a,l);case 4:return gt(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=eo(a,null,c,l):pn(r,a,c,l),a.child;case 11:return Ib(r,a,a.type,a.pendingProps,l);case 7:return pn(r,a,a.pendingProps,l),a.child;case 8:return pn(r,a,a.pendingProps.children,l),a.child;case 12:return pn(r,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Fs(a,a.type,c.value),pn(r,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,Xa(a),p=mn(p),c=c(p),a.flags|=1,pn(r,a,c,l),a.child;case 14:return Mb(r,a,a.type,a.pendingProps,l);case 15:return Db(r,a,a.type,a.pendingProps,l);case 19:return Fb(r,a,l);case 31:return _I(r,a,l);case 22:return Pb(r,a,l,a.pendingProps);case 24:return Xa(a),c=mn(Ut),r===null?(p=Sp(),p===null&&(p=pt,v=bp(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),a.memoizedState={parent:c,cache:p},Tp(a),Fs(a,Ut,p)):((r.lanes&l)!==0&&(wp(r,a),Bu(a,null,null,l),Vu()),p=r.memoizedState,v=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Fs(a,Ut,c)):(c=v.cache,Fs(a,Ut,c),c!==p.cache&&xp(a,[Ut],l,!0))),pn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Yr(r){r.flags|=4}function ag(r,a,l,c,p){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(g_())r.flags|=8192;else throw Za=ld,Ep}else r.flags&=-16777217}function qb(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!sS(a))if(g_())r.flags|=8192;else throw Za=ld,Ep}function wd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?hu():536870912,r.lanes|=a,cl|=a)}function Gu(r,a){if(!We)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function _t(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(a)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,a}function EI(r,a,l){var c=a.pendingProps;switch(mp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(a),null;case 1:return _t(a),null;case 3:return l=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),qr(Ut),at(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Wo(a)?Yr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gp())),_t(a),null;case 26:var p=a.type,v=a.memoizedState;return r===null?(Yr(a),v!==null?(_t(a),qb(a,v)):(_t(a),ag(a,p,null,c,l))):v?v!==r.memoizedState?(Yr(a),_t(a),qb(a,v)):(_t(a),a.flags&=-16777217):(r=r.memoizedProps,r!==c&&Yr(a),_t(a),ag(a,p,r,c,l)),null;case 27:if(Vn(a),l=Ee.current,p=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Yr(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return _t(a),null}r=ye.current,Wo(a)?E1(a):(r=W_(p,c,l),a.stateNode=r,Yr(a))}return _t(a),null;case 5:if(Vn(a),p=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Yr(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return _t(a),null}if(v=ye.current,Wo(a))E1(a);else{var E=Ud(Ee.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?E.createElement(p,{is:c.is}):E.createElement(p)}}v[Rt]=a,v[dn]=c;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=v;e:switch(gn(v,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Yr(a)}}return _t(a),ag(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,l),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&Yr(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=Ee.current,Wo(a)){if(r=a.stateNode,l=a.memoizedProps,c=null,p=fn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[Rt]=a,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||U_(r.nodeValue,l)),r||zs(a,!0)}else r=Ud(r).createTextNode(c),r[Rt]=a,a.stateNode=r}return _t(a),null;case 31:if(l=a.memoizedState,r===null||r.memoizedState!==null){if(c=Wo(a),l!==null){if(r===null){if(!c)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Rt]=a}else Ya(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;_t(a),r=!1}else l=gp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return a.flags&256?(ri(a),a):(ri(a),null);if((a.flags&128)!==0)throw Error(i(558))}return _t(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Wo(a),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Rt]=a}else Ya(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;_t(a),p=!1}else p=gp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(ri(a),a):(ri(a),null)}return ri(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048)),l!==r&&l&&(a.child.flags|=8192),wd(a,a.updateQueue),_t(a),null);case 4:return at(),r===null&&Ng(a.stateNode.containerInfo),_t(a),null;case 10:return qr(a.type),_t(a),null;case 19:if(re(Ot),c=a.memoizedState,c===null)return _t(a),null;if(p=(a.flags&128)!==0,v=c.rendering,v===null)if(p)Gu(c,!1);else{if(Mt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(v=dd(r),v!==null){for(a.flags|=128,Gu(c,!1),r=v.updateQueue,a.updateQueue=r,wd(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)v1(l,r),l=l.sibling;return O(Ot,Ot.current&1|2),We&&Fr(a,c.treeForkCount),a.child}r=r.sibling}c.tail!==null&&Yt()>kd&&(a.flags|=128,p=!0,Gu(c,!1),a.lanes=4194304)}else{if(!p)if(r=dd(v),r!==null){if(a.flags|=128,p=!0,r=r.updateQueue,a.updateQueue=r,wd(a,r),Gu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!We)return _t(a),null}else 2*Yt()-c.renderingStartTime>kd&&l!==536870912&&(a.flags|=128,p=!0,Gu(c,!1),a.lanes=4194304);c.isBackwards?(v.sibling=a.child,a.child=v):(r=c.last,r!==null?r.sibling=v:a.child=v,c.last=v)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Yt(),r.sibling=null,l=Ot.current,O(Ot,p?l&1|2:l&1),We&&Fr(a,c.treeForkCount),r):(_t(a),null);case 22:case 23:return ri(a),Rp(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(_t(a),a.subtreeFlags&6&&(a.flags|=8192)):_t(a),l=a.updateQueue,l!==null&&wd(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),r!==null&&re(Wa),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),qr(Ut),_t(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function TI(r,a){switch(mp(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return qr(Ut),at(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Vn(a),null;case 31:if(a.memoizedState!==null){if(ri(a),a.alternate===null)throw Error(i(340));Ya()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(ri(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ya()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return re(Ot),null;case 4:return at(),null;case 10:return qr(a.type),null;case 22:case 23:return ri(a),Rp(),r!==null&&re(Wa),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return qr(Ut),null;case 25:return null;default:return null}}function Gb(r,a){switch(mp(a),a.tag){case 3:qr(Ut),at();break;case 26:case 27:case 5:Vn(a);break;case 4:at();break;case 31:a.memoizedState!==null&&ri(a);break;case 13:ri(a);break;case 19:re(Ot);break;case 10:qr(a.type);break;case 22:case 23:ri(a),Rp(),r!==null&&re(Wa);break;case 24:qr(Ut)}}function $u(r,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var v=l.create,E=l.inst;c=v(),E.destroy=c}l=l.next}while(l!==p)}}catch(N){ht(a,a.return,N)}}function Ys(r,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var v=p.next;c=v;do{if((c.tag&r)===r){var E=c.inst,N=E.destroy;if(N!==void 0){E.destroy=void 0,p=a;var H=l,W=N;try{W()}catch(se){ht(p,H,se)}}}c=c.next}while(c!==v)}}catch(se){ht(a,a.return,se)}}function $b(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{j1(a,l)}catch(c){ht(r,r.return,c)}}}function Kb(r,a,l){l.props=no(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){ht(r,a,c)}}function Ku(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(p){ht(r,a,p)}}function ar(r,a){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){ht(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ht(r,a,p)}else l.current=null}function Yb(r){var a=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){ht(r,r.return,p)}}function og(r,a,l){try{var c=r.stateNode;$I(c,r.type,l,a),c[dn]=a}catch(p){ht(r,r.return,p)}}function Qb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ta(r.type)||r.tag===4}function lg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Qb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ta(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ug(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=nn));else if(c!==4&&(c===27&&ta(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(ug(r,a,l),r=r.sibling;r!==null;)ug(r,a,l),r=r.sibling}function Cd(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(c!==4&&(c===27&&ta(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Cd(r,a,l),r=r.sibling;r!==null;)Cd(r,a,l),r=r.sibling}function Xb(r){var a=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);gn(a,c,l),a[Rt]=r,a[dn]=l}catch(v){ht(r,r.return,v)}}var Qr=!1,Ht=!1,cg=!1,Wb=typeof WeakSet=="function"?WeakSet:Set,an=null;function wI(r,a){if(r=r.containerInfo,Ig=Kd,r=u1(r),ip(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,N=-1,H=-1,W=0,se=0,le=r,Z=null;t:for(;;){for(var te;le!==l||p!==0&&le.nodeType!==3||(N=E+p),le!==v||c!==0&&le.nodeType!==3||(H=E+c),le.nodeType===3&&(E+=le.nodeValue.length),(te=le.firstChild)!==null;)Z=le,le=te;for(;;){if(le===r)break t;if(Z===l&&++W===p&&(N=E),Z===v&&++se===c&&(H=E),(te=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=te}l=N===-1||H===-1?null:{start:N,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Mg={focusedElem:r,selectionRange:l},Kd=!1,an=a;an!==null;)if(a=an,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,an=r;else for(;an!==null;){switch(a=an,v=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)p=r[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,l=a,p=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var xe=no(l.type,p);r=c.getSnapshotBeforeUpdate(xe,v),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ne){ht(l,l.return,Ne)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)Og(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Og(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,an=r;break}an=a.return}}function Jb(r,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Wr(r,l),c&4&&$u(5,l);break;case 1:if(Wr(r,l),c&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(E){ht(l,l.return,E)}else{var p=no(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ht(l,l.return,E)}}c&64&&$b(l),c&512&&Ku(l,l.return);break;case 3:if(Wr(r,l),c&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{j1(r,a)}catch(E){ht(l,l.return,E)}}break;case 27:a===null&&c&4&&Xb(l);case 26:case 5:Wr(r,l),a===null&&c&4&&Yb(l),c&512&&Ku(l,l.return);break;case 12:Wr(r,l);break;case 31:Wr(r,l),c&4&&t_(r,l);break;case 13:Wr(r,l),c&4&&n_(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=PI.bind(null,l),e4(r,l))));break;case 22:if(c=l.memoizedState!==null||Qr,!c){a=a!==null&&a.memoizedState!==null||Ht,p=Qr;var v=Ht;Qr=c,(Ht=a)&&!v?Jr(r,l,(l.subtreeFlags&8772)!==0):Wr(r,l),Qr=p,Ht=v}break;case 30:break;default:Wr(r,l)}}function Zb(r){var a=r.alternate;a!==null&&(r.alternate=null,Zb(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Pa(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Et=null,zn=!1;function Xr(r,a,l){for(l=l.child;l!==null;)e_(r,a,l),l=l.sibling}function e_(r,a,l){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(en,l)}catch{}switch(l.tag){case 26:Ht||ar(l,a),Xr(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||ar(l,a);var c=Et,p=zn;ta(l.type)&&(Et=l.stateNode,zn=!1),Xr(r,a,l),nc(l.stateNode),Et=c,zn=p;break;case 5:Ht||ar(l,a);case 6:if(c=Et,p=zn,Et=null,Xr(r,a,l),Et=c,zn=p,Et!==null)if(zn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(l.stateNode)}catch(v){ht(l,a,v)}else try{Et.removeChild(l.stateNode)}catch(v){ht(l,a,v)}break;case 18:Et!==null&&(zn?(r=Et,$_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),vl(r)):$_(Et,l.stateNode));break;case 4:c=Et,p=zn,Et=l.stateNode.containerInfo,zn=!0,Xr(r,a,l),Et=c,zn=p;break;case 0:case 11:case 14:case 15:Ys(2,l,a),Ht||Ys(4,l,a),Xr(r,a,l);break;case 1:Ht||(ar(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Kb(l,a,c)),Xr(r,a,l);break;case 21:Xr(r,a,l);break;case 22:Ht=(c=Ht)||l.memoizedState!==null,Xr(r,a,l),Ht=c;break;default:Xr(r,a,l)}}function t_(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{vl(r)}catch(l){ht(a,a.return,l)}}}function n_(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{vl(r)}catch(l){ht(a,a.return,l)}}function CI(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Wb),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Wb),a;default:throw Error(i(435,r.tag))}}function Ad(r,a){var l=CI(r);a.forEach(function(c){if(!l.has(c)){l.add(c);var p=OI.bind(null,r,c);c.then(p,p)}})}function Fn(r,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],v=r,E=a,N=E;e:for(;N!==null;){switch(N.tag){case 27:if(ta(N.type)){Et=N.stateNode,zn=!1;break e}break;case 5:Et=N.stateNode,zn=!1;break e;case 3:case 4:Et=N.stateNode.containerInfo,zn=!0;break e}N=N.return}if(Et===null)throw Error(i(160));e_(v,E,p),Et=null,zn=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)i_(a,r),a=a.sibling}var Li=null;function i_(r,a){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Fn(a,r),Hn(r),c&4&&(Ys(3,r,r.return),$u(3,r),Ys(5,r,r.return));break;case 1:Fn(a,r),Hn(r),c&512&&(Ht||l===null||ar(l,l.return)),c&64&&Qr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Li;if(Fn(a,r),Hn(r),c&512&&(Ht||l===null||ar(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Dr]||v[Rt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(c),p.head.insertBefore(v,p.querySelector("head > title"))),gn(v,c,l),v[Rt]=r,Pt(v),c=v;break e;case"link":var E=iS("link","href",p).get(c+(l.href||""));if(E){for(var N=0;N<E.length;N++)if(v=E[N],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(N,1);break t}}v=p.createElement(c),gn(v,c,l),p.head.appendChild(v);break;case"meta":if(E=iS("meta","content",p).get(c+(l.content||""))){for(N=0;N<E.length;N++)if(v=E[N],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(N,1);break t}}v=p.createElement(c),gn(v,c,l),p.head.appendChild(v);break;default:throw Error(i(468,c))}v[Rt]=r,Pt(v),c=v}r.stateNode=c}else rS(p,r.type,r.stateNode);else r.stateNode=nS(p,c,r.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?rS(p,r.type,r.stateNode):nS(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&og(r,r.memoizedProps,l.memoizedProps)}break;case 27:Fn(a,r),Hn(r),c&512&&(Ht||l===null||ar(l,l.return)),l!==null&&c&4&&og(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Fn(a,r),Hn(r),c&512&&(Ht||l===null||ar(l,l.return)),r.flags&32){p=r.stateNode;try{gi(p,"")}catch(xe){ht(r,r.return,xe)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,og(r,p,l!==null?l.memoizedProps:p)),c&1024&&(cg=!0);break;case 6:if(Fn(a,r),Hn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(xe){ht(r,r.return,xe)}}break;case 3:if(Hd=null,p=Li,Li=zd(a.containerInfo),Fn(a,r),Li=p,Hn(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{vl(a.containerInfo)}catch(xe){ht(r,r.return,xe)}cg&&(cg=!1,r_(r));break;case 4:c=Li,Li=zd(r.stateNode.containerInfo),Fn(a,r),Hn(r),Li=c;break;case 12:Fn(a,r),Hn(r);break;case 31:Fn(a,r),Hn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Ad(r,c)));break;case 13:Fn(a,r),Hn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Rd=Yt()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Ad(r,c)));break;case 22:p=r.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,W=Qr,se=Ht;if(Qr=W||p,Ht=se||H,Fn(a,r),Ht=se,Qr=W,Hn(r),c&8192)e:for(a=r.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||H||Qr||Ht||io(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){H=l=a;try{if(v=H.stateNode,p)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{N=H.stateNode;var le=H.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;N.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(xe){ht(H,H.return,xe)}}}else if(a.tag===6){if(l===null){H=a;try{H.stateNode.nodeValue=p?"":H.memoizedProps}catch(xe){ht(H,H.return,xe)}}}else if(a.tag===18){if(l===null){H=a;try{var te=H.stateNode;p?K_(te,!0):K_(H.stateNode,!1)}catch(xe){ht(H,H.return,xe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Ad(r,l))));break;case 19:Fn(a,r),Hn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Ad(r,c)));break;case 30:break;case 21:break;default:Fn(a,r),Hn(r)}}function Hn(r){var a=r.flags;if(a&2){try{for(var l,c=r.return;c!==null;){if(Qb(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,v=lg(r);Cd(r,v,p);break;case 5:var E=l.stateNode;l.flags&32&&(gi(E,""),l.flags&=-33);var N=lg(r);Cd(r,N,E);break;case 3:case 4:var H=l.stateNode.containerInfo,W=lg(r);ug(r,W,H);break;default:throw Error(i(161))}}catch(se){ht(r,r.return,se)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function r_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;r_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Wr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Jb(r,a.alternate,a),a=a.sibling}function io(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Ys(4,a,a.return),io(a);break;case 1:ar(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Kb(a,a.return,l),io(a);break;case 27:nc(a.stateNode);case 26:case 5:ar(a,a.return),io(a);break;case 22:a.memoizedState===null&&io(a);break;case 30:io(a);break;default:io(a)}r=r.sibling}}function Jr(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=r,v=a,E=v.flags;switch(v.tag){case 0:case 11:case 15:Jr(p,v,l),$u(4,v);break;case 1:if(Jr(p,v,l),c=v,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){ht(c,c.return,W)}if(c=v,p=c.updateQueue,p!==null){var N=c.stateNode;try{var H=p.shared.hiddenCallbacks;if(H!==null)for(p.shared.hiddenCallbacks=null,p=0;p<H.length;p++)O1(H[p],N)}catch(W){ht(c,c.return,W)}}l&&E&64&&$b(v),Ku(v,v.return);break;case 27:Xb(v);case 26:case 5:Jr(p,v,l),l&&c===null&&E&4&&Yb(v),Ku(v,v.return);break;case 12:Jr(p,v,l);break;case 31:Jr(p,v,l),l&&E&4&&t_(p,v);break;case 13:Jr(p,v,l),l&&E&4&&n_(p,v);break;case 22:v.memoizedState===null&&Jr(p,v,l),Ku(v,v.return);break;case 30:break;default:Jr(p,v,l)}a=a.sibling}}function hg(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Du(l))}function dg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Du(r))}function Vi(r,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)s_(r,a,l,c),a=a.sibling}function s_(r,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Vi(r,a,l,c),p&2048&&$u(9,a);break;case 1:Vi(r,a,l,c);break;case 3:Vi(r,a,l,c),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Du(r)));break;case 12:if(p&2048){Vi(r,a,l,c),r=a.stateNode;try{var v=a.memoizedProps,E=v.id,N=v.onPostCommit;typeof N=="function"&&N(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){ht(a,a.return,H)}}else Vi(r,a,l,c);break;case 31:Vi(r,a,l,c);break;case 13:Vi(r,a,l,c);break;case 23:break;case 22:v=a.stateNode,E=a.alternate,a.memoizedState!==null?v._visibility&2?Vi(r,a,l,c):Yu(r,a):v._visibility&2?Vi(r,a,l,c):(v._visibility|=2,ol(r,a,l,c,(a.subtreeFlags&10256)!==0||!1)),p&2048&&hg(E,a);break;case 24:Vi(r,a,l,c),p&2048&&dg(a.alternate,a);break;default:Vi(r,a,l,c)}}function ol(r,a,l,c,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var v=r,E=a,N=l,H=c,W=E.flags;switch(E.tag){case 0:case 11:case 15:ol(v,E,N,H,p),$u(8,E);break;case 23:break;case 22:var se=E.stateNode;E.memoizedState!==null?se._visibility&2?ol(v,E,N,H,p):Yu(v,E):(se._visibility|=2,ol(v,E,N,H,p)),p&&W&2048&&hg(E.alternate,E);break;case 24:ol(v,E,N,H,p),p&&W&2048&&dg(E.alternate,E);break;default:ol(v,E,N,H,p)}a=a.sibling}}function Yu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,c=a,p=c.flags;switch(c.tag){case 22:Yu(l,c),p&2048&&hg(c.alternate,c);break;case 24:Yu(l,c),p&2048&&dg(c.alternate,c);break;default:Yu(l,c)}a=a.sibling}}var Qu=8192;function ll(r,a,l){if(r.subtreeFlags&Qu)for(r=r.child;r!==null;)a_(r,a,l),r=r.sibling}function a_(r,a,l){switch(r.tag){case 26:ll(r,a,l),r.flags&Qu&&r.memoizedState!==null&&d4(l,Li,r.memoizedState,r.memoizedProps);break;case 5:ll(r,a,l);break;case 3:case 4:var c=Li;Li=zd(r.stateNode.containerInfo),ll(r,a,l),Li=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=Qu,Qu=16777216,ll(r,a,l),Qu=c):ll(r,a,l));break;default:ll(r,a,l)}}function o_(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Xu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];an=c,u_(c,r)}o_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)l_(r),r=r.sibling}function l_(r){switch(r.tag){case 0:case 11:case 15:Xu(r),r.flags&2048&&Ys(9,r,r.return);break;case 3:Xu(r);break;case 12:Xu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Nd(r)):Xu(r);break;default:Xu(r)}}function Nd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];an=c,u_(c,r)}o_(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Ys(8,a,a.return),Nd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Nd(a));break;default:Nd(a)}r=r.sibling}}function u_(r,a){for(;an!==null;){var l=an;switch(l.tag){case 0:case 11:case 15:Ys(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Du(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,an=c;else e:for(l=r;an!==null;){c=an;var p=c.sibling,v=c.return;if(Zb(c),c===l){an=null;break e}if(p!==null){p.return=v,an=p;break e}an=v}}}var AI={getCacheForType:function(r){var a=mn(Ut),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l},cacheSignal:function(){return mn(Ut).controller.signal}},NI=typeof WeakMap=="function"?WeakMap:Map,rt=0,pt=null,Ge=null,Ke=0,ct=0,si=null,Qs=!1,ul=!1,fg=!1,Zr=0,Mt=0,Xs=0,ro=0,mg=0,ai=0,cl=0,Wu=null,qn=null,pg=!1,Rd=0,c_=0,kd=1/0,Id=null,Ws=null,Qt=0,Js=null,hl=null,es=0,gg=0,yg=null,h_=null,Ju=0,vg=null;function oi(){return(rt&2)!==0&&Ke!==0?Ke&-Ke:Q.T!==null?Tg():Mr()}function d_(){if(ai===0)if((Ke&536870912)===0||We){var r=Xi;Xi<<=1,(Xi&3932160)===0&&(Xi=262144),ai=r}else ai=536870912;return r=ii.current,r!==null&&(r.flags|=32),ai}function Gn(r,a,l){(r===pt&&(ct===2||ct===9)||r.cancelPendingCommit!==null)&&(dl(r,0),Zs(r,Ke,ai,!1)),Ss(r,l),((rt&2)===0||r!==pt)&&(r===pt&&((rt&2)===0&&(ro|=l),Mt===4&&Zs(r,Ke,ai,!1)),or(r))}function f_(r,a,l){if((rt&6)!==0)throw Error(i(327));var c=!l&&(a&127)===0&&(a&r.expiredLanes)===0||_s(r,a),p=c?II(r,a):bg(r,a,!0),v=c;do{if(p===0){ul&&!c&&Zs(r,a,0,!1);break}else{if(l=r.current.alternate,v&&!RI(l)){p=bg(r,a,!1),v=!1;continue}if(p===2){if(v=a,r.errorRecoveryDisabledLanes&v)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var N=r;p=Wu;var H=N.current.memoizedState.isDehydrated;if(H&&(dl(N,E).flags|=256),E=bg(N,E,!1),E!==2){if(fg&&!H){N.errorRecoveryDisabledLanes|=v,ro|=v,p=4;break e}v=qn,qn=p,v!==null&&(qn===null?qn=v:qn.push.apply(qn,v))}p=E}if(v=!1,p!==2)continue}}if(p===1){dl(r,0),Zs(r,a,0,!0);break}e:{switch(c=r,v=p,v){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Zs(c,a,ai,!Qs);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Rd+300-Yt(),10<p)){if(Zs(c,a,ai,!Qs),mi(c,0,!0)!==0)break e;es=a,c.timeoutHandle=q_(m_.bind(null,c,l,qn,Id,pg,a,ai,ro,cl,Qs,v,"Throttled",-0,0),p);break e}m_(c,l,qn,Id,pg,a,ai,ro,cl,Qs,v,null,-0,0)}}break}while(!0);or(r)}function m_(r,a,l,c,p,v,E,N,H,W,se,le,Z,te){if(r.timeoutHandle=-1,le=a.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},a_(a,v,le);var xe=(v&62914560)===v?Rd-Yt():(v&4194048)===v?c_-Yt():0;if(xe=f4(le,xe),xe!==null){es=v,r.cancelPendingCommit=xe(S_.bind(null,r,a,v,l,c,p,E,N,H,se,le,null,Z,te)),Zs(r,v,E,!W);return}}S_(r,a,v,l,c,p,E,N,H)}function RI(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],v=p.getSnapshot;p=p.value;try{if(!ti(v(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Zs(r,a,l,c){a&=~mg,a&=~ro,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var p=a;0<p;){var v=31-ut(p),E=1<<v;c[v]=-1,p&=~E}l!==0&&du(r,l,a)}function Md(){return(rt&6)===0?(Zu(0),!1):!0}function xg(){if(Ge!==null){if(ct===0)var r=Ge.return;else r=Ge,Hr=Qa=null,Op(r),nl=null,Ou=0,r=Ge;for(;r!==null;)Gb(r.alternate,r),r=r.return;Ge=null}}function dl(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,QI(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),es=0,xg(),pt=r,Ge=l=zr(r.current,null),Ke=a,ct=0,si=null,Qs=!1,ul=_s(r,a),fg=!1,cl=ai=mg=ro=Xs=Mt=0,qn=Wu=null,pg=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var p=31-ut(c),v=1<<p;a|=r[p],c&=~v}return Zr=a,Zh(),l}function p_(r,a){Le=null,Q.H=Hu,a===tl||a===od?(a=I1(),ct=3):a===Ep?(a=I1(),ct=4):ct=a===Wp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,si=a,Ge===null&&(Mt=1,_d(r,vi(a,r.current)))}function g_(){var r=ii.current;return r===null?!0:(Ke&4194048)===Ke?Si===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?r===Si:!1}function y_(){var r=Q.H;return Q.H=Hu,r===null?Hu:r}function v_(){var r=Q.A;return Q.A=AI,r}function Dd(){Mt=4,Qs||(Ke&4194048)!==Ke&&ii.current!==null||(ul=!0),(Xs&134217727)===0&&(ro&134217727)===0||pt===null||Zs(pt,Ke,ai,!1)}function bg(r,a,l){var c=rt;rt|=2;var p=y_(),v=v_();(pt!==r||Ke!==a)&&(Id=null,dl(r,a)),a=!1;var E=Mt;e:do try{if(ct!==0&&Ge!==null){var N=Ge,H=si;switch(ct){case 8:xg(),E=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(a=!0);var W=ct;if(ct=0,si=null,fl(r,N,H,W),l&&ul){E=0;break e}break;default:W=ct,ct=0,si=null,fl(r,N,H,W)}}kI(),E=Mt;break}catch(se){p_(r,se)}while(!0);return a&&r.shellSuspendCounter++,Hr=Qa=null,rt=c,Q.H=p,Q.A=v,Ge===null&&(pt=null,Ke=0,Zh()),E}function kI(){for(;Ge!==null;)x_(Ge)}function II(r,a){var l=rt;rt|=2;var c=y_(),p=v_();pt!==r||Ke!==a?(Id=null,kd=Yt()+500,dl(r,a)):ul=_s(r,a);e:do try{if(ct!==0&&Ge!==null){a=Ge;var v=si;t:switch(ct){case 1:ct=0,si=null,fl(r,a,v,1);break;case 2:case 9:if(R1(v)){ct=0,si=null,b_(a);break}a=function(){ct!==2&&ct!==9||pt!==r||(ct=7),or(r)},v.then(a,a);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:R1(v)?(ct=0,si=null,b_(a)):(ct=0,si=null,fl(r,a,v,7));break;case 5:var E=null;switch(Ge.tag){case 26:E=Ge.memoizedState;case 5:case 27:var N=Ge;if(E?sS(E):N.stateNode.complete){ct=0,si=null;var H=N.sibling;if(H!==null)Ge=H;else{var W=N.return;W!==null?(Ge=W,Pd(W)):Ge=null}break t}}ct=0,si=null,fl(r,a,v,5);break;case 6:ct=0,si=null,fl(r,a,v,6);break;case 8:xg(),Mt=6;break e;default:throw Error(i(462))}}MI();break}catch(se){p_(r,se)}while(!0);return Hr=Qa=null,Q.H=c,Q.A=p,rt=l,Ge!==null?0:(pt=null,Ke=0,Zh(),Mt)}function MI(){for(;Ge!==null&&!cu();)x_(Ge)}function x_(r){var a=Hb(r.alternate,r,Zr);r.memoizedProps=r.pendingProps,a===null?Pd(r):Ge=a}function b_(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=Lb(l,a,a.pendingProps,a.type,void 0,Ke);break;case 11:a=Lb(l,a,a.pendingProps,a.type.render,a.ref,Ke);break;case 5:Op(a);default:Gb(l,a),a=Ge=v1(a,Zr),a=Hb(l,a,Zr)}r.memoizedProps=r.pendingProps,a===null?Pd(r):Ge=a}function fl(r,a,l,c){Hr=Qa=null,Op(a),nl=null,Ou=0;var p=a.return;try{if(bI(r,p,a,l,Ke)){Mt=1,_d(r,vi(l,r.current)),Ge=null;return}}catch(v){if(p!==null)throw Ge=p,v;Mt=1,_d(r,vi(l,r.current)),Ge=null;return}a.flags&32768?(We||c===1?r=!0:ul||(Ke&536870912)!==0?r=!1:(Qs=r=!0,(c===2||c===9||c===3||c===6)&&(c=ii.current,c!==null&&c.tag===13&&(c.flags|=16384))),__(a,r)):Pd(a)}function Pd(r){var a=r;do{if((a.flags&32768)!==0){__(a,Qs);return}r=a.return;var l=EI(a.alternate,a,Zr);if(l!==null){Ge=l;return}if(a=a.sibling,a!==null){Ge=a;return}Ge=a=r}while(a!==null);Mt===0&&(Mt=5)}function __(r,a){do{var l=TI(r.alternate,r);if(l!==null){l.flags&=32767,Ge=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){Ge=r;return}Ge=r=l}while(r!==null);Mt=6,Ge=null}function S_(r,a,l,c,p,v,E,N,H){r.cancelPendingCommit=null;do Od();while(Qt!==0);if((rt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(v=a.lanes|a.childLanes,v|=lp,hn(r,l,v,E,N,H),r===pt&&(Ge=pt=null,Ke=0),hl=a,Js=r,es=l,gg=v,yg=p,h_=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,jI(Ce,function(){return A_(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,p=ae.p,ae.p=2,E=rt,rt|=4;try{wI(r,a,l)}finally{rt=E,ae.p=p,Q.T=c}}Qt=1,E_(),T_(),w_()}}function E_(){if(Qt===1){Qt=0;var r=Js,a=hl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var c=ae.p;ae.p=2;var p=rt;rt|=4;try{i_(a,r);var v=Mg,E=u1(r.containerInfo),N=v.focusedElem,H=v.selectionRange;if(E!==N&&N&&N.ownerDocument&&l1(N.ownerDocument.documentElement,N)){if(H!==null&&ip(N)){var W=H.start,se=H.end;if(se===void 0&&(se=W),"selectionStart"in N)N.selectionStart=W,N.selectionEnd=Math.min(se,N.value.length);else{var le=N.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),xe=N.textContent.length,Ne=Math.min(H.start,xe),mt=H.end===void 0?Ne:Math.min(H.end,xe);!te.extend&&Ne>mt&&(E=mt,mt=Ne,Ne=E);var K=o1(N,Ne),$=o1(N,mt);if(K&&$&&(te.rangeCount!==1||te.anchorNode!==K.node||te.anchorOffset!==K.offset||te.focusNode!==$.node||te.focusOffset!==$.offset)){var X=le.createRange();X.setStart(K.node,K.offset),te.removeAllRanges(),Ne>mt?(te.addRange(X),te.extend($.node,$.offset)):(X.setEnd($.node,$.offset),te.addRange(X))}}}}for(le=[],te=N;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<le.length;N++){var oe=le[N];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Kd=!!Ig,Mg=Ig=null}finally{rt=p,ae.p=c,Q.T=l}}r.current=a,Qt=2}}function T_(){if(Qt===2){Qt=0;var r=Js,a=hl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var c=ae.p;ae.p=2;var p=rt;rt|=4;try{Jb(r,a.alternate,a)}finally{rt=p,ae.p=c,Q.T=l}}Qt=3}}function w_(){if(Qt===4||Qt===3){Qt=0,Ma();var r=Js,a=hl,l=es,c=h_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Qt=5:(Qt=0,hl=Js=null,C_(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Ws=null),mu(l),a=a.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(en,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Q.T,p=ae.p,ae.p=2,Q.T=null;try{for(var v=r.onRecoverableError,E=0;E<c.length;E++){var N=c[E];v(N.value,{componentStack:N.stack})}}finally{Q.T=a,ae.p=p}}(es&3)!==0&&Od(),or(r),p=r.pendingLanes,(l&261930)!==0&&(p&42)!==0?r===vg?Ju++:(Ju=0,vg=r):Ju=0,Zu(0)}}function C_(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Du(a)))}function Od(){return E_(),T_(),w_(),A_()}function A_(){if(Qt!==5)return!1;var r=Js,a=gg;gg=0;var l=mu(es),c=Q.T,p=ae.p;try{ae.p=32>l?32:l,Q.T=null,l=yg,yg=null;var v=Js,E=es;if(Qt=0,hl=Js=null,es=0,(rt&6)!==0)throw Error(i(331));var N=rt;if(rt|=4,l_(v.current),s_(v,v.current,E,l),rt=N,Zu(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(en,v)}catch{}return!0}finally{ae.p=p,Q.T=c,C_(r,a)}}function N_(r,a,l){a=vi(l,a),a=Xp(r.stateNode,a,2),r=Gs(r,a,2),r!==null&&(Ss(r,2),or(r))}function ht(r,a,l){if(r.tag===3)N_(r,r,l);else for(;a!==null;){if(a.tag===3){N_(a,r,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ws===null||!Ws.has(c))){r=vi(l,r),l=Rb(2),c=Gs(a,l,2),c!==null&&(kb(l,c,a,r),Ss(c,2),or(c));break}}a=a.return}}function _g(r,a,l){var c=r.pingCache;if(c===null){c=r.pingCache=new NI;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(fg=!0,p.add(l),r=DI.bind(null,r,a,l),a.then(r,r))}function DI(r,a,l){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,pt===r&&(Ke&l)===l&&(Mt===4||Mt===3&&(Ke&62914560)===Ke&&300>Yt()-Rd?(rt&2)===0&&dl(r,0):mg|=l,cl===Ke&&(cl=0)),or(r)}function R_(r,a){a===0&&(a=hu()),r=$a(r,a),r!==null&&(Ss(r,a),or(r))}function PI(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),R_(r,l)}function OI(r,a){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),R_(r,l)}function jI(r,a){return Yi(r,a)}var jd=null,ml=null,Sg=!1,Ld=!1,Eg=!1,ea=0;function or(r){r!==ml&&r.next===null&&(ml===null?jd=ml=r:ml=ml.next=r),Ld=!0,Sg||(Sg=!0,VI())}function Zu(r,a){if(!Eg&&Ld){Eg=!0;do for(var l=!1,c=jd;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var v=0;else{var E=c.suspendedLanes,N=c.pingedLanes;v=(1<<31-ut(42|r)+1)-1,v&=p&~(E&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,D_(c,v))}else v=Ke,v=mi(c,c===pt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||_s(c,v)||(l=!0,D_(c,v));c=c.next}while(l);Eg=!1}}function LI(){k_()}function k_(){Ld=Sg=!1;var r=0;ea!==0&&YI()&&(r=ea);for(var a=Yt(),l=null,c=jd;c!==null;){var p=c.next,v=I_(c,a);v===0?(c.next=null,l===null?jd=p:l.next=p,p===null&&(ml=l)):(l=c,(r!==0||(v&3)!==0)&&(Ld=!0)),c=p}Qt!==0&&Qt!==5||Zu(r),ea!==0&&(ea=0)}function I_(r,a){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var E=31-ut(v),N=1<<E,H=p[E];H===-1?((N&l)===0||(N&c)!==0)&&(p[E]=Po(N,a)):H<=a&&(r.expiredLanes|=N),v&=~N}if(a=pt,l=Ke,l=mi(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===a&&(ct===2||ct===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&xs(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||_s(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(c!==null&&xs(c),mu(l)){case 2:case 8:l=de;break;case 32:l=Ce;break;case 268435456:l=Ze;break;default:l=Ce}return c=M_.bind(null,r),l=Yi(l,c),r.callbackPriority=a,r.callbackNode=l,a}return c!==null&&c!==null&&xs(c),r.callbackPriority=2,r.callbackNode=null,2}function M_(r,a){if(Qt!==0&&Qt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Od()&&r.callbackNode!==l)return null;var c=Ke;return c=mi(r,r===pt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(f_(r,c,a),I_(r,Yt()),r.callbackNode!=null&&r.callbackNode===l?M_.bind(null,r):null)}function D_(r,a){if(Od())return null;f_(r,a,!0)}function VI(){XI(function(){(rt&6)!==0?Yi(ie,LI):k_()})}function Tg(){if(ea===0){var r=Zo;r===0&&(r=Da,Da<<=1,(Da&261888)===0&&(Da=256)),ea=r}return ea}function P_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:tr(""+r)}function O_(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function BI(r,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var v=P_((p[dn]||null).action),E=c.submitter;E&&(a=(a=E[dn]||null)?P_(a.formAction):E.getAttribute("formAction"),a!==null&&(v=a,E=null));var N=new Ba("action","action",null,c,p);r.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ea!==0){var H=E?O_(p,E):new FormData(p);qp(l,{pending:!0,data:H,method:p.method,action:v},null,H)}}else typeof v=="function"&&(N.preventDefault(),H=E?O_(p,E):new FormData(p),qp(l,{pending:!0,data:H,method:p.method,action:v},v,H))},currentTarget:p}]})}}for(var wg=0;wg<op.length;wg++){var Cg=op[wg],UI=Cg.toLowerCase(),zI=Cg[0].toUpperCase()+Cg.slice(1);ji(UI,"on"+zI)}ji(d1,"onAnimationEnd"),ji(f1,"onAnimationIteration"),ji(m1,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(iI,"onTransitionRun"),ji(rI,"onTransitionStart"),ji(sI,"onTransitionCancel"),ji(p1,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ec));function j_(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;e:{var v=void 0;if(a)for(var E=c.length-1;0<=E;E--){var N=c[E],H=N.instance,W=N.currentTarget;if(N=N.listener,H!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=W;try{v(p)}catch(se){Jh(se)}p.currentTarget=null,v=H}else for(E=0;E<c.length;E++){if(N=c[E],H=N.instance,W=N.currentTarget,N=N.listener,H!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=W;try{v(p)}catch(se){Jh(se)}p.currentTarget=null,v=H}}}}function $e(r,a){var l=a[ws];l===void 0&&(l=a[ws]=new Set);var c=r+"__bubble";l.has(c)||(L_(a,r,2,!1),l.add(c))}function Ag(r,a,l){var c=0;a&&(c|=4),L_(l,r,c,a)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function Ng(r){if(!r[Vd]){r[Vd]=!0,Oo.forEach(function(l){l!=="selectionchange"&&(FI.has(l)||Ag(l,!1,r),Ag(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Vd]||(a[Vd]=!0,Ag("selectionchange",!1,a))}}function L_(r,a,l,c){switch(dS(a)){case 2:var p=g4;break;case 8:p=y4;break;default:p=Hg}l=p.bind(null,a,l,r),p=void 0,!Su||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(a,l,{capture:!0,passive:p}):r.addEventListener(a,l,!0):p!==void 0?r.addEventListener(a,l,{passive:p}):r.addEventListener(a,l,!1)}function Rg(r,a,l,c,p){var v=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var N=c.stateNode.containerInfo;if(N===p)break;if(E===4)for(E=c.return;E!==null;){var H=E.tag;if((H===3||H===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;N!==null;){if(E=Pr(N),E===null)return;if(H=E.tag,H===5||H===6||H===26||H===27){c=v=E;continue e}N=N.parentNode}}c=c.return}jh(function(){var W=v,se=Uo(l),le=[];e:{var Z=g1.get(r);if(Z!==void 0){var te=Ba,xe=r;switch(r){case"keypress":if(Va(l)===0)break e;case"keydown":case"keyup":te=Gh;break;case"focusin":xe="focus",te=Os;break;case"focusout":xe="blur",te=Os;break;case"beforeblur":case"afterblur":te=Os;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Kh;break;case d1:case f1:case m1:te=Ho;break;case p1:te=qo;break;case"scroll":case"scrollend":te=Lh;break;case"wheel":te=Qh;break;case"copy":case"cut":case"paste":te=zh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Au;break;case"toggle":case"beforetoggle":te=Ls}var Ne=(a&4)!==0,mt=!Ne&&(r==="scroll"||r==="scrollend"),K=Ne?Z!==null?Z+"Capture":null:Z;Ne=[];for(var $=W,X;$!==null;){var oe=$;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||K===null||(oe=Bn($,K),oe!=null&&Ne.push(tc($,oe,X))),mt)break;$=$.return}0<Ne.length&&(Z=new te(Z,xe,null,l,se),le.push({event:Z,listeners:Ne}))}}if((a&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",Z&&l!==Bo&&(xe=l.relatedTarget||l.fromElement)&&(Pr(xe)||xe[Ji]))break e;if((te||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(xe=l.relatedTarget||l.toElement,te=W,xe=xe?Pr(xe):null,xe!==null&&(mt=o(xe),Ne=xe.tag,xe!==mt||Ne!==5&&Ne!==27&&Ne!==6)&&(xe=null)):(te=null,xe=W),te!==xe)){if(Ne=Vh,oe="onMouseLeave",K="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(Ne=Au,oe="onPointerLeave",K="onPointerEnter",$="pointer"),mt=te==null?Z:Oa(te),X=xe==null?Z:Oa(xe),Z=new Ne(oe,$+"leave",te,l,se),Z.target=mt,Z.relatedTarget=X,oe=null,Pr(se)===W&&(Ne=new Ne(K,$+"enter",xe,l,se),Ne.target=X,Ne.relatedTarget=mt,oe=Ne),mt=oe,te&&xe)t:{for(Ne=HI,K=te,$=xe,X=0,oe=K;oe;oe=Ne(oe))X++;oe=0;for(var we=$;we;we=Ne(we))oe++;for(;0<X-oe;)K=Ne(K),X--;for(;0<oe-X;)$=Ne($),oe--;for(;X--;){if(K===$||$!==null&&K===$.alternate){Ne=K;break t}K=Ne(K),$=Ne($)}Ne=null}else Ne=null;te!==null&&V_(le,Z,te,Ne,!1),xe!==null&&mt!==null&&V_(le,mt,xe,Ne,!0)}}e:{if(Z=W?Oa(W):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var tt=t1;else if(Un(Z))if(n1)tt=eI;else{tt=Jk;var be=Wk}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&bu(W.elementType)&&(tt=t1):tt=Zk;if(tt&&(tt=tt(r,W))){Ha(le,tt,l,se);break e}be&&be(r,Z,W),r==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&Vo(Z,"number",Z.value)}switch(be=W?Oa(W):window,r){case"focusin":(Un(be)||be.contentEditable==="true")&&(Go=be,rp=W,ku=null);break;case"focusout":ku=rp=Go=null;break;case"mousedown":sp=!0;break;case"contextmenu":case"mouseup":case"dragend":sp=!1,c1(le,l,se);break;case"selectionchange":if(nI)break;case"keydown":case"keyup":c1(le,l,se)}var Be;if(_)e:{switch(r){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Fe?ot(r,l)&&(Ye="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ye="onCompositionStart");Ye&&(Y&&l.locale!=="ko"&&(Fe||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Fe&&(Be=Is()):(ei=se,zo="value"in ei?ei.value:ei.textContent,Fe=!0)),be=Bd(W,Ye),0<be.length&&(Ye=new Tu(Ye,r,null,l,se),le.push({event:Ye,listeners:be}),Be?Ye.data=Be:(Be=Bt(l),Be!==null&&(Ye.data=Be)))),(Be=k?rn(r,l):sn(r,l))&&(Ye=Bd(W,"onBeforeInput"),0<Ye.length&&(be=new Tu("onBeforeInput","beforeinput",null,l,se),le.push({event:be,listeners:Ye}),be.data=Be)),BI(le,r,W,l,se)}j_(le,a)})}function tc(r,a,l){return{instance:r,listener:a,currentTarget:l}}function Bd(r,a){for(var l=a+"Capture",c=[];r!==null;){var p=r,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Bn(r,l),p!=null&&c.unshift(tc(r,p,v)),p=Bn(r,a),p!=null&&c.push(tc(r,p,v))),r.tag===3)return c;r=r.return}return[]}function HI(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function V_(r,a,l,c,p){for(var v=a._reactName,E=[];l!==null&&l!==c;){var N=l,H=N.alternate,W=N.stateNode;if(N=N.tag,H!==null&&H===c)break;N!==5&&N!==26&&N!==27||W===null||(H=W,p?(W=Bn(l,v),W!=null&&E.unshift(tc(l,W,H))):p||(W=Bn(l,v),W!=null&&E.push(tc(l,W,H)))),l=l.return}E.length!==0&&r.push({event:a,listeners:E})}var qI=/\r\n?/g,GI=/\u0000|\uFFFD/g;function B_(r){return(typeof r=="string"?r:""+r).replace(qI,`
`).replace(GI,"")}function U_(r,a){return a=B_(a),B_(r)===a}function ft(r,a,l,c,p,v){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||gi(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&gi(r,""+c);break;case"className":Ns(r,"class",c);break;case"tabIndex":Ns(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ns(r,l,c);break;case"style":Ph(r,c,v);break;case"data":if(a!=="object"){Ns(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=tr(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(a!=="input"&&ft(r,a,"name",p.name,p,null),ft(r,a,"formEncType",p.formEncType,p,null),ft(r,a,"formMethod",p.formMethod,p,null),ft(r,a,"formTarget",p.formTarget,p,null)):(ft(r,a,"encType",p.encType,p,null),ft(r,a,"method",p.method,p,null),ft(r,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=tr(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=nn);break;case"onScroll":c!=null&&$e("scroll",r);break;case"onScrollEnd":c!=null&&$e("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=tr(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":$e("beforetoggle",r),$e("toggle",r),As(r,"popover",c);break;case"xlinkActuate":pi(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":pi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":pi(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":pi(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":pi(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":pi(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":pi(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":pi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":pi(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":As(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Jm.get(l)||l,As(r,l,c))}}function kg(r,a,l,c,p,v){switch(l){case"style":Ph(r,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?gi(r,c):(typeof c=="number"||typeof c=="bigint")&&gi(r,""+c);break;case"onScroll":c!=null&&$e("scroll",r);break;case"onScrollEnd":c!=null&&$e("scrollend",r);break;case"onClick":c!=null&&(r.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cs.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),v=r[dn]||null,v=v!=null?v[l]:null,typeof v=="function"&&r.removeEventListener(a,v,p),typeof c=="function")){typeof v!="function"&&v!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,c,p);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):As(r,l,c)}}}function gn(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",r),$e("load",r);var c=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var E=l[v];if(E!=null)switch(v){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ft(r,a,v,E,l,null)}}p&&ft(r,a,"srcSet",l.srcSet,l,null),c&&ft(r,a,"src",l.src,l,null);return;case"input":$e("invalid",r);var N=v=E=p=null,H=null,W=null;for(c in l)if(l.hasOwnProperty(c)){var se=l[c];if(se!=null)switch(c){case"name":p=se;break;case"type":E=se;break;case"checked":H=se;break;case"defaultChecked":W=se;break;case"value":v=se;break;case"defaultValue":N=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,a));break;default:ft(r,a,c,se,l,null)}}ja(r,v,N,H,W,E,p,!1);return;case"select":$e("invalid",r),c=E=v=null;for(p in l)if(l.hasOwnProperty(p)&&(N=l[p],N!=null))switch(p){case"value":v=N;break;case"defaultValue":E=N;break;case"multiple":c=N;default:ft(r,a,p,N,l,null)}a=v,l=E,r.multiple=!!c,a!=null?et(r,!!c,a,!1):l!=null&&et(r,!!c,l,!0);return;case"textarea":$e("invalid",r),v=p=c=null;for(E in l)if(l.hasOwnProperty(E)&&(N=l[E],N!=null))switch(E){case"value":c=N;break;case"defaultValue":p=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:ft(r,a,E,N,l,null)}ks(r,c,p,v);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(c=l[H],c!=null))switch(H){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ft(r,a,H,c,l,null)}return;case"dialog":$e("beforetoggle",r),$e("toggle",r),$e("cancel",r),$e("close",r);break;case"iframe":case"object":$e("load",r);break;case"video":case"audio":for(c=0;c<ec.length;c++)$e(ec[c],r);break;case"image":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"embed":case"source":case"link":$e("error",r),$e("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(c=l[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ft(r,a,W,c,l,null)}return;default:if(bu(a)){for(se in l)l.hasOwnProperty(se)&&(c=l[se],c!==void 0&&kg(r,a,se,c,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null&&ft(r,a,N,c,l,null))}function $I(r,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,E=null,N=null,H=null,W=null,se=null;for(te in l){var le=l[te];if(l.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":H=le;default:c.hasOwnProperty(te)||ft(r,a,te,null,c,le)}}for(var Z in c){var te=c[Z];if(le=l[Z],c.hasOwnProperty(Z)&&(te!=null||le!=null))switch(Z){case"type":v=te;break;case"name":p=te;break;case"checked":W=te;break;case"defaultChecked":se=te;break;case"value":E=te;break;case"defaultValue":N=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:te!==le&&ft(r,a,Z,te,c,le)}}Rs(r,E,N,H,W,se,v,p);return;case"select":te=E=N=Z=null;for(v in l)if(H=l[v],l.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":te=H;default:c.hasOwnProperty(v)||ft(r,a,v,null,c,H)}for(p in c)if(v=c[p],H=l[p],c.hasOwnProperty(p)&&(v!=null||H!=null))switch(p){case"value":Z=v;break;case"defaultValue":N=v;break;case"multiple":E=v;default:v!==H&&ft(r,a,p,v,c,H)}a=N,l=E,c=te,Z!=null?et(r,!!l,Z,!1):!!c!=!!l&&(a!=null?et(r,!!l,a,!0):et(r,!!l,l?[]:"",!1));return;case"textarea":te=Z=null;for(N in l)if(p=l[N],l.hasOwnProperty(N)&&p!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:ft(r,a,N,null,c,p)}for(E in c)if(p=c[E],v=l[E],c.hasOwnProperty(E)&&(p!=null||v!=null))switch(E){case"value":Z=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==v&&ft(r,a,E,p,c,v)}La(r,Z,te);return;case"option":for(var xe in l)if(Z=l[xe],l.hasOwnProperty(xe)&&Z!=null&&!c.hasOwnProperty(xe))switch(xe){case"selected":r.selected=!1;break;default:ft(r,a,xe,null,c,Z)}for(H in c)if(Z=c[H],te=l[H],c.hasOwnProperty(H)&&Z!==te&&(Z!=null||te!=null))switch(H){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ft(r,a,H,Z,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)Z=l[Ne],l.hasOwnProperty(Ne)&&Z!=null&&!c.hasOwnProperty(Ne)&&ft(r,a,Ne,null,c,Z);for(W in c)if(Z=c[W],te=l[W],c.hasOwnProperty(W)&&Z!==te&&(Z!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:ft(r,a,W,Z,c,te)}return;default:if(bu(a)){for(var mt in l)Z=l[mt],l.hasOwnProperty(mt)&&Z!==void 0&&!c.hasOwnProperty(mt)&&kg(r,a,mt,void 0,c,Z);for(se in c)Z=c[se],te=l[se],!c.hasOwnProperty(se)||Z===te||Z===void 0&&te===void 0||kg(r,a,se,Z,c,te);return}}for(var K in l)Z=l[K],l.hasOwnProperty(K)&&Z!=null&&!c.hasOwnProperty(K)&&ft(r,a,K,null,c,Z);for(le in c)Z=c[le],te=l[le],!c.hasOwnProperty(le)||Z===te||Z==null&&te==null||ft(r,a,le,Z,c,te)}function z_(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KI(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var p=l[c],v=p.transferSize,E=p.initiatorType,N=p.duration;if(v&&N&&z_(E)){for(E=0,N=p.responseEnd,c+=1;c<l.length;c++){var H=l[c],W=H.startTime;if(W>N)break;var se=H.transferSize,le=H.initiatorType;se&&z_(le)&&(H=H.responseEnd,E+=se*(H<N?1:(N-W)/(H-W)))}if(--c,a+=8*(v+E)/(p.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ig=null,Mg=null;function Ud(r){return r.nodeType===9?r:r.ownerDocument}function F_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Dg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Pg=null;function YI(){var r=window.event;return r&&r.type==="popstate"?r===Pg?!1:(Pg=r,!0):(Pg=null,!1)}var q_=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,XI=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(r){return G_.resolve(null).then(r).catch(WI)}:q_;function WI(r){setTimeout(function(){throw r})}function ta(r){return r==="head"}function $_(r,a){var l=a,c=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(p),vl(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")nc(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,nc(l);for(var v=l.firstChild;v;){var E=v.nextSibling,N=v.nodeName;v[Dr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=E}}else l==="body"&&nc(r.ownerDocument.body);l=p}while(l);vl(a)}function K_(r,a){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function Og(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Og(l),Pa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function JI(r,a,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Dr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Ei(r.nextSibling),r===null)break}return null}function ZI(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Ei(r.nextSibling),r===null))return null;return r}function Y_(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Ei(r.nextSibling),r===null))return null;return r}function jg(r){return r.data==="$?"||r.data==="$~"}function Lg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function e4(r,a){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Ei(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Vg=null;function Q_(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(a===0)return Ei(r.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}r=r.nextSibling}return null}function X_(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return r;a--}else l!=="/$"&&l!=="/&"||a++}r=r.previousSibling}return null}function W_(r,a,l){switch(a=Ud(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function nc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Pa(r)}var Ti=new Map,J_=new Set;function zd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ts=ae.d;ae.d={f:t4,r:n4,D:i4,C:r4,L:s4,m:a4,X:l4,S:o4,M:u4};function t4(){var r=ts.f(),a=Md();return r||a}function n4(r){var a=Or(r);a!==null&&a.tag===5&&a.type==="form"?pb(a):ts.r(r)}var pl=typeof document>"u"?null:document;function Z_(r,a,l){var c=pl;if(c&&typeof a=="string"&&a){var p=kt(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),J_.has(p)||(J_.add(p),r={rel:r,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),gn(a,"link",r),Pt(a),c.head.appendChild(a)))}}function i4(r){ts.D(r),Z_("dns-prefetch",r,null)}function r4(r,a){ts.C(r,a),Z_("preconnect",r,a)}function s4(r,a,l){ts.L(r,a,l);var c=pl;if(c&&r&&a){var p='link[rel="preload"][as="'+kt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+kt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+kt(l.imageSizes)+'"]')):p+='[href="'+kt(r)+'"]';var v=p;switch(a){case"style":v=gl(r);break;case"script":v=yl(r)}Ti.has(v)||(r=x({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),Ti.set(v,r),c.querySelector(p)!==null||a==="style"&&c.querySelector(ic(v))||a==="script"&&c.querySelector(rc(v))||(a=c.createElement("link"),gn(a,"link",r),Pt(a),c.head.appendChild(a)))}}function a4(r,a){ts.m(r,a);var l=pl;if(l&&r){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+kt(c)+'"][href="'+kt(r)+'"]',v=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=yl(r)}if(!Ti.has(v)&&(r=x({rel:"modulepreload",href:r},a),Ti.set(v,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(rc(v)))return}c=l.createElement("link"),gn(c,"link",r),Pt(c),l.head.appendChild(c)}}}function o4(r,a,l){ts.S(r,a,l);var c=pl;if(c&&r){var p=Pi(c).hoistableStyles,v=gl(r);a=a||"default";var E=p.get(v);if(!E){var N={loading:0,preload:null};if(E=c.querySelector(ic(v)))N.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":a},l),(l=Ti.get(v))&&Bg(r,l);var H=E=c.createElement("link");Pt(H),gn(H,"link",r),H._p=new Promise(function(W,se){H.onload=W,H.onerror=se}),H.addEventListener("load",function(){N.loading|=1}),H.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Fd(E,a,c)}E={type:"stylesheet",instance:E,count:1,state:N},p.set(v,E)}}}function l4(r,a){ts.X(r,a);var l=pl;if(l&&r){var c=Pi(l).hoistableScripts,p=yl(r),v=c.get(p);v||(v=l.querySelector(rc(p)),v||(r=x({src:r,async:!0},a),(a=Ti.get(p))&&Ug(r,a),v=l.createElement("script"),Pt(v),gn(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function u4(r,a){ts.M(r,a);var l=pl;if(l&&r){var c=Pi(l).hoistableScripts,p=yl(r),v=c.get(p);v||(v=l.querySelector(rc(p)),v||(r=x({src:r,async:!0,type:"module"},a),(a=Ti.get(p))&&Ug(r,a),v=l.createElement("script"),Pt(v),gn(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function eS(r,a,l,c){var p=(p=Ee.current)?zd(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=gl(l.href),l=Pi(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=gl(l.href);var v=Pi(p).hoistableStyles,E=v.get(r);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,E),(v=p.querySelector(ic(r)))&&!v._p&&(E.instance=v,E.state.loading=5),Ti.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ti.set(r,l),v||c4(p,r,l,E.state))),a&&c===null)throw Error(i(528,""));return E}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=yl(l),l=Pi(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function gl(r){return'href="'+kt(r)+'"'}function ic(r){return'link[rel="stylesheet"]['+r+"]"}function tS(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function c4(r,a,l,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),gn(a,"link",l),Pt(a),r.head.appendChild(a))}function yl(r){return'[src="'+kt(r)+'"]'}function rc(r){return"script[async]"+r}function nS(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+kt(l.href)+'"]');if(c)return a.instance=c,Pt(c),c;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Pt(c),gn(c,"style",p),Fd(c,l.precedence,r),a.instance=c;case"stylesheet":p=gl(l.href);var v=r.querySelector(ic(p));if(v)return a.state.loading|=4,a.instance=v,Pt(v),v;c=tS(l),(p=Ti.get(p))&&Bg(c,p),v=(r.ownerDocument||r).createElement("link"),Pt(v);var E=v;return E._p=new Promise(function(N,H){E.onload=N,E.onerror=H}),gn(v,"link",c),a.state.loading|=4,Fd(v,l.precedence,r),a.instance=v;case"script":return v=yl(l.src),(p=r.querySelector(rc(v)))?(a.instance=p,Pt(p),p):(c=l,(p=Ti.get(v))&&(c=x({},l),Ug(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),Pt(p),gn(p,"link",c),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Fd(c,l.precedence,r));return a.instance}function Fd(r,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,v=p,E=0;E<c.length;E++){var N=c[E];if(N.dataset.precedence===a)v=N;else if(v!==p)break}v?v.parentNode.insertBefore(r,v.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function Bg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Ug(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Hd=null;function iS(r,a,l){if(Hd===null){var c=new Map,p=Hd=new Map;p.set(l,c)}else p=Hd,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var v=l[p];if(!(v[Dr]||v[Rt]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(a)||"";E=r+E;var N=c.get(E);N?N.push(v):c.set(E,[v])}}return c}function rS(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function h4(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function sS(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function d4(r,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=gl(c.href),v=a.querySelector(ic(p));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=qd.bind(r),a.then(r,r)),l.state.loading|=4,l.instance=v,Pt(v);return}v=a.ownerDocument||a,c=tS(c),(p=Ti.get(p))&&Bg(c,p),v=v.createElement("link"),Pt(v);var E=v;E._p=new Promise(function(N,H){E.onload=N,E.onerror=H}),gn(v,"link",c),l.instance=v}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=qd.bind(r),a.addEventListener("load",l),a.addEventListener("error",l))}}var zg=0;function f4(r,a){return r.stylesheets&&r.count===0&&$d(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&$d(r,r.stylesheets),r.unsuspend){var v=r.unsuspend;r.unsuspend=null,v()}},6e4+a);0<r.imgBytes&&zg===0&&(zg=62500*KI());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&$d(r,r.stylesheets),r.unsuspend)){var v=r.unsuspend;r.unsuspend=null,v()}},(r.imgBytes>zg?50:800)+a);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function qd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Gd=null;function $d(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Gd=new Map,a.forEach(m4,r),Gd=null,qd.call(r))}function m4(r,a){if(!(a.state.loading&4)){var l=Gd.get(r);if(l)var c=l.get(null);else{l=new Map,Gd.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var E=p[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}p=a.instance,E=p.getAttribute("data-precedence"),v=l.get(E)||c,v===c&&l.set(null,p),l.set(E,p),this.count++,c=qd.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),v?v.parentNode.insertBefore(p,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var sc={$$typeof:L,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function p4(r,a,l,c,p,v,E,N,H){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.hiddenUpdates=Ir(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function aS(r,a,l,c,p,v,E,N,H,W,se,le){return r=new p4(r,a,l,E,H,W,se,le,N),a=1,v===!0&&(a|=24),v=ni(3,null,null,a),r.current=v,v.stateNode=r,a=bp(),a.refCount++,r.pooledCache=a,a.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:a},Tp(v),r}function oS(r){return r?(r=Yo,r):Yo}function lS(r,a,l,c,p,v){p=oS(p),c.context===null?c.context=p:c.pendingContext=p,c=qs(a),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=Gs(r,c,a),l!==null&&(Gn(l,r,a),Lu(l,r,a))}function uS(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Fg(r,a){uS(r,a),(r=r.alternate)&&uS(r,a)}function cS(r){if(r.tag===13||r.tag===31){var a=$a(r,67108864);a!==null&&Gn(a,r,67108864),Fg(r,67108864)}}function hS(r){if(r.tag===13||r.tag===31){var a=oi();a=fu(a);var l=$a(r,a);l!==null&&Gn(l,r,a),Fg(r,a)}}var Kd=!0;function g4(r,a,l,c){var p=Q.T;Q.T=null;var v=ae.p;try{ae.p=2,Hg(r,a,l,c)}finally{ae.p=v,Q.T=p}}function y4(r,a,l,c){var p=Q.T;Q.T=null;var v=ae.p;try{ae.p=8,Hg(r,a,l,c)}finally{ae.p=v,Q.T=p}}function Hg(r,a,l,c){if(Kd){var p=qg(c);if(p===null)Rg(r,a,c,Yd,l),fS(r,c);else if(x4(p,r,a,l,c))c.stopPropagation();else if(fS(r,c),a&4&&-1<v4.indexOf(r)){for(;p!==null;){var v=Or(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=Di(v.pendingLanes);if(E!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;E;){var H=1<<31-ut(E);N.entanglements[1]|=H,E&=~H}or(v),(rt&6)===0&&(kd=Yt()+500,Zu(0))}}break;case 31:case 13:N=$a(v,2),N!==null&&Gn(N,v,2),Md(),Fg(v,2)}if(v=qg(c),v===null&&Rg(r,a,c,Yd,l),v===p)break;p=v}p!==null&&c.stopPropagation()}else Rg(r,a,c,null,l)}}function qg(r){return r=Uo(r),Gg(r)}var Yd=null;function Gg(r){if(Yd=null,r=Pr(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===31){if(r=h(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Yd=r,null}function dS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Do()){case ie:return 2;case de:return 8;case Ce:case ze:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var $g=!1,na=null,ia=null,ra=null,ac=new Map,oc=new Map,sa=[],v4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fS(r,a){switch(r){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":ac.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(a.pointerId)}}function lc(r,a,l,c,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[p]},a!==null&&(a=Or(a),a!==null&&cS(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function x4(r,a,l,c,p){switch(a){case"focusin":return na=lc(na,r,a,l,c,p),!0;case"dragenter":return ia=lc(ia,r,a,l,c,p),!0;case"mouseover":return ra=lc(ra,r,a,l,c,p),!0;case"pointerover":var v=p.pointerId;return ac.set(v,lc(ac.get(v)||null,r,a,l,c,p)),!0;case"gotpointercapture":return v=p.pointerId,oc.set(v,lc(oc.get(v)||null,r,a,l,c,p)),!0}return!1}function mS(r){var a=Pr(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,kh(r.priority,function(){hS(l)});return}}else if(a===31){if(a=h(l),a!==null){r.blockedOn=a,kh(r.priority,function(){hS(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qd(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=qg(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Bo=c,l.target.dispatchEvent(c),Bo=null}else return a=Or(l),a!==null&&cS(a),r.blockedOn=l,!1;a.shift()}return!0}function pS(r,a,l){Qd(r)&&l.delete(a)}function b4(){$g=!1,na!==null&&Qd(na)&&(na=null),ia!==null&&Qd(ia)&&(ia=null),ra!==null&&Qd(ra)&&(ra=null),ac.forEach(pS),oc.forEach(pS)}function Xd(r,a){r.blockedOn===a&&(r.blockedOn=null,$g||($g=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,b4)))}var Wd=null;function gS(r){Wd!==r&&(Wd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wd===r&&(Wd=null);for(var a=0;a<r.length;a+=3){var l=r[a],c=r[a+1],p=r[a+2];if(typeof c!="function"){if(Gg(c||l)===null)continue;break}var v=Or(l);v!==null&&(r.splice(a,3),a-=3,qp(v,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function vl(r){function a(H){return Xd(H,r)}na!==null&&Xd(na,r),ia!==null&&Xd(ia,r),ra!==null&&Xd(ra,r),ac.forEach(a),oc.forEach(a);for(var l=0;l<sa.length;l++){var c=sa[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<sa.length&&(l=sa[0],l.blockedOn===null);)mS(l),l.blockedOn===null&&sa.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],v=l[c+1],E=p[dn]||null;if(typeof v=="function")E||gS(l);else if(E){var N=null;if(v&&v.hasAttribute("formAction")){if(p=v,E=v[dn]||null)N=E.formAction;else if(Gg(p)!==null)continue}else N=E.action;typeof N=="function"?l[c+1]=N:(l.splice(c,3),c-=3),gS(l)}}}function yS(){function r(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Kg(r){this._internalRoot=r}Jd.prototype.render=Kg.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=oi();lS(l,c,r,a,null,null)},Jd.prototype.unmount=Kg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;lS(r.current,2,null,r,null,null),Md(),a[Ji]=null}};function Jd(r){this._internalRoot=r}Jd.prototype.unstable_scheduleHydration=function(r){if(r){var a=Mr();r={blockedOn:null,target:r,priority:a};for(var l=0;l<sa.length&&a!==0&&a<sa[l].priority;l++);sa.splice(l,0,r),l===0&&mS(r)}};var vS=e.version;if(vS!=="19.2.4")throw Error(i(527,vS,"19.2.4"));ae.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var _4={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zd.isDisabled&&Zd.supportsFiber)try{en=Zd.inject(_4),Nt=Zd}catch{}}return cc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,c="",p=wb,v=Cb,E=Ab;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=aS(r,1,!1,null,null,l,c,null,p,v,E,yS),r[Ji]=a.current,Ng(r),new Kg(a)},cc.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var c=!1,p="",v=wb,E=Cb,N=Ab,H=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.formState!==void 0&&(H=l.formState)),a=aS(r,1,!0,a,l??null,c,p,H,v,E,N,yS),a.context=oS(null),l=a.current,c=oi(),c=fu(c),p=qs(c),p.callback=null,Gs(l,p,c),l=c,a.current.lanes=l,Ss(a,l),or(a),r[Ji]=a.current,Ng(r),new Jd(a)},cc.version="19.2.4",cc}var NS;function I4(){if(NS)return Xg.exports;NS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xg.exports=k4(),Xg.exports}var M4=I4();/**
 * react-router v7.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var RS="popstate";function kS(t){return typeof t=="object"&&t!=null&&"pathname"in t&&"search"in t&&"hash"in t&&"state"in t&&"key"in t}function D4(t={}){function e(i,s){var f;let o=(f=s.state)==null?void 0:f.masked,{pathname:u,search:h,hash:d}=o||i.location;return $y("",{pathname:u,search:h,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default",o?{pathname:i.location.pathname,search:i.location.search,hash:i.location.hash}:void 0)}function n(i,s){return typeof s=="string"?s:qc(s)}return O4(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P4(){return Math.random().toString(36).substring(2,10)}function IS(t,e){return{usr:t.state,key:t.key,idx:e,masked:t.unstable_mask?{pathname:t.pathname,search:t.search,hash:t.hash}:void 0}}function $y(t,e,n=null,i,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yl(e):e,state:n,key:e&&e.key||i||P4(),unstable_mask:s}}function qc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function O4(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,h="POP",d=null,f=g();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function g(){return(u.state||{idx:null}).idx}function x(){h="POP";let A=g(),D=A==null?null:A-f;f=A,d&&d({action:h,location:R.location,delta:D})}function b(A,D){h="PUSH";let q=kS(A)?A:$y(R.location,A,D);f=g()+1;let L=IS(q,f),ee=R.createHref(q.unstable_mask||q);try{u.pushState(L,"",ee)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;s.location.assign(ee)}o&&d&&d({action:h,location:R.location,delta:1})}function S(A,D){h="REPLACE";let q=kS(A)?A:$y(R.location,A,D);f=g();let L=IS(q,f),ee=R.createHref(q.unstable_mask||q);u.replaceState(L,"",ee),o&&d&&d({action:h,location:R.location,delta:0})}function C(A){return j4(A)}let R={get action(){return h},get location(){return t(s,u)},listen(A){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(RS,x),d=A,()=>{s.removeEventListener(RS,x),d=null}},createHref(A){return e(s,A)},createURL:C,encodeLocation(A){let D=C(A);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:b,replace:S,go(A){return u.go(A)}};return R}function j4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:qc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function M2(t,e,n="/"){return L4(t,e,n,!1)}function L4(t,e,n,i){let s=typeof e=="string"?Yl(e):e,o=us(s.pathname||"/",n);if(o==null)return null;let u=D2(t);V4(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let f=Q4(o);h=K4(u[d],f,i)}return h}function D2(t,e=[],n=[],i="",s=!1){let o=(u,h,d=s,f)=>{let g={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&d)return;Tt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let x=fr([i,g.relativePath]),b=n.concat(g);u.children&&u.children.length>0&&(Tt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),D2(u.children,e,b,x,d)),!(u.path==null&&!u.index)&&e.push({path:x,score:G4(x,u.index),routesMeta:b})};return t.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let f of P2(u.path))o(u,h,!0,f)}),e}function P2(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=P2(i.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function V4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$4(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var B4=/^:[\w-]+$/,U4=3,z4=2,F4=1,H4=10,q4=-2,MS=t=>t==="*";function G4(t,e){let n=t.split("/"),i=n.length;return n.some(MS)&&(i+=q4),e&&(i+=z4),n.filter(s=>!MS(s)).reduce((s,o)=>s+(B4.test(o)?U4:o===""?F4:H4),i)}function $4(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function K4(t,e,n=!1){let{routesMeta:i}=t,s={},o="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],f=h===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",x=Of({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),b=d.route;if(!x&&f&&n&&!i[i.length-1].route.index&&(x=Of({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),u.push({params:s,pathname:fr([o,x.pathname]),pathnameBase:Z4(fr([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=fr([o,x.pathnameBase]))}return u}function Of(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Y4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:x},b)=>{if(g==="*"){let C=h[b]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=h[b];return x&&!S?f[g]=void 0:f[g]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:t}}function Y4(t,e=!1,n=!0){Gi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d,f,g)=>{if(i.push({paramName:h,isOptional:d!=null}),d){let x=g.charAt(f+u.length);return x&&x!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function Q4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var X4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function W4(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Yl(t):t,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=DS(n.substring(1),"/"):o=DS(n,e)):o=e,{pathname:o,search:eM(i),hash:tM(s)}}function DS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ey(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function J0(t){let e=J4(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function mm(t,e,n,i=!1){let s;typeof t=="string"?s=Yl(t):(s={...t},Tt(!s.pathname||!s.pathname.includes("?"),ey("?","pathname","search",s)),Tt(!s.pathname||!s.pathname.includes("#"),ey("#","pathname","hash",s)),Tt(!s.search||!s.search.includes("#"),ey("#","search","hash",s)));let o=t===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=n;else{let x=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;s.pathname=b.join("/")}h=x>=0?e[x]:"/"}let d=W4(s,h),f=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var fr=t=>t.join("/").replace(/\/\/+/g,"/"),Z4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,nM=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function iM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function rM(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var O2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function j2(t,e){let n=t;if(typeof n!="string"||!X4.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(O2)try{let o=new URL(window.location.href),u=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=us(u.pathname,e);u.origin===o.origin&&h!=null?n=h+u.search+u.hash:s=!0}catch{Gi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var L2=["POST","PUT","PATCH","DELETE"];new Set(L2);var sM=["GET",...L2];new Set(sM);var Ql=P.createContext(null);Ql.displayName="DataRouter";var pm=P.createContext(null);pm.displayName="DataRouterState";var aM=P.createContext(!1),V2=P.createContext({isTransitioning:!1});V2.displayName="ViewTransition";var oM=P.createContext(new Map);oM.displayName="Fetchers";var lM=P.createContext(null);lM.displayName="Await";var fi=P.createContext(null);fi.displayName="Navigation";var oh=P.createContext(null);oh.displayName="Location";var Ii=P.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var Z0=P.createContext(null);Z0.displayName="RouteError";var B2="REACT_ROUTER_ERROR",uM="REDIRECT",cM="ROUTE_ERROR_RESPONSE";function hM(t){if(t.startsWith(`${B2}:${uM}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function dM(t){if(t.startsWith(`${B2}:${cM}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nM(e.status,e.statusText,e.data)}catch{}}function fM(t,{relative:e}={}){Tt(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(fi),{hash:s,pathname:o,search:u}=lh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:fr([n,o])),i.createHref({pathname:h,search:u,hash:s})}function Xl(){return P.useContext(oh)!=null}function ms(){return Tt(Xl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(oh).location}var U2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z2(t){P.useContext(fi).static||P.useLayoutEffect(t)}function Mi(){let{isDataRoute:t}=P.useContext(Ii);return t?NM():mM()}function mM(){Tt(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Ql),{basename:e,navigator:n}=P.useContext(fi),{matches:i}=P.useContext(Ii),{pathname:s}=ms(),o=JSON.stringify(J0(i)),u=P.useRef(!1);return z2(()=>{u.current=!0}),P.useCallback((d,f={})=>{if(Gi(u.current,U2),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=mm(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:fr([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,o,s,t])}var pM=P.createContext(null);function gM(t){let e=P.useContext(Ii).outlet;return P.useMemo(()=>e&&P.createElement(pM.Provider,{value:t},e),[e,t])}function F2(){let{matches:t}=P.useContext(Ii),e=t[t.length-1];return e?e.params:{}}function lh(t,{relative:e}={}){let{matches:n}=P.useContext(Ii),{pathname:i}=ms(),s=JSON.stringify(J0(n));return P.useMemo(()=>mm(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function yM(t,e){return H2(t,e)}function H2(t,e,n){var A;Tt(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=P.useContext(fi),{matches:s}=P.useContext(Ii),o=s[s.length-1],u=o?o.params:{},h=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let D=f&&f.path||"";G2(h,!f||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let g=ms(),x;if(e){let D=typeof e=="string"?Yl(e):e;Tt(d==="/"||((A=D.pathname)==null?void 0:A.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${D.pathname}" was given in the \`location\` prop.`),x=D}else x=g;let b=x.pathname||"/",S=b;if(d!=="/"){let D=d.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=M2(t,{pathname:S});Gi(f||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Gi(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=SM(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},u,D.params),pathname:fr([d,i.encodeLocation?i.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?d:fr([d,i.encodeLocation?i.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),s,n);return e&&R?P.createElement(oh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...x},navigationType:"POP"}},R):R}function vM(){let t=AM(),e=iM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:o},"ErrorBoundary")," or"," ",P.createElement("code",{style:o},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,u)}var xM=P.createElement(vM,null),q2=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=dM(t.digest);n&&(t=n)}let e=t!==void 0?P.createElement(Ii.Provider,{value:this.props.routeContext},P.createElement(Z0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?P.createElement(bM,{error:t},e):e}};q2.contextType=aM;var ty=new WeakMap;function bM({children:t,error:e}){let{basename:n}=P.useContext(fi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=hM(e.digest);if(i){let s=ty.get(e);if(s)throw s;let o=j2(i.location,n);if(O2&&!ty.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw ty.set(e,u),u}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function _M({routeContext:t,match:e,children:n}){let i=P.useContext(Ql);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Ii.Provider,{value:t},n)}function SM(t,e=[],n){let i=n==null?void 0:n.state;if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let s=t,o=i==null?void 0:i.errors;if(o!=null){let g=s.findIndex(x=>x.route.id&&(o==null?void 0:o[x.route.id])!==void 0);Tt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let u=!1,h=-1;if(n&&i){u=i.renderFallback;for(let g=0;g<s.length;g++){let x=s[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=g),x.route.id){let{loaderData:b,errors:S}=i,C=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!S||S[x.route.id]===void 0);if(x.route.lazy||C){n.isStatic&&(u=!0),h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}}let d=n==null?void 0:n.onError,f=i&&d?(g,x)=>{var b,S;d(g,{location:i.location,params:((S=(b=i.matches)==null?void 0:b[0])==null?void 0:S.params)??{},unstable_pattern:rM(i.matches),errorInfo:x})}:void 0;return s.reduceRight((g,x,b)=>{let S,C=!1,R=null,A=null;i&&(S=o&&x.route.id?o[x.route.id]:void 0,R=x.route.errorElement||xM,u&&(h<0&&b===0?(G2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,A=null):h===b&&(C=!0,A=x.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,b+1)),q=()=>{let L;return S?L=R:C?L=A:x.route.Component?L=P.createElement(x.route.Component,null):x.route.element?L=x.route.element:L=g,P.createElement(_M,{match:x,routeContext:{outlet:g,matches:D,isDataRoute:i!=null},children:L})};return i&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?P.createElement(q2,{location:i.location,revalidation:i.revalidation,component:R,error:S,children:q(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:f}):q()},null)}function ev(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EM(t){let e=P.useContext(Ql);return Tt(e,ev(t)),e}function TM(t){let e=P.useContext(pm);return Tt(e,ev(t)),e}function wM(t){let e=P.useContext(Ii);return Tt(e,ev(t)),e}function tv(t){let e=wM(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function CM(){return tv("useRouteId")}function AM(){var i;let t=P.useContext(Z0),e=TM("useRouteError"),n=tv("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function NM(){let{router:t}=EM("useNavigate"),e=tv("useNavigate"),n=P.useRef(!1);return z2(()=>{n.current=!0}),P.useCallback(async(s,o={})=>{Gi(n.current,U2),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var PS={};function G2(t,e,n){!e&&!PS[t]&&(PS[t]=!0,Gi(!1,n))}P.memo(RM);function RM({routes:t,future:e,state:n,isStatic:i,onError:s}){return H2(t,void 0,{state:n,isStatic:i,onError:s})}function kM({to:t,replace:e,state:n,relative:i}){Tt(Xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(fi);Gi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=P.useContext(Ii),{pathname:u}=ms(),h=Mi(),d=mm(t,J0(o),u,i==="path"),f=JSON.stringify(d);return P.useEffect(()=>{h(JSON.parse(f),{replace:e,state:n,relative:i})},[h,f,i,e,n]),null}function IM(t){return gM(t.context)}function En(t){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MM({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){Tt(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:h,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[h,s,o,u]);typeof n=="string"&&(n=Yl(n));let{pathname:f="/",search:g="",hash:x="",state:b=null,key:S="default",unstable_mask:C}=n,R=P.useMemo(()=>{let A=us(f,h);return A==null?null:{location:{pathname:A,search:g,hash:x,state:b,key:S,unstable_mask:C},navigationType:i}},[h,f,g,x,b,S,i,C]);return Gi(R!=null,`<Router basename="${h}"> is not able to match the URL "${f}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:P.createElement(fi.Provider,{value:d},P.createElement(oh.Provider,{children:e,value:R}))}function DM({children:t,location:e}){return yM(Ky(t),e)}function Ky(t,e=[]){let n=[];return P.Children.forEach(t,(i,s)=>{if(!P.isValidElement(i))return;let o=[...e,s];if(i.type===P.Fragment){n.push.apply(n,Ky(i.props.children,o));return}Tt(i.type===En,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ky(i.props.children,o)),n.push(u)}),n}var yf="get",vf="application/x-www-form-urlencoded";function gm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function PM(t){return gm(t)&&t.tagName.toLowerCase()==="button"}function OM(t){return gm(t)&&t.tagName.toLowerCase()==="form"}function jM(t){return gm(t)&&t.tagName.toLowerCase()==="input"}function LM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VM(t,e){return t.button===0&&(!e||e==="_self")&&!LM(t)}var tf=null;function BM(){if(tf===null)try{new FormData(document.createElement("form"),0),tf=!1}catch{tf=!0}return tf}var UM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ny(t){return t!=null&&!UM.has(t)?(Gi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vf}"`),null):t}function zM(t,e){let n,i,s,o,u;if(OM(t)){let h=t.getAttribute("action");i=h?us(h,e):null,n=t.getAttribute("method")||yf,s=ny(t.getAttribute("enctype"))||vf,o=new FormData(t)}else if(PM(t)||jM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(i=d?us(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||yf,s=ny(t.getAttribute("formenctype"))||ny(h.getAttribute("enctype"))||vf,o=new FormData(h,t),!BM()){let{name:f,type:g,value:x}=t;if(g==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,x)}}else{if(gm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yf,i=null,s=vf,u=t}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FM(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&us(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function HM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GM(t,e,n){let i=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await HM(o,n);return u.links?u.links():[]}return[]}));return QM(i.flat(1).filter(qM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function OS(t,e,n,i,s,o){let u=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,h=(d,f)=>{var g;return n[f].pathname!==d.pathname||((g=n[f].route.path)==null?void 0:g.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>u(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{var x;let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function $M(t,e,{includeHydrateFallback:n}={}){return KM(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function KM(t){return[...new Set(t)]}function YM(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function QM(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let o=JSON.stringify(YM(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function $2(){let t=P.useContext(Ql);return nv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XM(){let t=P.useContext(pm);return nv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iv=P.createContext(void 0);iv.displayName="FrameworkContext";function K2(){let t=P.useContext(iv);return nv(t,"You must render this element inside a <HydratedRouter> element"),t}function WM(t,e){let n=P.useContext(iv),[i,s]=P.useState(!1),[o,u]=P.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:x}=e,b=P.useRef(null);P.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=D=>{D.forEach(q=>{u(q.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[t]),P.useEffect(()=>{if(i){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[i]);let S=()=>{s(!0)},C=()=>{s(!1),u(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:hc(h,S),onBlur:hc(d,C),onMouseEnter:hc(f,S),onMouseLeave:hc(g,C),onTouchStart:hc(x,S)}]:[!1,b,{}]}function hc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function JM({page:t,...e}){let{router:n}=$2(),i=P.useMemo(()=>M2(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?P.createElement(e3,{page:t,matches:i,...e}):null}function ZM(t){let{manifest:e,routeModules:n}=K2(),[i,s]=P.useState([]);return P.useEffect(()=>{let o=!1;return GM(t,e,n).then(u=>{o||s(u)}),()=>{o=!0}},[t,e,n]),i}function e3({page:t,matches:e,...n}){let i=ms(),{future:s,manifest:o,routeModules:u}=K2(),{basename:h}=$2(),{loaderData:d,matches:f}=XM(),g=P.useMemo(()=>OS(t,e,f,o,i,"data"),[t,e,f,o,i]),x=P.useMemo(()=>OS(t,e,f,o,i,"assets"),[t,e,f,o,i]),b=P.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let R=new Set,A=!1;if(e.forEach(q=>{var ee;let L=o.routes[q.route.id];!L||!L.hasLoader||(!g.some(J=>J.route.id===q.route.id)&&q.route.id in d&&((ee=u[q.route.id])!=null&&ee.shouldRevalidate)||L.hasClientLoader?A=!0:R.add(q.route.id))}),R.size===0)return[];let D=FM(t,h,s.unstable_trailingSlashAwareDataRequests,"data");return A&&R.size>0&&D.searchParams.set("_routes",e.filter(q=>R.has(q.route.id)).map(q=>q.route.id).join(",")),[D.pathname+D.search]},[h,s.unstable_trailingSlashAwareDataRequests,d,i,o,g,e,t,u]),S=P.useMemo(()=>$M(x,o),[x,o]),C=ZM(x);return P.createElement(P.Fragment,null,b.map(R=>P.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),S.map(R=>P.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),C.map(({key:R,link:A})=>P.createElement("link",{key:R,nonce:n.nonce,...A,crossOrigin:A.crossOrigin??n.crossOrigin})))}function t3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var n3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n3&&(window.__reactRouterVersion="7.13.1")}catch{}function i3({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=P.useRef();s.current==null&&(s.current=D4({window:i,v5Compat:!0}));let o=s.current,[u,h]=P.useState({action:o.action,location:o.location}),d=P.useCallback(f=>{n===!1?h(f):P.startTransition(()=>h(f))},[n]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.createElement(MM,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:n})}var Y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,unstable_mask:h,state:d,target:f,to:g,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:S,...C},R){let{basename:A,navigator:D,unstable_useTransitions:q}=P.useContext(fi),L=typeof g=="string"&&Y2.test(g),ee=j2(g,A);g=ee.to;let J=fM(g,{relative:s}),F=ms(),I=null;if(h){let ce=mm(h,[],F.unstable_mask?F.unstable_mask.pathname:"/",!0);A!=="/"&&(ce.pathname=ce.pathname==="/"?A:fr([A,ce.pathname])),I=D.createHref(ce)}let[w,M,B]=WM(i,C),V=a3(g,{replace:u,unstable_mask:h,state:d,target:f,preventScrollReset:x,relative:s,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:q});function U(ce){e&&e(ce),ce.defaultPrevented||V(ce)}let j=!(ee.isExternal||o),fe=P.createElement("a",{...C,...B,href:(j?I:void 0)||ee.absoluteURL||J,onClick:j?U:e,ref:t3(R,M),target:f,"data-discover":!L&&n==="render"?"true":void 0});return w&&!L?P.createElement(P.Fragment,null,fe,P.createElement(JM,{page:J})):fe});ln.displayName="Link";var Q2=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:h,children:d,...f},g){let x=lh(u,{relative:f.relative}),b=ms(),S=P.useContext(pm),{navigator:C,basename:R}=P.useContext(fi),A=S!=null&&h3(x)&&h===!0,D=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,q=b.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(q=q.toLowerCase(),L=L?L.toLowerCase():null,D=D.toLowerCase()),L&&R&&(L=us(L,R)||L);const ee=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let J=q===D||!s&&q.startsWith(D)&&q.charAt(ee)==="/",F=L!=null&&(L===D||!s&&L.startsWith(D)&&L.charAt(D.length)==="/"),I={isActive:J,isPending:F,isTransitioning:A},w=J?e:void 0,M;typeof i=="function"?M=i(I):M=[i,J?"active":null,F?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(I):o;return P.createElement(ln,{...f,"aria-current":w,className:M,ref:g,style:B,to:u,viewTransition:h},typeof d=="function"?d(I):d)});Q2.displayName="NavLink";var r3=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:u=yf,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:b,...S},C)=>{let{unstable_useTransitions:R}=P.useContext(fi),A=u3(),D=c3(h,{relative:f}),q=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&Y2.test(h),ee=J=>{if(d&&d(J),J.defaultPrevented)return;J.preventDefault();let F=J.nativeEvent.submitter,I=(F==null?void 0:F.getAttribute("formmethod"))||u,w=()=>A(F||J.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:s,state:o,relative:f,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:b});R&&n!==!1?P.startTransition(()=>w()):w()};return P.createElement("form",{ref:C,method:q,action:D,onSubmit:i?d:ee,...S,"data-discover":!L&&t==="render"?"true":void 0})});r3.displayName="Form";function s3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X2(t){let e=P.useContext(Ql);return Tt(e,s3(t)),e}function a3(t,{target:e,replace:n,unstable_mask:i,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let g=Mi(),x=ms(),b=lh(t,{relative:u});return P.useCallback(S=>{if(VM(S,e)){S.preventDefault();let C=n!==void 0?n:qc(x)===qc(b),R=()=>g(t,{replace:C,unstable_mask:i,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:d});f?P.startTransition(()=>R()):R()}},[x,g,b,n,i,s,e,t,o,u,h,d,f])}var o3=0,l3=()=>`__${String(++o3)}__`;function u3(){let{router:t}=X2("useSubmit"),{basename:e}=P.useContext(fi),n=CM(),i=t.fetch,s=t.navigate;return P.useCallback(async(o,u={})=>{let{action:h,method:d,encType:f,formData:g,body:x}=zM(o,e);if(u.navigate===!1){let b=u.fetcherKey||l3();await i(b,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:x,formMethod:u.method||d,formEncType:u.encType||f,flushSync:u.flushSync})}else await s(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:x,formMethod:u.method||d,formEncType:u.encType||f,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,s,e,n])}function c3(t,{relative:e}={}){let{basename:n}=P.useContext(fi),i=P.useContext(Ii);Tt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...lh(t||".",{relative:e})},u=ms();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(x=>x).forEach(x=>h.append("index",x));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:fr([n,o.pathname])),qc(o)}function h3(t,{relative:e}={}){let n=P.useContext(V2);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=X2("useViewTransitionState"),s=lh(t,{relative:e});if(!n.isTransitioning)return!1;let o=us(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=us(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Of(s.pathname,u)!=null||Of(s.pathname,o)!=null}const rv=P.createContext({});function Wl(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const ym=P.createContext(null),uh=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class d3 extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function f3({children:t,isPresent:e}){const n=P.useId(),i=P.useRef(null),s=P.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=P.useContext(uh);return P.useInsertionEffect(()=>{const{width:u,height:h,top:d,left:f}=s.current;if(e||!i.current||!u||!h)return;i.current.dataset.motionPopId=n;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            top: ${d}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),y.jsx(d3,{isPresent:e,childRef:i,sizeRef:s,children:P.cloneElement(t,{ref:i})})}const m3=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:u})=>{const h=Wl(p3),d=P.useId(),f=P.useCallback(x=>{h.set(x,!0);for(const b of h.values())if(!b)return;i&&i()},[h,i]),g=P.useMemo(()=>({id:d,initial:e,isPresent:n,custom:s,onExitComplete:f,register:x=>(h.set(x,!1),()=>h.delete(x))}),o?[Math.random(),f]:[n,f]);return P.useMemo(()=>{h.forEach((x,b)=>h.set(b,!1))},[n]),P.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),u==="popLayout"&&(t=y.jsx(f3,{isPresent:n,children:t})),y.jsx(ym.Provider,{value:g,children:t})};function p3(){return new Map}function W2(t=!0){const e=P.useContext(ym);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,o=P.useId();P.useEffect(()=>{t&&s(o)},[t]);const u=P.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,u]:[!0]}const nf=t=>t.key||"";function jS(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const sv=typeof window<"u",ch=sv?P.useLayoutEffect:P.useEffect,hh=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:u=!1})=>{const[h,d]=W2(u),f=P.useMemo(()=>jS(t),[t]),g=u&&!h?[]:f.map(nf),x=P.useRef(!0),b=P.useRef(f),S=Wl(()=>new Map),[C,R]=P.useState(f),[A,D]=P.useState(f);ch(()=>{x.current=!1,b.current=f;for(let ee=0;ee<A.length;ee++){const J=nf(A[ee]);g.includes(J)?S.delete(J):S.get(J)!==!0&&S.set(J,!1)}},[A,g.length,g.join("-")]);const q=[];if(f!==C){let ee=[...f];for(let J=0;J<A.length;J++){const F=A[J],I=nf(F);g.includes(I)||(ee.splice(J,0,F),q.push(F))}o==="wait"&&q.length&&(ee=q),D(jS(ee)),R(f);return}const{forceRender:L}=P.useContext(rv);return y.jsx(y.Fragment,{children:A.map(ee=>{const J=nf(ee),F=u&&!h?!1:f===A||g.includes(J),I=()=>{if(S.has(J))S.set(J,!0);else return;let w=!0;S.forEach(M=>{M||(w=!1)}),w&&(L==null||L(),D(b.current),u&&(d==null||d()),i&&i())};return y.jsx(m3,{isPresent:F,initial:!x.current||n?void 0:!1,custom:F?void 0:e,presenceAffectsLayout:s,mode:o,onExitComplete:F?void 0:I,children:ee},J)})})},Ln=t=>t;let g3=Ln,J2=Ln;function av(t){let e;return()=>(e===void 0&&(e=t()),e)}const go=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},as=t=>t*1e3,os=t=>t/1e3,y3={useManualTiming:!1};function v3(t){let e=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(f){o.has(f)&&(d.schedule(f),t()),f(u)}const d={schedule:(f,g=!1,x=!1)=>{const S=x&&i?e:n;return g&&o.add(f),S.has(f)||S.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(u=f,i){s=!0;return}i=!0,[e,n]=[n,e],e.forEach(h),e.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const rf=["read","resolveKeyframes","update","preRender","render","postRender"],x3=40;function Z2(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=rf.reduce((D,q)=>(D[q]=v3(o),D),{}),{read:h,resolveKeyframes:d,update:f,preRender:g,render:x,postRender:b}=u,S=()=>{const D=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(D-s.timestamp,x3),1),s.timestamp=D,s.isProcessing=!0,h.process(s),d.process(s),f.process(s),g.process(s),x.process(s),b.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(S))},C=()=>{n=!0,i=!0,s.isProcessing||t(S)};return{schedule:rf.reduce((D,q)=>{const L=u[q];return D[q]=(ee,J=!1,F=!1)=>(n||C(),L.schedule(ee,J,F)),D},{}),cancel:D=>{for(let q=0;q<rf.length;q++)u[rf[q]].cancel(D)},state:s,steps:u}}const{schedule:it,cancel:$i,state:Xt,steps:iy}=Z2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ln,!0),eC=P.createContext({strict:!1}),LS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bl={};for(const t in LS)Bl[t]={isEnabled:e=>LS[t].some(n=>!!e[n])};function b3(t){for(const e in t)Bl[e]={...Bl[e],...t[e]}}const _3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_3.has(t)}let tC=t=>!jf(t);function S3(t){t&&(tC=e=>e.startsWith("on")?!jf(e):t(e))}try{S3(require("@emotion/is-prop-valid").default)}catch{}function E3(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(tC(s)||n===!0&&jf(s)||!e&&!jf(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}function T3(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const vm=P.createContext({});function Gc(t){return typeof t=="string"||Array.isArray(t)}function xm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ov=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lv=["initial",...ov];function bm(t){return xm(t.animate)||lv.some(e=>Gc(t[e]))}function nC(t){return!!(bm(t)||t.variants)}function w3(t,e){if(bm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Gc(n)?n:void 0,animate:Gc(i)?i:void 0}}return t.inherit!==!1?e:{}}function C3(t){const{initial:e,animate:n}=w3(t,P.useContext(vm));return P.useMemo(()=>({initial:e,animate:n}),[VS(e),VS(n)])}function VS(t){return Array.isArray(t)?t.join(" "):t}const A3=Symbol.for("motionComponentSymbol");function wl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function N3(t,e,n){return P.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):wl(n)&&(n.current=i))},[e])}const uv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R3="framerAppearId",iC="data-"+uv(R3),{schedule:cv}=Z2(queueMicrotask,!1),rC=P.createContext({});function k3(t,e,n,i,s){var o,u;const{visualElement:h}=P.useContext(vm),d=P.useContext(eC),f=P.useContext(ym),g=P.useContext(uh).reducedMotion,x=P.useRef(null);i=i||d.renderer,!x.current&&i&&(x.current=i(t,{visualState:e,parent:h,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const b=x.current,S=P.useContext(rC);b&&!b.projection&&s&&(b.type==="html"||b.type==="svg")&&I3(x.current,n,s,S);const C=P.useRef(!1);P.useInsertionEffect(()=>{b&&C.current&&b.update(n,f)});const R=n[iC],A=P.useRef(!!R&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,R))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,R)));return ch(()=>{b&&(C.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),cv.render(b.render),A.current&&b.animationState&&b.animationState.animateChanges())}),P.useEffect(()=>{b&&(!A.current&&b.animationState&&b.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)===null||D===void 0||D.call(window,R)}),A.current=!1))}),b}function I3(t,e,n,i){const{layoutId:s,layout:o,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sC(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||h&&wl(h),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:f})}function sC(t){if(t)return t.options.allowProjection!==!1?t.projection:sC(t.parent)}function M3({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:s}){var o,u;t&&b3(t);function h(f,g){let x;const b={...P.useContext(uh),...f,layoutId:D3(f)},{isStatic:S}=b,C=C3(f),R=i(f,S);if(!S&&sv){P3();const A=O3(b);x=A.MeasureLayout,C.visualElement=k3(s,R,b,e,A.ProjectionNode)}return y.jsxs(vm.Provider,{value:C,children:[x&&C.visualElement?y.jsx(x,{visualElement:C.visualElement,...b}):null,n(s,f,N3(R,C.visualElement,g),R,S,C.visualElement)]})}h.displayName=`motion.${typeof s=="string"?s:`create(${(u=(o=s.displayName)!==null&&o!==void 0?o:s.name)!==null&&u!==void 0?u:""})`}`;const d=P.forwardRef(h);return d[A3]=s,d}function D3({layoutId:t}){const e=P.useContext(rv).id;return e&&t!==void 0?e+"-"+t:t}function P3(t,e){P.useContext(eC).strict}function O3(t){const{drag:e,layout:n}=Bl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const j3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hv(t){return typeof t!="string"||t.includes("-")?!1:!!(j3.indexOf(t)>-1||/[A-Z]/u.test(t))}function BS(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function dv(t,e,n,i){if(typeof e=="function"){const[s,o]=BS(i);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=BS(i);e=e(n!==void 0?n:t.custom,s,o)}return e}const Yy=t=>Array.isArray(t),L3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),V3=t=>Yy(t)?t[t.length-1]||0:t,un=t=>!!(t&&t.getVelocity);function xf(t){const e=un(t)?t.get():t;return L3(e)?e.toValue():e}function B3({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,s,o){const u={latestValues:U3(i,s,o,t),renderState:e()};return n&&(u.onMount=h=>n({props:i,current:h,...u}),u.onUpdate=h=>n(h)),u}const aC=t=>(e,n)=>{const i=P.useContext(vm),s=P.useContext(ym),o=()=>B3(t,e,i,s);return n?o():Wl(o)};function U3(t,e,n,i){const s={},o=i(t,{});for(const b in o)s[b]=xf(o[b]);let{initial:u,animate:h}=t;const d=bm(t),f=nC(t);e&&f&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const x=g?h:u;if(x&&typeof x!="boolean"&&!xm(x)){const b=Array.isArray(x)?x:[x];for(let S=0;S<b.length;S++){const C=dv(t,b[S]);if(C){const{transitionEnd:R,transition:A,...D}=C;for(const q in D){let L=D[q];if(Array.isArray(L)){const ee=g?L.length-1:0;L=L[ee]}L!==null&&(s[q]=L)}for(const q in R)s[q]=R[q]}}}return s}const Jl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Co=new Set(Jl),oC=t=>e=>typeof e=="string"&&e.startsWith(t),lC=oC("--"),z3=oC("var(--"),fv=t=>z3(t)?F3.test(t.split("/*")[0].trim()):!1,F3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Er=(t,e,n)=>n>e?e:n<t?t:n,Zl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$c={...Zl,transform:t=>Er(0,1,t)},sf={...Zl,default:1},dh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ua=dh("deg"),mr=dh("%"),ke=dh("px"),H3=dh("vh"),q3=dh("vw"),US={...mr,parse:t=>mr.parse(t)/100,transform:t=>mr.transform(t*100)},G3={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke},$3={rotate:ua,rotateX:ua,rotateY:ua,rotateZ:ua,scale:sf,scaleX:sf,scaleY:sf,scaleZ:sf,skew:ua,skewX:ua,skewY:ua,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:$c,originX:US,originY:US,originZ:ke},zS={...Zl,transform:Math.round},mv={...G3,...$3,zIndex:zS,size:ke,fillOpacity:$c,strokeOpacity:$c,numOctaves:zS},K3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Y3=Jl.length;function Q3(t,e,n){let i="",s=!0;for(let o=0;o<Y3;o++){const u=Jl[o],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const f=uC(h,mv[u]);if(!d){s=!1;const g=K3[u]||u;i+=`${g}(${f}) `}n&&(e[u]=f)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function pv(t,e,n){const{style:i,vars:s,transformOrigin:o}=t;let u=!1,h=!1;for(const d in e){const f=e[d];if(Co.has(d)){u=!0;continue}else if(lC(d)){s[d]=f;continue}else{const g=uC(f,mv[d]);d.startsWith("origin")?(h=!0,o[d]=g):i[d]=g}}if(e.transform||(u||n?i.transform=Q3(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:f="50%",originZ:g=0}=o;i.transformOrigin=`${d} ${f} ${g}`}}const X3={offset:"stroke-dashoffset",array:"stroke-dasharray"},W3={offset:"strokeDashoffset",array:"strokeDasharray"};function J3(t,e,n=1,i=0,s=!0){t.pathLength=1;const o=s?X3:W3;t[o.offset]=ke.transform(-i);const u=ke.transform(e),h=ke.transform(n);t[o.array]=`${u} ${h}`}function FS(t,e,n){return typeof t=="string"?t:ke.transform(e+n*t)}function Z3(t,e,n){const i=FS(e,t.x,t.width),s=FS(n,t.y,t.height);return`${i} ${s}`}function gv(t,{attrX:e,attrY:n,attrScale:i,originX:s,originY:o,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...f},g,x){if(pv(t,f,x),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:S,dimensions:C}=t;b.transform&&(C&&(S.transform=b.transform),delete b.transform),C&&(s!==void 0||o!==void 0||S.transform)&&(S.transformOrigin=Z3(C,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),u!==void 0&&J3(b,u,h,d,!1)}const yv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),cC=()=>({...yv(),attrs:{}}),vv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hC(t,{style:e,vars:n},i,s){Object.assign(t.style,e,s&&s.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}const dC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fC(t,e,n,i){hC(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(dC.has(s)?s:uv(s),e.attrs[s])}const Lf={};function eD(t){Object.assign(Lf,t)}function mC(t,{layout:e,layoutId:n}){return Co.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Lf[t]||t==="opacity")}function xv(t,e,n){var i;const{style:s}=t,o={};for(const u in s)(un(s[u])||e.style&&un(e.style[u])||mC(u,t)||((i=n==null?void 0:n.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[u]=s[u]);return o}function pC(t,e,n){const i=xv(t,e,n);for(const s in t)if(un(t[s])||un(e[s])){const o=Jl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=t[s]}return i}function tD(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const HS=["x","y","width","height","cx","cy","r"],nD={useVisualState:aC({scrapeMotionValuesFromProps:pC,createRenderState:cC,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:s})=>{if(!n)return;let o=!!t.drag;if(!o){for(const h in s)if(Co.has(h)){o=!0;break}}if(!o)return;let u=!e;if(e)for(let h=0;h<HS.length;h++){const d=HS[h];t[d]!==e[d]&&(u=!0)}u&&it.read(()=>{tD(n,i),it.render(()=>{gv(i,s,vv(n.tagName),t.transformTemplate),fC(n,i)})})}})},iD={useVisualState:aC({scrapeMotionValuesFromProps:xv,createRenderState:yv})};function gC(t,e,n){for(const i in e)!un(e[i])&&!mC(i,n)&&(t[i]=e[i])}function rD({transformTemplate:t},e){return P.useMemo(()=>{const n=yv();return pv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function sD(t,e){const n=t.style||{},i={};return gC(i,n,t),Object.assign(i,rD(t,e)),i}function aD(t,e){const n={},i=sD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function oD(t,e,n,i){const s=P.useMemo(()=>{const o=cC();return gv(o,e,vv(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};gC(o,t.style,t),s.style={...o,...s.style}}return s}function lD(t=!1){return(n,i,s,{latestValues:o},u)=>{const d=(hv(n)?oD:aD)(i,o,u,n),f=E3(i,typeof n=="string",t),g=n!==P.Fragment?{...f,...d,ref:s}:{},{children:x}=i,b=P.useMemo(()=>un(x)?x.get():x,[x]);return P.createElement(n,{...g,children:b})}}function uD(t,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...hv(i)?nD:iD,preloadedFeatures:t,useRender:lD(s),createVisualElement:e,Component:i};return M3(u)}}function yC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function _m(t,e,n){const i=t.getProps();return dv(i,e,n!==void 0?n:i.custom,t)}const vC=av(()=>window.ScrollTimeline!==void 0);class cD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(s=>{if(vC()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hD extends cD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function bv(t,e){return t?t[e]||t.default||t:void 0}const Qy=2e4;function xC(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Qy;)e+=n,i=t.next(e);return e>=Qy?1/0:e}function _v(t){return typeof t=="function"}function qS(t,e){t.timeline=e,t.onfinish=null}const Sv=t=>Array.isArray(t)&&typeof t[0]=="number",dD={linearEasing:void 0};function fD(t,e){const n=av(t);return()=>{var i;return(i=dD[e])!==null&&i!==void 0?i:n()}}const Vf=fD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bC=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)i+=t(go(0,s-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function _C(t){return!!(typeof t=="function"&&Vf()||!t||typeof t=="string"&&(t in Xy||Vf())||Sv(t)||Array.isArray(t)&&t.every(_C))}const xc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Xy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xc([0,.65,.55,1]),circOut:xc([.55,0,1,.45]),backIn:xc([.31,.01,.66,-.59]),backOut:xc([.33,1.53,.69,.99])};function SC(t,e){if(t)return typeof t=="function"&&Vf()?bC(t,e):Sv(t)?xc(t):Array.isArray(t)?t.map(n=>SC(n,e)||Xy.easeOut):Xy[t]}const Ui={x:!1,y:!1};function EC(){return Ui.x||Ui.y}function Ev(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const o=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function TC(t,e){const n=Ev(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function GS(t){return e=>{e.pointerType==="touch"||EC()||t(e)}}function mD(t,e,n={}){const[i,s,o]=TC(t,n),u=GS(h=>{const{target:d}=h,f=e(h);if(typeof f!="function"||!d)return;const g=GS(x=>{f(x),d.removeEventListener("pointerleave",g)});d.addEventListener("pointerleave",g,s)});return i.forEach(h=>{h.addEventListener("pointerenter",u,s)}),o}const wC=(t,e)=>e?t===e?!0:wC(t,e.parentElement):!1,Tv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gD(t){return pD.has(t.tagName)||t.tabIndex!==-1}const bc=new WeakSet;function $S(t){return e=>{e.key==="Enter"&&t(e)}}function ry(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yD=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=$S(()=>{if(bc.has(n))return;ry(n,"down");const s=$S(()=>{ry(n,"up")}),o=()=>ry(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function KS(t){return Tv(t)&&!EC()}function vD(t,e,n={}){const[i,s,o]=TC(t,n),u=h=>{const d=h.currentTarget;if(!KS(h)||bc.has(d))return;bc.add(d);const f=e(h),g=(S,C)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),!(!KS(S)||!bc.has(d))&&(bc.delete(d),typeof f=="function"&&f(S,{success:C}))},x=S=>{g(S,n.useGlobalTarget||wC(d,S.target))},b=S=>{g(S,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",b,s)};return i.forEach(h=>{!gD(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,s),h.addEventListener("focus",f=>yD(f,s),s)}),o}function xD(t){return t==="x"||t==="y"?Ui[t]?null:(Ui[t]=!0,()=>{Ui[t]=!1}):Ui.x||Ui.y?null:(Ui.x=Ui.y=!0,()=>{Ui.x=Ui.y=!1})}const CC=new Set(["width","height","top","left","right","bottom",...Jl]);let bf;function bD(){bf=void 0}const pr={now:()=>(bf===void 0&&pr.set(Xt.isProcessing||y3.useManualTiming?Xt.timestamp:performance.now()),bf),set:t=>{bf=t,queueMicrotask(bD)}};function wv(t,e){t.indexOf(e)===-1&&t.push(e)}function Cv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Av{constructor(){this.subscriptions=[]}add(e){return wv(this.subscriptions,e),()=>Cv(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Nv(t,e){return e?t*(1e3/e):0}const YS=30,_D=t=>!isNaN(parseFloat(t)),Nc={current:void 0};class SD{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const o=pr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_D(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Av);const i=this.events[e].add(n);return e==="change"?()=>{i(),it.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Nc.current&&Nc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>YS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,YS);return Nv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dr(t,e){return new SD(t,e)}function ED(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,dr(n))}function TD(t,e){const n=_m(t,e);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const u in o){const h=V3(o[u]);ED(t,u,h)}}function wD(t){return!!(un(t)&&t.add)}function Wy(t,e){const n=t.getValue("willChange");if(wD(n))return n.add(e)}function AC(t){return t.props[iC]}const NC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,CD=1e-7,AD=12;function ND(t,e,n,i,s){let o,u,h=0;do u=e+(n-e)/2,o=NC(u,i,s)-t,o>0?n=u:e=u;while(Math.abs(o)>CD&&++h<AD);return u}function fh(t,e,n,i){if(t===e&&n===i)return Ln;const s=o=>ND(o,0,1,t,n);return o=>o===0||o===1?o:NC(s(o),e,i)}const RC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kC=t=>e=>1-t(1-e),IC=fh(.33,1.53,.69,.99),Rv=kC(IC),MC=RC(Rv),DC=t=>(t*=2)<1?.5*Rv(t):.5*(2-Math.pow(2,-10*(t-1))),kv=t=>1-Math.sin(Math.acos(t)),PC=kC(kv),OC=RC(kv),jC=t=>/^0[^.\s]+$/u.test(t);function RD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jC(t):!0}const Rc=t=>Math.round(t*1e5)/1e5,Iv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kD(t){return t==null}const ID=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mv=(t,e)=>n=>!!(typeof n=="string"&&ID.test(n)&&n.startsWith(t)||e&&!kD(n)&&Object.prototype.hasOwnProperty.call(n,e)),LC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,o,u,h]=i.match(Iv);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},MD=t=>Er(0,255,t),sy={...Zl,transform:t=>Math.round(MD(t))},uo={test:Mv("rgb","red"),parse:LC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+sy.transform(t)+", "+sy.transform(e)+", "+sy.transform(n)+", "+Rc($c.transform(i))+")"};function DD(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Jy={test:Mv("#"),parse:DD,transform:uo.transform},Cl={test:Mv("hsl","hue"),parse:LC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+mr.transform(Rc(e))+", "+mr.transform(Rc(n))+", "+Rc($c.transform(i))+")"},Tn={test:t=>uo.test(t)||Jy.test(t)||Cl.test(t),parse:t=>uo.test(t)?uo.parse(t):Cl.test(t)?Cl.parse(t):Jy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?uo.transform(t):Cl.transform(t)},PD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Iv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(PD))===null||n===void 0?void 0:n.length)||0)>0}const VC="number",BC="color",jD="var",LD="var(",QS="${}",VD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const h=e.replace(VD,d=>(Tn.test(d)?(i.color.push(o),s.push(BC),n.push(Tn.parse(d))):d.startsWith(LD)?(i.var.push(o),s.push(jD),n.push(d)):(i.number.push(o),s.push(VC),n.push(parseFloat(d))),++o,QS)).split(QS);return{values:n,split:h,indexes:i,types:s}}function UC(t){return Kc(t).values}function zC(t){const{split:e,types:n}=Kc(t),i=e.length;return s=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],s[u]!==void 0){const h=n[u];h===VC?o+=Rc(s[u]):h===BC?o+=Tn.transform(s[u]):o+=s[u]}return o}}const BD=t=>typeof t=="number"?0:t;function UD(t){const e=UC(t);return zC(t)(e.map(BD))}const xa={test:OD,parse:UC,createTransformer:zC,getAnimatableNone:UD},zD=new Set(["brightness","contrast","saturate","opacity"]);function FD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Iv)||[];if(!i)return t;const s=n.replace(i,"");let o=zD.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+s+")"}const HD=/\b([a-z-]*)\(.*?\)/gu,Zy={...xa,getAnimatableNone:t=>{const e=t.match(HD);return e?e.map(FD).join(" "):t}},qD={...mv,color:Tn,backgroundColor:Tn,outlineColor:Tn,fill:Tn,stroke:Tn,borderColor:Tn,borderTopColor:Tn,borderRightColor:Tn,borderBottomColor:Tn,borderLeftColor:Tn,filter:Zy,WebkitFilter:Zy},Dv=t=>qD[t];function FC(t,e){let n=Dv(t);return n!==Zy&&(n=xa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GD=new Set(["auto","none","0"]);function $D(t,e,n){let i=0,s;for(;i<t.length&&!s;){const o=t[i];typeof o=="string"&&!GD.has(o)&&Kc(o).values.length&&(s=t[i]),i++}if(s&&n)for(const o of e)t[o]=FC(n,s)}const XS=t=>t===Zl||t===ke,WS=(t,e)=>parseFloat(t.split(", ")[e]),JS=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return WS(s[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?WS(o[1],t):0}},KD=new Set(["x","y","z"]),YD=Jl.filter(t=>!KD.has(t));function QD(t){const e=[];return YD.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ul={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:JS(4,13),y:JS(5,14)};Ul.translateX=Ul.x;Ul.translateY=Ul.y;const fo=new Set;let e0=!1,t0=!1;function HC(){if(t0){const t=Array.from(fo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=QD(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,u])=>{var h;(h=i.getValue(o))===null||h===void 0||h.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}t0=!1,e0=!1,fo.forEach(t=>t.complete()),fo.clear()}function qC(){fo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(t0=!0)})}function XD(){qC(),HC()}class Pv{constructor(e,n,i,s,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(fo.add(this),e0||(e0=!0,it.read(qC),it.resolveKeyframes(HC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const u=s==null?void 0:s.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&n){const d=i.readValue(n,h);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=h),s&&u===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),fo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,fo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const GC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),WD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JD(t){const e=WD.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function $C(t,e,n=1){const[i,s]=JD(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return GC(u)?parseFloat(u):u}return fv(s)?$C(s,e,n+1):s}const KC=t=>e=>e.test(t),ZD={test:t=>t==="auto",parse:t=>t},YC=[Zl,ke,mr,ua,q3,H3,ZD],ZS=t=>YC.find(KC(t));class QC extends Pv{constructor(e,n,i,s,o){super(e,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),fv(f))){const g=$C(f,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!CC.has(i)||e.length!==2)return;const[s,o]=e,u=ZS(s),h=ZS(o);if(u!==h)if(XS(u)&&XS(h))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)RD(e[s])&&i.push(s);i.length&&$D(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ul[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,h=s[u];s[u]=Ul[i](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,f])=>{n.getValue(d).set(f)}),this.resolveNoneKeyframes()}}const eE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xa.test(t)||t==="0")&&!t.startsWith("url("));function eP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tP(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=eE(s,e),h=eE(o,e);return!u||!h?!1:eP(t)||(n==="spring"||_v(n))&&i}const nP=t=>t!==null;function Sm(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(nP),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||i===void 0?s[o]:i}const iP=40;class XC{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pr.now(),this.options={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>iP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&XD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=pr.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:o,delay:u,onComplete:h,onUpdate:d,isGenerator:f}=this.options;if(!f&&!tP(e,i,s,o))if(u)this.options.duration=0;else{d&&d(Sm(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ct=(t,e,n)=>t+(e-t)*n;function ay(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function rP({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,o=0,u=0;if(!e)s=o=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;s=ay(d,h,t+1/3),o=ay(d,h,t),u=ay(d,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function Bf(t,e){return n=>n>0?e:t}const oy=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},sP=[Jy,uo,Cl],aP=t=>sP.find(e=>e.test(t));function tE(t){const e=aP(t);if(!e)return!1;let n=e.parse(t);return e===Cl&&(n=rP(n)),n}const nE=(t,e)=>{const n=tE(t),i=tE(e);if(!n||!i)return Bf(t,e);const s={...n};return o=>(s.red=oy(n.red,i.red,o),s.green=oy(n.green,i.green,o),s.blue=oy(n.blue,i.blue,o),s.alpha=Ct(n.alpha,i.alpha,o),uo.transform(s))},oP=(t,e)=>n=>e(t(n)),mh=(...t)=>t.reduce(oP),n0=new Set(["none","hidden"]);function lP(t,e){return n0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uP(t,e){return n=>Ct(t,e,n)}function Ov(t){return typeof t=="number"?uP:typeof t=="string"?fv(t)?Bf:Tn.test(t)?nE:dP:Array.isArray(t)?WC:typeof t=="object"?Tn.test(t)?nE:cP:Bf}function WC(t,e){const n=[...t],i=n.length,s=t.map((o,u)=>Ov(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)n[u]=s[u](o);return n}}function cP(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=Ov(t[s])(t[s],e[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function hP(t,e){var n;const i=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],h=t.indexes[u][s[u]],d=(n=t.values[h])!==null&&n!==void 0?n:0;i[o]=d,s[u]++}return i}const dP=(t,e)=>{const n=xa.createTransformer(e),i=Kc(t),s=Kc(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?n0.has(t)&&!s.values.length||n0.has(e)&&!i.values.length?lP(t,e):mh(WC(hP(i,s),s.values),n):Bf(t,e)};function JC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ct(t,e,n):Ov(t)(t,e)}const fP=5;function ZC(t,e,n){const i=Math.max(e-fP,0);return Nv(n-t(i),e-i)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ly=.001;function mP({duration:t=Dt.duration,bounce:e=Dt.bounce,velocity:n=Dt.velocity,mass:i=Dt.mass}){let s,o,u=1-e;u=Er(Dt.minDamping,Dt.maxDamping,u),t=Er(Dt.minDuration,Dt.maxDuration,os(t)),u<1?(s=f=>{const g=f*u,x=g*t,b=g-n,S=i0(f,u),C=Math.exp(-x);return ly-b/S*C},o=f=>{const x=f*u*t,b=x*n+n,S=Math.pow(u,2)*Math.pow(f,2)*t,C=Math.exp(-x),R=i0(Math.pow(f,2),u);return(-s(f)+ly>0?-1:1)*((b-S)*C)/R}):(s=f=>{const g=Math.exp(-f*t),x=(f-n)*t+1;return-ly+g*x},o=f=>{const g=Math.exp(-f*t),x=(n-f)*(t*t);return g*x});const h=5/t,d=gP(s,o,h);if(t=as(t),isNaN(d))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:t};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:u*2*Math.sqrt(i*f),duration:t}}}const pP=12;function gP(t,e,n){let i=n;for(let s=1;s<pP;s++)i=i-t(i)/e(i);return i}function i0(t,e){return t*Math.sqrt(1-e*e)}const yP=["duration","bounce"],vP=["stiffness","damping","mass"];function iE(t,e){return e.some(n=>t[n]!==void 0)}function xP(t){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...t};if(!iE(t,vP)&&iE(t,yP))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*Er(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Dt.mass,stiffness:s,damping:o}}else{const n=mP(t);e={...e,...n,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function eA(t=Dt.visualDuration,e=Dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:f,mass:g,duration:x,velocity:b,isResolvedFromDuration:S}=xP({...n,velocity:-os(n.velocity||0)}),C=b||0,R=f/(2*Math.sqrt(d*g)),A=u-o,D=os(Math.sqrt(d/g)),q=Math.abs(A)<5;i||(i=q?Dt.restSpeed.granular:Dt.restSpeed.default),s||(s=q?Dt.restDelta.granular:Dt.restDelta.default);let L;if(R<1){const J=i0(D,R);L=F=>{const I=Math.exp(-R*D*F);return u-I*((C+R*D*A)/J*Math.sin(J*F)+A*Math.cos(J*F))}}else if(R===1)L=J=>u-Math.exp(-D*J)*(A+(C+D*A)*J);else{const J=D*Math.sqrt(R*R-1);L=F=>{const I=Math.exp(-R*D*F),w=Math.min(J*F,300);return u-I*((C+R*D*A)*Math.sinh(w)+J*A*Math.cosh(w))/J}}const ee={calculatedDuration:S&&x||null,next:J=>{const F=L(J);if(S)h.done=J>=x;else{let I=0;R<1&&(I=J===0?as(C):ZC(L,J,F));const w=Math.abs(I)<=i,M=Math.abs(u-F)<=s;h.done=w&&M}return h.value=h.done?u:F,h},toString:()=>{const J=Math.min(xC(ee),Qy),F=bC(I=>ee.next(J*I).value,J,30);return J+"ms "+F}};return ee}function rE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:d,restDelta:f=.5,restSpeed:g}){const x=t[0],b={done:!1,value:x},S=w=>h!==void 0&&w<h||d!==void 0&&w>d,C=w=>h===void 0?d:d===void 0||Math.abs(h-w)<Math.abs(d-w)?h:d;let R=n*e;const A=x+R,D=u===void 0?A:u(A);D!==A&&(R=D-x);const q=w=>-R*Math.exp(-w/i),L=w=>D+q(w),ee=w=>{const M=q(w),B=L(w);b.done=Math.abs(M)<=f,b.value=b.done?D:B};let J,F;const I=w=>{S(b.value)&&(J=w,F=eA({keyframes:[b.value,C(b.value)],velocity:ZC(L,w,b.value),damping:s,stiffness:o,restDelta:f,restSpeed:g}))};return I(0),{calculatedDuration:null,next:w=>{let M=!1;return!F&&J===void 0&&(M=!0,ee(w),I(w)),J!==void 0&&w>=J?F.next(w-J):(!M&&ee(w),b)}}}const bP=fh(.42,0,1,1),_P=fh(0,0,.58,1),tA=fh(.42,0,.58,1),SP=t=>Array.isArray(t)&&typeof t[0]!="number",EP={linear:Ln,easeIn:bP,easeInOut:tA,easeOut:_P,circIn:kv,circInOut:OC,circOut:PC,backIn:Rv,backInOut:MC,backOut:IC,anticipate:DC},sE=t=>{if(Sv(t)){J2(t.length===4);const[e,n,i,s]=t;return fh(e,n,i,s)}else if(typeof t=="string")return EP[t];return t};function TP(t,e,n){const i=[],s=n||JC,o=t.length-1;for(let u=0;u<o;u++){let h=s(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||Ln:e;h=mh(d,h)}i.push(h)}return i}function jv(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const o=t.length;if(J2(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=TP(e,i,s),d=h.length,f=g=>{if(u&&g<t[0])return e[0];let x=0;if(d>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const b=go(t[x],t[x+1],g);return h[x](b)};return n?g=>f(Er(t[0],t[o-1],g)):f}function wP(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=go(0,e,i);t.push(Ct(n,1,s))}}function nA(t){const e=[0];return wP(e,t.length-1),e}function CP(t,e){return t.map(n=>n*e)}function AP(t,e){return t.map(()=>e||tA).splice(0,t.length-1)}function Uf({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=SP(i)?i.map(sE):sE(i),o={done:!1,value:e[0]},u=CP(n&&n.length===e.length?n:nA(e),t),h=jv(u,e,{ease:Array.isArray(s)?s:AP(e,s)});return{calculatedDuration:t,next:d=>(o.value=h(d),o.done=d>=t,o)}}const NP=t=>{const e=({timestamp:n})=>t(n);return{start:()=>it.update(e,!0),stop:()=>$i(e),now:()=>Xt.isProcessing?Xt.timestamp:pr.now()}},RP={decay:rE,inertia:rE,tween:Uf,keyframes:Uf,spring:eA},kP=t=>t/100;class Em extends XC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:i,element:s,keyframes:o}=this.options,u=(s==null?void 0:s.KeyframeResolver)||Pv,h=(d,f)=>this.onKeyframesResolved(d,f);this.resolver=new u(o,h,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=this.options,h=_v(n)?n:RP[n]||Uf;let d,f;h!==Uf&&typeof e[0]!="number"&&(d=mh(kP,JC(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});o==="mirror"&&(f=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=xC(g));const{calculatedDuration:x}=g,b=x+s,S=b*(i+1)-s;return{generator:g,mirroredGenerator:f,mapPercentToKeyframes:d,calculatedDuration:x,resolvedDuration:b,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:d,calculatedDuration:f,totalDuration:g,resolvedDuration:x}=i;if(this.startTime===null)return o.next(0);const{delay:b,repeat:S,repeatType:C,repeatDelay:R,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const D=this.currentTime-b*(this.speed>=0?1:-1),q=this.speed>=0?D<0:D>g;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let L=this.currentTime,ee=o;if(S){const w=Math.min(this.currentTime,g)/x;let M=Math.floor(w),B=w%1;!B&&w>=1&&(B=1),B===1&&M--,M=Math.min(M,S+1),!!(M%2)&&(C==="reverse"?(B=1-B,R&&(B-=R/x)):C==="mirror"&&(ee=u)),L=Er(0,1,B)*x}const J=q?{done:!1,value:d[0]}:ee.next(L);h&&(J.value=h(J.value));let{done:F}=J;!q&&f!==null&&(F=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return I&&s!==void 0&&(J.value=Sm(d,this.options,s)),A&&A(J.value),I&&this.finish(),J}get duration(){const{resolved:e}=this;return e?os(e.calculatedDuration):0}get time(){return os(this.currentTime)}set time(e){e=as(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=os(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=NP,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}function IP(t){return new Em(t)}const MP=new Set(["opacity","clipPath","filter","transform"]);function DP(t,e,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:h="easeInOut",times:d}={}){const f={[e]:n};d&&(f.offset=d);const g=SC(h,s);return Array.isArray(g)&&(f.easing=g),t.animate(f,{delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"})}const PP=av(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zf=10,OP=2e4;function jP(t){return _v(t.type)||t.type==="spring"||!_C(t.ease)}function LP(t,e){const n=new Em({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const s=[];let o=0;for(;!i.done&&o<OP;)i=n.sample(o),s.push(i.value),o+=zf;return{times:void 0,keyframes:s,duration:o-zf,ease:"linear"}}const iA={anticipate:DC,backInOut:MC,circInOut:OC};function VP(t){return t in iA}class aE extends XC{constructor(e){super(e);const{name:n,motionValue:i,element:s,keyframes:o}=this.options;this.resolver=new QC(o,(u,h)=>this.onKeyframesResolved(u,h),n,i,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:s,ease:o,type:u,motionValue:h,name:d,startTime:f}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof o=="string"&&Vf()&&VP(o)&&(o=iA[o]),jP(this.options)){const{onComplete:x,onUpdate:b,motionValue:S,element:C,...R}=this.options,A=LP(e,R);e=A.keyframes,e.length===1&&(e[1]=e[0]),i=A.duration,s=A.times,o=A.ease,u="keyframes"}const g=DP(h.owner.current,d,e,{...this.options,duration:i,times:s,ease:o});return g.startTime=f??this.calcStartTime(),this.pendingTimeline?(qS(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:x}=this.options;h.set(Sm(e,this.options,n)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:s,type:u,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return os(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return os(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=as(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ln;const{animation:i}=n;qS(i,e)}return Ln}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:s,type:o,ease:u,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:g,onComplete:x,element:b,...S}=this.options,C=new Em({...S,keyframes:i,duration:s,type:o,ease:u,times:h,isGenerator:!0}),R=as(this.time);f.setWithVelocity(C.sample(R-zf).value,C.sample(R).value,zf)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:s,repeatType:o,damping:u,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=n.owner.getProps();return PP()&&i&&MP.has(i)&&!d&&!f&&!s&&o!=="mirror"&&u!==0&&h!=="inertia"}}const BP={type:"spring",stiffness:500,damping:25,restSpeed:10},UP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),zP={type:"keyframes",duration:.8},FP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HP=(t,{keyframes:e})=>e.length>2?zP:Co.has(t)?t.startsWith("scale")?UP(e[1]):BP:FP;function qP({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:h,from:d,elapsed:f,...g}){return!!Object.keys(g).length}const Lv=(t,e,n,i={},s,o)=>u=>{const h=bv(i,t)||{},d=h.delay||i.delay||0;let{elapsed:f=0}=i;f=f-as(d);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-f,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:o?void 0:s};qP(h)||(g={...g,...HP(t,g)}),g.duration&&(g.duration=as(g.duration)),g.repeatDelay&&(g.repeatDelay=as(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(x=!0)),x&&!o&&e.get()!==void 0){const b=Sm(g.keyframes,h);if(b!==void 0)return it.update(()=>{g.onUpdate(b),g.onComplete()}),new hD([])}return!o&&aE.supports(g)?new aE(g):new Em(g)};function GP({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function rA(t,e,{delay:n=0,transitionOverride:i,type:s}={}){var o;let{transition:u=t.getDefaultTransition(),transitionEnd:h,...d}=e;i&&(u=i);const f=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const x in d){const b=t.getValue(x,(o=t.latestValues[x])!==null&&o!==void 0?o:null),S=d[x];if(S===void 0||g&&GP(g,x))continue;const C={delay:n,...bv(u||{},x)};let R=!1;if(window.MotionHandoffAnimation){const D=AC(t);if(D){const q=window.MotionHandoffAnimation(D,x,it);q!==null&&(C.startTime=q,R=!0)}}Wy(t,x),b.start(Lv(x,b,S,t.shouldReduceMotion&&CC.has(x)?{type:!1}:C,t,R));const A=b.animation;A&&f.push(A)}return h&&Promise.all(f).then(()=>{it.update(()=>{h&&TD(t,h)})}),f}function r0(t,e,n={}){var i;const s=_m(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(rA(t,s,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:b}=o;return $P(t,e,g+f,x,b,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,g]=d==="beforeChildren"?[u,h]:[h,u];return f().then(()=>g())}else return Promise.all([u(),h(n.delay)])}function $P(t,e,n=0,i=0,s=1,o){const u=[],h=(t.variantChildren.size-1)*i,d=s===1?(f=0)=>f*i:(f=0)=>h-f*i;return Array.from(t.variantChildren).sort(KP).forEach((f,g)=>{f.notify("AnimationStart",e),u.push(r0(f,e,{...o,delay:n+d(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(u)}function KP(t,e){return t.sortNodePosition(e)}function YP(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>r0(t,o,n));i=Promise.all(s)}else if(typeof e=="string")i=r0(t,e,n);else{const s=typeof e=="function"?_m(t,e,n.custom):e;i=Promise.all(rA(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const QP=lv.length;function sA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?sA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<QP;n++){const i=lv[n],s=t.props[i];(Gc(s)||s===!1)&&(e[i]=s)}return e}const XP=[...ov].reverse(),WP=ov.length;function JP(t){return e=>Promise.all(e.map(({animation:n,options:i})=>YP(t,n,i)))}function ZP(t){let e=JP(t),n=oE(),i=!0;const s=d=>(f,g)=>{var x;const b=_m(t,g,d==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(b){const{transition:S,transitionEnd:C,...R}=b;f={...f,...R,...C}}return f};function o(d){e=d(t)}function u(d){const{props:f}=t,g=sA(t.parent)||{},x=[],b=new Set;let S={},C=1/0;for(let A=0;A<WP;A++){const D=XP[A],q=n[D],L=f[D]!==void 0?f[D]:g[D],ee=Gc(L),J=D===d?q.isActive:null;J===!1&&(C=A);let F=L===g[D]&&L!==f[D]&&ee;if(F&&i&&t.manuallyAnimateOnMount&&(F=!1),q.protectedKeys={...S},!q.isActive&&J===null||!L&&!q.prevProp||xm(L)||typeof L=="boolean")continue;const I=e5(q.prevProp,L);let w=I||D===d&&q.isActive&&!F&&ee||A>C&&ee,M=!1;const B=Array.isArray(L)?L:[L];let V=B.reduce(s(D),{});J===!1&&(V={});const{prevResolvedValues:U={}}=q,j={...U,...V},fe=ae=>{w=!0,b.has(ae)&&(M=!0,b.delete(ae)),q.needsAnimating[ae]=!0;const ge=t.getValue(ae);ge&&(ge.liveStyle=!1)};for(const ae in j){const ge=V[ae],Re=U[ae];if(S.hasOwnProperty(ae))continue;let z=!1;Yy(ge)&&Yy(Re)?z=!yC(ge,Re):z=ge!==Re,z?ge!=null?fe(ae):b.add(ae):ge!==void 0&&b.has(ae)?fe(ae):q.protectedKeys[ae]=!0}q.prevProp=L,q.prevResolvedValues=V,q.isActive&&(S={...S,...V}),i&&t.blockInitialAnimation&&(w=!1),w&&(!(F&&I)||M)&&x.push(...B.map(ae=>({animation:ae,options:{type:D}})))}if(b.size){const A={};b.forEach(D=>{const q=t.getBaseTarget(D),L=t.getValue(D);L&&(L.liveStyle=!0),A[D]=q??null}),x.push({animation:A})}let R=!!x.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(R=!1),i=!1,R?e(x):Promise.resolve()}function h(d,f){var g;if(n[d].isActive===f)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(b=>{var S;return(S=b.animationState)===null||S===void 0?void 0:S.setActive(d,f)}),n[d].isActive=f;const x=u(d);for(const b in n)n[b].protectedKeys={};return x}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=oE(),i=!0}}}function e5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yC(e,t):!1}function so(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oE(){return{animate:so(!0),whileInView:so(),whileHover:so(),whileTap:so(),whileDrag:so(),whileFocus:so(),exit:so()}}class Na{constructor(e){this.isMounted=!1,this.node=e}update(){}}class t5 extends Na{constructor(e){super(e),e.animationState||(e.animationState=ZP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let n5=0;class i5 extends Na{constructor(){super(...arguments),this.id=n5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const r5={animation:{Feature:t5},exit:{Feature:i5}};function Yc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function ph(t){return{point:{x:t.pageX,y:t.pageY}}}const s5=t=>e=>Tv(e)&&t(e,ph(e));function kc(t,e,n,i){return Yc(t,e,s5(n),i)}const lE=(t,e)=>Math.abs(t-e);function a5(t,e){const n=lE(t.x,e.x),i=lE(t.y,e.y);return Math.sqrt(n**2+i**2)}class aA{constructor(e,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=cy(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=a5(x.offset,{x:0,y:0})>=3;if(!b&&!S)return;const{point:C}=x,{timestamp:R}=Xt;this.history.push({...C,timestamp:R});const{onStart:A,onMove:D}=this.handlers;b||(A&&A(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=uy(b,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:S,onSessionEnd:C,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=cy(x.type==="pointercancel"?this.lastMoveEventInfo:uy(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,A),C&&C(x,A)},!Tv(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const u=ph(e),h=uy(u,this.transformPagePoint),{point:d}=h,{timestamp:f}=Xt;this.history=[{...d,timestamp:f}];const{onSessionStart:g}=n;g&&g(e,cy(h,this.history)),this.removeListeners=mh(kc(this.contextWindow,"pointermove",this.handlePointerMove),kc(this.contextWindow,"pointerup",this.handlePointerUp),kc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$i(this.updatePoint)}}function uy(t,e){return e?{point:e(t.point)}:t}function uE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cy({point:t},e){return{point:t,delta:uE(t,oA(e)),offset:uE(t,o5(e)),velocity:l5(e,.1)}}function o5(t){return t[0]}function oA(t){return t[t.length-1]}function l5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=oA(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>as(e)));)n--;if(!i)return{x:0,y:0};const o=os(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const lA=1e-4,u5=1-lA,c5=1+lA,uA=.01,h5=0-uA,d5=0+uA;function hi(t){return t.max-t.min}function f5(t,e,n){return Math.abs(t-e)<=n}function cE(t,e,n,i=.5){t.origin=i,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=hi(n)/hi(e),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=u5&&t.scale<=c5||isNaN(t.scale))&&(t.scale=1),(t.translate>=h5&&t.translate<=d5||isNaN(t.translate))&&(t.translate=0)}function Ic(t,e,n,i){cE(t.x,e.x,n.x,i?i.originX:void 0),cE(t.y,e.y,n.y,i?i.originY:void 0)}function hE(t,e,n){t.min=n.min+e.min,t.max=t.min+hi(e)}function m5(t,e,n){hE(t.x,e.x,n.x),hE(t.y,e.y,n.y)}function dE(t,e,n){t.min=e.min-n.min,t.max=t.min+hi(e)}function Mc(t,e,n){dE(t.x,e.x,n.x),dE(t.y,e.y,n.y)}function p5(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ct(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ct(n,t,i.max):Math.min(t,n)),t}function fE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function g5(t,{top:e,left:n,bottom:i,right:s}){return{x:fE(t.x,n,s),y:fE(t.y,e,i)}}function mE(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function y5(t,e){return{x:mE(t.x,e.x),y:mE(t.y,e.y)}}function v5(t,e){let n=.5;const i=hi(t),s=hi(e);return s>i?n=go(e.min,e.max-i,t.min):i>s&&(n=go(t.min,t.max-s,e.min)),Er(0,1,n)}function x5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const s0=.35;function b5(t=s0){return t===!1?t=0:t===!0&&(t=s0),{x:pE(t,"left","right"),y:pE(t,"top","bottom")}}function pE(t,e,n){return{min:gE(t,e),max:gE(t,n)}}function gE(t,e){return typeof t=="number"?t:t[e]||0}const yE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Al=()=>({x:yE(),y:yE()}),vE=()=>({min:0,max:0}),Lt=()=>({x:vE(),y:vE()});function Ci(t){return[t("x"),t("y")]}function cA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function _5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function S5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function hy(t){return t===void 0||t===1}function a0({scale:t,scaleX:e,scaleY:n}){return!hy(t)||!hy(e)||!hy(n)}function ao(t){return a0(t)||hA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hA(t){return xE(t.x)||xE(t.y)}function xE(t){return t&&t!=="0%"}function Ff(t,e,n){const i=t-n,s=e*i;return n+s}function bE(t,e,n,i,s){return s!==void 0&&(t=Ff(t,s,i)),Ff(t,n,i)+e}function o0(t,e=0,n=1,i,s){t.min=bE(t.min,e,n,i,s),t.max=bE(t.max,e,n,i,s)}function dA(t,{x:e,y:n}){o0(t.x,e.translate,e.scale,e.originPoint),o0(t.y,n.translate,n.scale,n.originPoint)}const _E=.999999999999,SE=1.0000000000001;function E5(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,u;for(let h=0;h<s;h++){o=n[h],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Rl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,dA(t,u)),i&&ao(o.latestValues)&&Rl(t,o.latestValues))}e.x<SE&&e.x>_E&&(e.x=1),e.y<SE&&e.y>_E&&(e.y=1)}function Nl(t,e){t.min=t.min+e,t.max=t.max+e}function EE(t,e,n,i,s=.5){const o=Ct(t.min,t.max,s);o0(t,e,n,o,i)}function Rl(t,e){EE(t.x,e.x,e.scaleX,e.scale,e.originX),EE(t.y,e.y,e.scaleY,e.scale,e.originY)}function fA(t,e){return cA(S5(t.getBoundingClientRect(),e))}function T5(t,e,n){const i=fA(t,n),{scroll:s}=e;return s&&(Nl(i.x,s.offset.x),Nl(i.y,s.offset.y)),i}const mA=({current:t})=>t?t.ownerDocument.defaultView:null,w5=new WeakMap;class C5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ph(g).point)},o=(g,x)=>{const{drag:b,dragPropagation:S,onDragStart:C}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xD(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ci(A=>{let D=this.getAxisMotionValue(A).get()||0;if(mr.test(D)){const{projection:q}=this.visualElement;if(q&&q.layout){const L=q.layout.layoutBox[A];L&&(D=hi(L)*(parseFloat(D)/100))}}this.originPoint[A]=D}),C&&it.postRender(()=>C(g,x)),Wy(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},u=(g,x)=>{const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:C,onDrag:R}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:A}=x;if(S&&this.currentDirection===null){this.currentDirection=A5(A),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",x.point,A),this.updateAxis("y",x.point,A),this.visualElement.render(),R&&R(g,x)},h=(g,x)=>this.stop(g,x),d=()=>Ci(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new aA(e,{onSessionStart:s,onStart:o,onMove:u,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:mA(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&it.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!af(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=p5(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&wl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=g5(s.layoutBox,n):this.constraints=!1,this.elastic=b5(i),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ci(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=x5(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wl(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=T5(i,s.root,this.visualElement.getTransformPagePoint());let u=y5(s.layout.layoutBox,o);if(n){const h=n(_5(u));this.hasMutatedConstraints=!!h,h&&(u=cA(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},f=Ci(g=>{if(!af(g,n,this.currentDirection))return;let x=d&&d[g]||{};u&&(x={min:0,max:0});const b=s?200:1e6,S=s?40:1e7,C={type:"inertia",velocity:i?e[g]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(g,C)});return Promise.all(f).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Wy(this.visualElement,e),i.start(Lv(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ci(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ci(n=>{const{drag:i}=this.getProps();if(!af(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[n];o.set(e[n]-Ct(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!wl(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ci(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();s[u]=v5({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ci(u=>{if(!af(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:f}=this.constraints[u];h.set(Ct(d,f,s[u]))})}addListeners(){if(!this.visualElement.current)return;w5.set(this.visualElement,this);const e=this.visualElement.current,n=kc(e,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();wl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),it.read(i);const u=Yc(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ci(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=d[g].translate,x.set(x.get()+d[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=s0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function af(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function A5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class N5 extends Na{constructor(e){super(e),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new C5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const TE=t=>(e,n)=>{t&&it.postRender(()=>t(e,n))};class R5 extends Na{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(e){this.session=new aA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:TE(e),onStart:TE(n),onMove:i,onEnd:(o,u)=>{delete this.session,s&&it.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=kc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _f={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ke.test(t))t=parseFloat(t);else return t;const n=wE(t,e.target.x),i=wE(t,e.target.y);return`${n}% ${i}%`}},k5={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=xa.parse(t);if(s.length>5)return i;const o=xa.createTransformer(t),u=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;s[0+u]/=h,s[1+u]/=d;const f=Ct(h,d,.5);return typeof s[2+u]=="number"&&(s[2+u]/=f),typeof s[3+u]=="number"&&(s[3+u]/=f),o(s)}};class I5 extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;eD(M5),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),_f.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,u=i.projection;return u&&(u.isPresent=o,s||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||it.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pA(t){const[e,n]=W2(),i=P.useContext(rv);return y.jsx(I5,{...t,layoutGroup:i,switchLayoutGroup:P.useContext(rC),isPresent:e,safeToRemove:n})}const M5={borderRadius:{...dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dc,borderTopRightRadius:dc,borderBottomLeftRadius:dc,borderBottomRightRadius:dc,boxShadow:k5};function D5(t,e,n){const i=un(t)?t:dr(t);return i.start(Lv("",i,e,n)),i.animation}function P5(t){return t instanceof SVGElement&&t.tagName!=="svg"}const O5=(t,e)=>t.depth-e.depth;class j5{constructor(){this.children=[],this.isDirty=!1}add(e){wv(this.children,e),this.isDirty=!0}remove(e){Cv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(O5),this.isDirty=!1,this.children.forEach(e)}}function L5(t,e){const n=pr.now(),i=({timestamp:s})=>{const o=s-n;o>=e&&($i(i),t(o-e))};return it.read(i,!0),()=>$i(i)}const gA=["TopLeft","TopRight","BottomLeft","BottomRight"],V5=gA.length,CE=t=>typeof t=="string"?parseFloat(t):t,AE=t=>typeof t=="number"||ke.test(t);function B5(t,e,n,i,s,o){s?(t.opacity=Ct(0,n.opacity!==void 0?n.opacity:1,U5(i)),t.opacityExit=Ct(e.opacity!==void 0?e.opacity:1,0,z5(i))):o&&(t.opacity=Ct(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let u=0;u<V5;u++){const h=`border${gA[u]}Radius`;let d=NE(e,h),f=NE(n,h);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||AE(d)===AE(f)?(t[h]=Math.max(Ct(CE(d),CE(f),i),0),(mr.test(f)||mr.test(d))&&(t[h]+="%")):t[h]=f}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,i))}function NE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const U5=yA(0,.5,PC),z5=yA(.5,.95,Ln);function yA(t,e,n){return i=>i<t?0:i>e?1:n(go(t,e,i))}function RE(t,e){t.min=e.min,t.max=e.max}function wi(t,e){RE(t.x,e.x),RE(t.y,e.y)}function kE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function IE(t,e,n,i,s){return t-=e,t=Ff(t,1/n,i),s!==void 0&&(t=Ff(t,1/s,i)),t}function F5(t,e=0,n=1,i=.5,s,o=t,u=t){if(mr.test(e)&&(e=parseFloat(e),e=Ct(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Ct(o.min,o.max,i);t===o&&(h-=e),t.min=IE(t.min,e,n,h,s),t.max=IE(t.max,e,n,h,s)}function ME(t,e,[n,i,s],o,u){F5(t,e[n],e[i],e[s],e.scale,o,u)}const H5=["x","scaleX","originX"],q5=["y","scaleY","originY"];function DE(t,e,n,i){ME(t.x,e,H5,n?n.x:void 0,i?i.x:void 0),ME(t.y,e,q5,n?n.y:void 0,i?i.y:void 0)}function PE(t){return t.translate===0&&t.scale===1}function vA(t){return PE(t.x)&&PE(t.y)}function OE(t,e){return t.min===e.min&&t.max===e.max}function G5(t,e){return OE(t.x,e.x)&&OE(t.y,e.y)}function jE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xA(t,e){return jE(t.x,e.x)&&jE(t.y,e.y)}function LE(t){return hi(t.x)/hi(t.y)}function VE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class $5{constructor(){this.members=[]}add(e){wv(this.members,e),e.scheduleRender()}remove(e){if(Cv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function K5(t,e,n){let i="";const s=t.x.translate/e.x,o=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((s||o||u)&&(i=`translate3d(${s}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:x,rotateY:b,skewX:S,skewY:C}=n;f&&(i=`perspective(${f}px) ${i}`),g&&(i+=`rotate(${g}deg) `),x&&(i+=`rotateX(${x}deg) `),b&&(i+=`rotateY(${b}deg) `),S&&(i+=`skewX(${S}deg) `),C&&(i+=`skewY(${C}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const oo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_c=typeof window<"u"&&window.MotionDebug!==void 0,dy=["","X","Y","Z"],Y5={visibility:"hidden"},BE=1e3;let Q5=0;function fy(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function bA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=AC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",it,!(s||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&bA(i)}function _A({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(u={},h=e==null?void 0:e()){this.id=Q5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_c&&(oo.totalNodes=oo.resolvedTargetDeltas=oo.recalculatedProjection=0),this.nodes.forEach(J5),this.nodes.forEach(iO),this.nodes.forEach(rO),this.nodes.forEach(Z5),_c&&window.MotionDebug.record(oo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new j5)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Av),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=P5(u),this.instance=u;const{layoutId:d,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(f||d)&&(this.isLayoutDirty=!0),t){let x;const b=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=L5(b,250),_f.hasAnimatedSinceResize&&(_f.hasAnimatedSinceResize=!1,this.nodes.forEach(zE))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||f)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeTargetChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||g.getDefaultTransition()||uO,{onLayoutAnimationStart:A,onLayoutAnimationComplete:D}=g.getProps(),q=!this.targetLayout||!xA(this.targetLayout,C)||S,L=!b&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||L||b&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,L);const ee={...bv(R,"layout"),onPlay:A,onComplete:D};(g.shouldReduceMotion||this.options.layoutRoot)&&(ee.delay=0,ee.type=!1),this.startAnimation(ee)}else b||zE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sO),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UE);return}this.isUpdating||this.nodes.forEach(tO),this.isUpdating=!1,this.nodes.forEach(nO),this.nodes.forEach(X5),this.nodes.forEach(W5),this.clearAllSnapshots();const h=pr.now();Xt.delta=Er(0,1e3/60,h-Xt.timestamp),Xt.timestamp=h,Xt.isProcessing=!0,iy.update.process(Xt),iy.preRender.process(Xt),iy.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eO),this.sharedNodes.forEach(aO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!vA(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;u&&(h||ao(this.latestValues)||g)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),cO(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return Lt();const d=h.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(hO))){const{scroll:g}=this.root;g&&(Nl(d.x,g.offset.x),Nl(d.y,g.offset.y))}return d}removeElementScroll(u){var h;const d=Lt();if(wi(d,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return d;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:x,options:b}=g;g!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&wi(d,u),Nl(d.x,x.offset.x),Nl(d.y,x.offset.y))}return d}applyTransform(u,h=!1){const d=Lt();wi(d,u);for(let f=0;f<this.path.length;f++){const g=this.path[f];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Rl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ao(g.latestValues)&&Rl(d,g.latestValues)}return ao(this.latestValues)&&Rl(d,this.latestValues),d}removeTransform(u){const h=Lt();wi(h,u);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!ao(f.latestValues))continue;a0(f.latestValues)&&f.updateSnapshot();const g=Lt(),x=f.measurePageBox();wi(g,x),DE(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return ao(this.latestValues)&&DE(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!(!this.layout||!(x||b))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),Mc(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),m5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wi(this.target,this.layout.layoutBox),dA(this.target,this.targetDelta)):wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),Mc(this.relativeTargetOrigin,this.target,S.target),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_c&&oo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||a0(this.parent.latestValues)||hA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let f=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(f=!1),f)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;wi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;E5(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Lt());const{target:C}=h;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kE(this.prevProjectionDelta.x,this.projectionDelta.x),kE(this.prevProjectionDelta.y,this.projectionDelta.y)),Ic(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==S||!VE(this.projectionDelta.x,this.prevProjectionDelta.x)||!VE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),_c&&oo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Al(),this.projectionDelta=Al(),this.projectionDeltaWithTransform=Al()}setAnimationOrigin(u,h=!1){const d=this.snapshot,f=d?d.latestValues:{},g={...this.latestValues},x=Al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=Lt(),S=d?d.source:void 0,C=this.layout?this.layout.source:void 0,R=S!==C,A=this.getStack(),D=!A||A.members.length<=1,q=!!(R&&!D&&this.options.crossfade===!0&&!this.path.some(lO));this.animationProgress=0;let L;this.mixTargetDelta=ee=>{const J=ee/1e3;FE(x.x,u.x,J),FE(x.y,u.y,J),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oO(this.relativeTarget,this.relativeTargetOrigin,b,J),L&&G5(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=Lt()),wi(L,this.relativeTarget)),R&&(this.animationValues=g,B5(g,f,this.latestValues,J,q,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{_f.hasAnimatedSinceResize=!0,this.currentAnimation=D5(0,BE,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:f,latestValues:g}=u;if(!(!h||!d||!f)){if(this!==u&&this.layout&&f&&SA(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Lt();const x=hi(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+x;const b=hi(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+b}wi(h,d),Rl(h,g),Ic(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new $5),this.sharedNodes.get(u).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const f={};d.z&&fy("z",u,f,this.animationValues);for(let g=0;g<dy.length;g++)fy(`rotate${dy[g]}`,u,f,this.animationValues),fy(`skew${dy[g]}`,u,f,this.animationValues);u.render();for(const g in f)u.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);u.scheduleRender()}getProjectionStyles(u){var h,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Y5;const f={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=xf(u==null?void 0:u.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none",f;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=xf(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ao(this.latestValues)&&(R.transform=g?g({},""):"none",this.hasProjected=!1),R}const b=x.animationValues||x.latestValues;this.applyTransformsToTarget(),f.transform=K5(this.projectionDeltaWithTransform,this.treeScale,b),g&&(f.transform=g(b,f.transform));const{x:S,y:C}=this.projectionDelta;f.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,x.animationValues?f.opacity=x===this?(d=(h=b.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:f.opacity=x===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const R in Lf){if(b[R]===void 0)continue;const{correct:A,applyTo:D}=Lf[R],q=f.transform==="none"?b[R]:A(b[R],x);if(D){const L=D.length;for(let ee=0;ee<L;ee++)f[D[ee]]=q}else f[R]=q}return this.options.layoutId&&(f.pointerEvents=x===this?xf(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(UE),this.root.sharedNodes.clear()}}}function X5(t){t.updateLayout()}function W5(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:o}=t.options,u=n.source!==t.layout.source;o==="size"?Ci(x=>{const b=u?n.measuredBox[x]:n.layoutBox[x],S=hi(b);b.min=i[x].min,b.max=b.min+S}):SA(o,n.layoutBox,i)&&Ci(x=>{const b=u?n.measuredBox[x]:n.layoutBox[x],S=hi(i[x]);b.max=b.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+S)});const h=Al();Ic(h,i,n.layoutBox);const d=Al();u?Ic(d,t.applyTransform(s,!0),n.measuredBox):Ic(d,i,n.layoutBox);const f=!vA(h);let g=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:S}=x;if(b&&S){const C=Lt();Mc(C,n.layoutBox,b.layoutBox);const R=Lt();Mc(R,i,S.layoutBox),xA(C,R)||(g=!0),x.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=C,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:d,layoutDelta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function J5(t){_c&&oo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Z5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function eO(t){t.clearSnapshot()}function UE(t){t.clearMeasurements()}function tO(t){t.isLayoutDirty=!1}function nO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iO(t){t.resolveTargetDelta()}function rO(t){t.calcProjection()}function sO(t){t.resetSkewAndRotation()}function aO(t){t.removeLeadSnapshot()}function FE(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HE(t,e,n,i){t.min=Ct(e.min,n.min,i),t.max=Ct(e.max,n.max,i)}function oO(t,e,n,i){HE(t.x,e.x,n.x,i),HE(t.y,e.y,n.y,i)}function lO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uO={duration:.45,ease:[.4,0,.1,1]},qE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),GE=qE("applewebkit/")&&!qE("chrome/")?Math.round:Ln;function $E(t){t.min=GE(t.min),t.max=GE(t.max)}function cO(t){$E(t.x),$E(t.y)}function SA(t,e,n){return t==="position"||t==="preserve-aspect"&&!f5(LE(e),LE(n),.2)}function hO(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const dO=_A({attachResizeListener:(t,e)=>Yc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),my={current:void 0},EA=_A({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!my.current){const t=new dO({});t.mount(window),t.setOptions({layoutScroll:!0}),my.current=t}return my.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fO={pan:{Feature:R5},drag:{Feature:N5,ProjectionNode:EA,MeasureLayout:pA}};function KE(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&it.postRender(()=>o(e,ph(e)))}class mO extends Na{mount(){const{current:e}=this.node;e&&(this.unmount=mD(e,n=>(KE(this.node,n,"Start"),i=>KE(this.node,i,"End"))))}unmount(){}}class pO extends Na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mh(Yc(this.node.current,"focus",()=>this.onFocus()),Yc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function YE(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&it.postRender(()=>o(e,ph(e)))}class gO extends Na{mount(){const{current:e}=this.node;e&&(this.unmount=vD(e,n=>(YE(this.node,n,"Start"),(i,{success:s})=>YE(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const l0=new WeakMap,py=new WeakMap,yO=t=>{const e=l0.get(t.target);e&&e(t)},vO=t=>{t.forEach(yO)};function xO({root:t,...e}){const n=t||document;py.has(n)||py.set(n,{});const i=py.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(vO,{root:t,...e})),i[s]}function bO(t,e,n){const i=xO(e);return l0.set(t,n),i.observe(t),()=>{l0.delete(t),i.unobserve(t)}}const _O={some:0,all:1};class SO extends Na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:_O[s]},h=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),b=f?g:x;b&&b(d)};return bO(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(EO(e,n))&&this.startObserver()}unmount(){}}function EO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const TO={inView:{Feature:SO},tap:{Feature:gO},focus:{Feature:pO},hover:{Feature:mO}},wO={layout:{ProjectionNode:EA,MeasureLayout:pA}},u0={current:null},TA={current:!1};function CO(){if(TA.current=!0,!!sv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>u0.current=t.matches;t.addListener(e),e()}else u0.current=!1}const AO=[...YC,Tn,xa],NO=t=>AO.find(KC(t)),QE=new WeakMap;function RO(t,e,n){for(const i in e){const s=e[i],o=n[i];if(un(s))t.addValue(i,s);else if(un(o))t.addValue(i,dr(s,{owner:t}));else if(o!==s)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=t.getStaticValue(i);t.addValue(i,dr(u!==void 0?u:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const XE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kO{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=pr.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,it.render(this.render,!1,!0))};const{latestValues:d,renderState:f,onUpdate:g}=u;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=bm(n),this.isVariantNode=nC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in b){const C=b[S];d[S]!==void 0&&un(C)&&C.set(d[S],!1)}}mount(e){this.current=e,QE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),TA.current||CO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:u0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){QE.delete(this.current),this.projection&&this.projection.unmount(),$i(this.notifyUpdate),$i(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Co.has(e),s=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&it.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bl){const n=Bl[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<XE.length;i++){const s=XE[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=e[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=RO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=dr(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(GC(s)||jC(s))?s=parseFloat(s):!NO(s)&&xa.test(n)&&(s=FC(e,n)),this.setBaseTarget(e,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const u=dv(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(s=u[e])}if(i&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!un(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Av),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class wA extends kO{constructor(){super(...arguments),this.KeyframeResolver=QC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function IO(t){return window.getComputedStyle(t)}class MO extends wA{constructor(){super(...arguments),this.type="html",this.renderInstance=hC}readValueFromInstance(e,n){if(Co.has(n)){const i=Dv(n);return i&&i.default||0}else{const i=IO(e),s=(lC(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fA(e,n)}build(e,n,i){pv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return xv(e,n,i)}}class DO extends wA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Co.has(n)){const i=Dv(n);return i&&i.default||0}return n=dC.has(n)?n:uv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return pC(e,n,i)}build(e,n,i){gv(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,s){fC(e,n,i,s)}mount(e){this.isSVGTag=vv(e.tagName),super.mount(e)}}const PO=(t,e)=>hv(t)?new DO(e):new MO(e,{allowProjection:t!==P.Fragment}),OO=uD({...r5,...TO,...fO,...wO},PO),qe=T3(OO);function CA(t,e){let n;const i=()=>{const{currentTime:s}=e,u=(s===null?0:s.value)/100;n!==u&&t(u),n=u};return it.update(i,!0),()=>$i(i)}const Sf=new WeakMap;let ca;function jO(t,e){if(e){const{inlineSize:n,blockSize:i}=e[0];return{width:n,height:i}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function LO({target:t,contentRect:e,borderBoxSize:n}){var i;(i=Sf.get(t))===null||i===void 0||i.forEach(s=>{s({target:t,contentSize:e,get size(){return jO(t,n)}})})}function VO(t){t.forEach(LO)}function BO(){typeof ResizeObserver>"u"||(ca=new ResizeObserver(VO))}function UO(t,e){ca||BO();const n=Ev(t);return n.forEach(i=>{let s=Sf.get(i);s||(s=new Set,Sf.set(i,s)),s.add(e),ca==null||ca.observe(i)}),()=>{n.forEach(i=>{const s=Sf.get(i);s==null||s.delete(e),s!=null&&s.size||ca==null||ca.unobserve(i)})}}const Ef=new Set;let Dc;function zO(){Dc=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Ef.forEach(n=>n(e))},window.addEventListener("resize",Dc)}function FO(t){return Ef.add(t),Dc||zO(),()=>{Ef.delete(t),!Ef.size&&Dc&&(Dc=void 0)}}function HO(t,e){return typeof t=="function"?FO(t):UO(t,e)}const qO=50,WE=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),GO=()=>({time:0,x:WE(),y:WE()}),$O={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function JE(t,e,n,i){const s=n[e],{length:o,position:u}=$O[e],h=s.current,d=n.time;s.current=t[`scroll${u}`],s.scrollLength=t[`scroll${o}`]-t[`client${o}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=go(0,s.scrollLength,s.current);const f=i-d;s.velocity=f>qO?0:Nv(s.current-h,f)}function KO(t,e,n){JE(t,"x",e,n),JE(t,"y",e,n),e.time=n}function YO(t,e){const n={x:0,y:0};let i=t;for(;i&&i!==e;)if(i instanceof HTMLElement)n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const o=i.getBoundingClientRect();n.x+=s.left-o.left,n.y+=s.top-o.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:o}=i.getBBox();n.x+=s,n.y+=o;let u=null,h=i.parentNode;for(;!u;)h.tagName==="svg"&&(u=h),h=i.parentNode;i=u}else break;return n}const c0={start:0,center:.5,end:1};function ZE(t,e,n=0){let i=0;if(t in c0&&(t=c0[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?i=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?i=s/100*document.documentElement.clientWidth:t.endsWith("vh")?i=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(i=e*t),n+i}const QO=[0,0];function XO(t,e,n,i){let s=Array.isArray(t)?t:QO,o=0,u=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,c0[t]?t:"0"]),o=ZE(s[0],n,i),u=ZE(s[1],e),o-u}const WO={All:[[0,0],[1,1]]},JO={x:0,y:0};function ZO(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function ej(t,e,n){const{offset:i=WO.All}=n,{target:s=t,axis:o="y"}=n,u=o==="y"?"height":"width",h=s!==t?YO(s,t):JO,d=s===t?{width:t.scrollWidth,height:t.scrollHeight}:ZO(s),f={width:t.clientWidth,height:t.clientHeight};e[o].offset.length=0;let g=!e[o].interpolate;const x=i.length;for(let b=0;b<x;b++){const S=XO(i[b],f[u],d[u],h[o]);!g&&S!==e[o].interpolatorOffsets[b]&&(g=!0),e[o].offset[b]=S}g&&(e[o].interpolate=jv(e[o].offset,nA(i),{clamp:!1}),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=Er(0,1,e[o].interpolate(e[o].current))}function tj(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let i=e;for(;i&&i!==t;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function nj(t,e,n,i={}){return{measure:()=>tj(t,i.target,n),update:s=>{KO(t,n,s),(i.offset||i.target)&&ej(t,n,i)},notify:()=>e(n)}}const fc=new WeakMap,eT=new WeakMap,gy=new WeakMap,tT=t=>t===document.documentElement?window:t;function Vv(t,{container:e=document.documentElement,...n}={}){let i=gy.get(e);i||(i=new Set,gy.set(e,i));const s=GO(),o=nj(e,t,s,n);if(i.add(o),!fc.has(e)){const h=()=>{for(const b of i)b.measure()},d=()=>{for(const b of i)b.update(Xt.timestamp)},f=()=>{for(const b of i)b.notify()},g=()=>{it.read(h,!1,!0),it.read(d,!1,!0),it.update(f,!1,!0)};fc.set(e,g);const x=tT(e);window.addEventListener("resize",g,{passive:!0}),e!==document.documentElement&&eT.set(e,HO(e,g)),x.addEventListener("scroll",g,{passive:!0})}const u=fc.get(e);return it.read(u,!1,!0),()=>{var h;$i(u);const d=gy.get(e);if(!d||(d.delete(o),d.size))return;const f=fc.get(e);fc.delete(e),f&&(tT(e).removeEventListener("scroll",f),(h=eT.get(e))===null||h===void 0||h(),window.removeEventListener("resize",f))}}function ij({source:t,container:e,axis:n="y"}){t&&(e=t);const i={value:0},s=Vv(o=>{i.value=o[n].progress*100},{container:e,axis:n});return{currentTime:i,cancel:s}}const yy=new Map;function AA({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),yy.has(e)||yy.set(e,{});const i=yy.get(e);return i[n]||(i[n]=vC()?new ScrollTimeline({source:e,axis:n}):ij({source:e,axis:n})),i[n]}function rj(t){return t.length===2}function NA(t){return t&&(t.target||t.offset)}function sj(t,e){return rj(t)||NA(e)?Vv(n=>{t(n[e.axis].progress,n)},e):CA(t,AA(e))}function aj(t,e){if(t.flatten(),NA(e))return t.pause(),Vv(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=AA(e);return t.attachTimeline?t.attachTimeline(n,i=>(i.pause(),CA(s=>{i.time=i.duration*s},n))):Ln}}function oj(t,{axis:e="y",...n}={}){const i={axis:e,...n};return typeof t=="function"?sj(t,i):aj(t,i)}function nT(t,e){g3(!!(!e||e.current))}const lj=()=>({scrollX:dr(0),scrollY:dr(0),scrollXProgress:dr(0),scrollYProgress:dr(0)});function uj({container:t,target:e,layoutEffect:n=!0,...i}={}){const s=Wl(lj);return(n?ch:P.useEffect)(()=>(nT("target",e),nT("container",t),oj((u,{x:h,y:d})=>{s.scrollX.set(h.current),s.scrollXProgress.set(h.progress),s.scrollY.set(d.current),s.scrollYProgress.set(d.progress)},{...i,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(i.offset)]),s}function RA(t){const e=Wl(()=>dr(t)),{isStatic:n}=P.useContext(uh);if(n){const[,i]=P.useState(t);P.useEffect(()=>e.on("change",i),[])}return e}function kA(t,e){const n=RA(e()),i=()=>n.set(e());return i(),ch(()=>{const s=()=>it.preRender(i,!1,!0),o=t.map(u=>u.on("change",s));return()=>{o.forEach(u=>u()),$i(i)}}),n}function iT(t){return typeof t=="number"?t:parseFloat(t)}function cj(t,e={}){const{isStatic:n}=P.useContext(uh),i=P.useRef(null),s=RA(un(t)?iT(t.get()):t),o=P.useRef(s.get()),u=P.useRef(()=>{}),h=()=>{const f=i.current;f&&f.time===0&&f.sample(Xt.delta),d(),i.current=IP({keyframes:[s.get(),o.current],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:u.current})},d=()=>{i.current&&i.current.stop()};return P.useInsertionEffect(()=>s.attach((f,g)=>n?g(f):(o.current=f,u.current=g,it.update(h),s.get()),d),[JSON.stringify(e)]),ch(()=>{if(un(t))return t.on("change",f=>s.set(iT(f)))},[s]),s}const hj=t=>t&&typeof t=="object"&&t.mix,dj=t=>hj(t)?t.mix:void 0;function fj(...t){const e=!Array.isArray(t[0]),n=e?0:-1,i=t[0+n],s=t[1+n],o=t[2+n],u=t[3+n],h=jv(s,o,{mixer:dj(o[0]),...u});return e?h(i):h}function mj(t){Nc.current=[],t();const e=kA(Nc.current,t);return Nc.current=void 0,e}function of(t,e,n,i){if(typeof t=="function")return mj(t);const s=typeof e=="function"?e:fj(e,n,i);return Array.isArray(t)?rT(t,s):rT([t],([o])=>s(o))}function rT(t,e){const n=Wl(()=>[]);return kA(t,()=>{n.length=0;const i=t.length;for(let s=0;s<i;s++)n[s]=t[s].get();return e(n)})}const pj={some:0,all:1};function gj(t,e,{root:n,margin:i,amount:s="some"}={}){const o=Ev(t),u=new WeakMap,h=f=>{f.forEach(g=>{const x=u.get(g.target);if(g.isIntersecting!==!!x)if(g.isIntersecting){const b=e(g);typeof b=="function"?u.set(g.target,b):d.unobserve(g.target)}else typeof x=="function"&&(x(g),u.delete(g.target))})},d=new IntersectionObserver(h,{root:n,rootMargin:i,threshold:typeof s=="number"?s:pj[s]});return o.forEach(f=>d.observe(f)),()=>d.disconnect()}function IA(t,{root:e,margin:n,amount:i,once:s=!1}={}){const[o,u]=P.useState(!1);return P.useEffect(()=>{if(!t.current||s&&o)return;const h=()=>(u(!0),s?void 0:()=>u(!1)),d={root:e&&e.current||void 0,margin:n,amount:i};return gj(t.current,h,d)},[e,t,n,s,i]),o}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:u,...h},d)=>P.createElement("svg",{ref:d,...vj,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:MA("lucide",s),...h},[...u.map(([f,g])=>P.createElement(f,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const n=P.forwardRef(({className:i,...s},o)=>P.createElement(xj,{ref:o,iconNode:e,className:MA(`lucide-${yj(t)}`,i),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=_e("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=_e("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=_e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=_e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=_e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=_e("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=_e("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=_e("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=_e("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=_e("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=_e("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=_e("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=_e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=_e("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=_e("MessageCircleQuestion",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=_e("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=_e("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=_e("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=_e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=_e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=_e("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=_e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=_e("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=_e("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),lT=t=>{let e;const n=new Set,i=(f,g)=>{const x=typeof f=="function"?f(e):f;if(!Object.is(x,e)){const b=e;e=g??(typeof x!="object"||x===null)?x:Object.assign({},e,x),n.forEach(S=>S(e,b))}},s=()=>e,h={setState:i,getState:s,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=e=t(i,s,h);return h},Qj=(t=>t?lT(t):lT),Xj=t=>t;function Wj(t,e=Xj){const n=ef.useSyncExternalStore(t.subscribe,ef.useCallback(()=>e(t.getState()),[t,e]),ef.useCallback(()=>e(t.getInitialState()),[t,e]));return ef.useDebugValue(n),n}const uT=t=>{const e=Qj(t),n=i=>Wj(e,i);return Object.assign(n,e),n},eu=(t=>t?uT(t):uT),Jj=()=>{};var cT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Zj=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],h=t[n++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},qA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,h=u?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,g=o>>2,x=(o&3)<<4|h>>4;let b=(h&15)<<2|f>>6,S=f&63;d||(S=64,u||(b=64)),i.push(n[g],n[x],n[b],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Zj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const x=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||h==null||f==null||x==null)throw new eL;const b=o<<2|h>>4;if(i.push(b),f!==64){const S=h<<4&240|f>>2;if(i.push(S),x!==64){const C=f<<6&192|x;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tL=function(t){const e=HA(t);return qA.encodeByteArray(e,!0)},Gf=function(t){return tL(t).replace(/\./g,"")},GA=function(t){try{return qA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=()=>nL().__FIREBASE_DEFAULTS__,rL=()=>{if(typeof process>"u"||typeof cT>"u")return;const t=cT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&GA(t[1]);return e&&JSON.parse(e)},Tm=()=>{try{return Jj()||iL()||rL()||sL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$A=t=>{var e,n;return(n=(e=Tm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KA=t=>{const e=$A(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},YA=()=>{var t;return(t=Tm())===null||t===void 0?void 0:t.config},QA=t=>{var e;return(e=Tm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gf(JSON.stringify(n)),Gf(JSON.stringify(u)),""].join(".")}const Pc={};function lL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pc))Pc[e]?t.emulator.push(e):t.prod.push(e);return t}function uL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hT=!1;function Hv(t,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Pc[t]===e||Pc[t]||hT)return;Pc[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=lL().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{hT=!0,u()},b}function g(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=uL(i),S=n("text"),C=document.getElementById(S)||document.createElement("span"),R=n("learnmore"),A=document.getElementById(R)||document.createElement("a"),D=n("preprendIcon"),q=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const L=b.element;h(L),g(A,R);const ee=f();d(q,D),L.append(q,C,A,ee),document.body.appendChild(L)}o?(C.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function hL(){var t;const e=(t=Tm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pL(){const t=An();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gL(){return!hL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yL(){try{return typeof indexedDB=="object"}catch{return!1}}function vL(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="FirebaseError";class ps extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=xL,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gh.prototype.create)}}class gh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?bL(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new ps(s,h,i)}}function bL(t,e){return t.replace(_L,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const _L=/\{\$([^}]+)}/g;function SL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],u=e[s];if(dT(o)&&dT(u)){if(!xo(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function dT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Sc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function EL(t,e){const n=new TL(t,e);return n.subscribe.bind(n)}class TL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");wL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=xy),s.error===void 0&&(s.error=xy),s.complete===void 0&&(s.complete=xy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class ba{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new aL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NL(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AL(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AL(t){return t===lo?void 0:t}function NL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const kL={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},IL=Qe.INFO,ML={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},DL=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=ML[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qv{constructor(e){this.name=e,this._logLevel=IL,this._logHandler=DL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const PL=(t,e)=>e.some(n=>t instanceof n);let fT,mT;function OL(){return fT||(fT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jL(){return mT||(mT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XA=new WeakMap,m0=new WeakMap,WA=new WeakMap,by=new WeakMap,Gv=new WeakMap;function LL(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(pa(t.result)),s()},u=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&XA.set(n,t)}).catch(()=>{}),Gv.set(e,t),e}function VL(t){if(m0.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});m0.set(t,e)}let p0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return m0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BL(t){p0=t(p0)}function UL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(_y(this),e,...n);return WA.set(i,e.sort?e.sort():[e]),pa(i)}:jL().includes(t)?function(...e){return t.apply(_y(this),e),pa(XA.get(this))}:function(...e){return pa(t.apply(_y(this),e))}}function zL(t){return typeof t=="function"?UL(t):(t instanceof IDBTransaction&&VL(t),PL(t,OL())?new Proxy(t,p0):t)}function pa(t){if(t instanceof IDBRequest)return LL(t);if(by.has(t))return by.get(t);const e=zL(t);return e!==t&&(by.set(t,e),Gv.set(e,t)),e}const _y=t=>Gv.get(t);function FL(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),h=pa(u);return i&&u.addEventListener("upgradeneeded",d=>{i(pa(u.result),d.oldVersion,d.newVersion,pa(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const HL=["get","getKey","getAll","getAllKeys","count"],qL=["put","add","delete","clear"],Sy=new Map;function pT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sy.get(e))return Sy.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=qL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||HL.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,s?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(h.shift())),(await Promise.all([f[n](...h),s&&d.done]))[0]};return Sy.set(e,o),o}BL(t=>({...t,get:(e,n,i)=>pT(e,n)||t.get(e,n,i),has:(e,n)=>!!pT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($L(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $L(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const g0="@firebase/app",gT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new qv("@firebase/app"),KL="@firebase/app-compat",YL="@firebase/analytics-compat",QL="@firebase/analytics",XL="@firebase/app-check-compat",WL="@firebase/app-check",JL="@firebase/auth",ZL="@firebase/auth-compat",eV="@firebase/database",tV="@firebase/data-connect",nV="@firebase/database-compat",iV="@firebase/functions",rV="@firebase/functions-compat",sV="@firebase/installations",aV="@firebase/installations-compat",oV="@firebase/messaging",lV="@firebase/messaging-compat",uV="@firebase/performance",cV="@firebase/performance-compat",hV="@firebase/remote-config",dV="@firebase/remote-config-compat",fV="@firebase/storage",mV="@firebase/storage-compat",pV="@firebase/firestore",gV="@firebase/ai",yV="@firebase/firestore-compat",vV="firebase",xV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="[DEFAULT]",bV={[g0]:"fire-core",[KL]:"fire-core-compat",[QL]:"fire-analytics",[YL]:"fire-analytics-compat",[WL]:"fire-app-check",[XL]:"fire-app-check-compat",[JL]:"fire-auth",[ZL]:"fire-auth-compat",[eV]:"fire-rtdb",[tV]:"fire-data-connect",[nV]:"fire-rtdb-compat",[iV]:"fire-fn",[rV]:"fire-fn-compat",[sV]:"fire-iid",[aV]:"fire-iid-compat",[oV]:"fire-fcm",[lV]:"fire-fcm-compat",[uV]:"fire-perf",[cV]:"fire-perf-compat",[hV]:"fire-rc",[dV]:"fire-rc-compat",[fV]:"fire-gcs",[mV]:"fire-gcs-compat",[pV]:"fire-fst",[yV]:"fire-fst-compat",[gV]:"fire-vertex","fire-js":"fire-js",[vV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Map,_V=new Map,v0=new Map;function yT(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(v0.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;v0.set(e,t);for(const n of $f.values())yT(n,t);for(const n of _V.values())yT(n,t);return!0}function wm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ga=new gh("app","Firebase",SV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=xV;function JA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:y0,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw ga.create("bad-app-name",{appName:String(s)});if(n||(n=YA()),!n)throw ga.create("no-options");const o=$f.get(s);if(o){if(xo(n,o.options)&&xo(i,o.config))return o;throw ga.create("duplicate-app",{appName:s})}const u=new RL(s);for(const d of v0.values())u.addComponent(d);const h=new EV(n,i,u);return $f.set(s,h),h}function $v(t=y0){const e=$f.get(t);if(!e&&t===y0&&YA())return JA();if(!e)throw ga.create("no-app",{appName:t});return e}function gr(t,e,n){var i;let s=(i=bV[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(h.join(" "));return}bo(new ba(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="firebase-heartbeat-database",wV=1,Xc="firebase-heartbeat-store";let Ey=null;function ZA(){return Ey||(Ey=FL(TV,wV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ga.create("idb-open",{originalErrorMessage:t.message})})),Ey}async function CV(t){try{const n=(await ZA()).transaction(Xc),i=await n.objectStore(Xc).get(eN(t));return await n.done,i}catch(e){if(e instanceof ps)cs.warn(e.message);else{const n=ga.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cs.warn(n.message)}}}async function vT(t,e){try{const i=(await ZA()).transaction(Xc,"readwrite");await i.objectStore(Xc).put(e,eN(t)),await i.done}catch(n){if(n instanceof ps)cs.warn(n.message);else{const i=ga.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cs.warn(i.message)}}}function eN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=1024,NV=30;class RV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IV(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>NV){const u=MV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){cs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xT(),{heartbeatsToSend:i,unsentEntries:s}=kV(this._heartbeatsCache.heartbeats),o=Gf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return cs.warn(n),""}}}function xT(){return new Date().toISOString().substring(0,10)}function kV(t,e=AV){const n=[];let i=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),bT(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),bT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class IV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yL()?vL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bT(t){return Gf(JSON.stringify({version:2,heartbeats:t})).length}function MV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t){bo(new ba("platform-logger",e=>new GL(e),"PRIVATE")),bo(new ba("heartbeat",e=>new RV(e),"PRIVATE")),gr(g0,gT,t),gr(g0,gT,"esm2017"),gr("fire-js","")}DV("");function Kv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function tN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PV=tN,nN=new gh("auth","Firebase",tN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new qv("@firebase/auth");function OV(t,...e){Kf.logLevel<=Qe.WARN&&Kf.warn(`Auth (${tu}): ${t}`,...e)}function Tf(t,...e){Kf.logLevel<=Qe.ERROR&&Kf.error(`Auth (${tu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,...e){throw Qv(t,...e)}function qi(t,...e){return Qv(t,...e)}function Yv(t,e,n){const i=Object.assign(Object.assign({},PV()),{[e]:n});return new gh("auth","Firebase",i).create(e,{appName:t.name})}function ls(t){return Yv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jV(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ki(t,"argument-error"),Yv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return nN.create(t,...e)}function Ie(t,e,...n){if(!t)throw Qv(e,...n)}function rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tf(e),new Error(e)}function hs(t,e){t||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LV(){return _T()==="http:"||_T()==="https:"}function _T(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LV()||fL()||"connection"in navigator)?navigator.onLine:!0}function BV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=cL()||mL()}get(){return VV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FV=new vh(3e4,6e4);function gs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ar(t,e,n,i,s={}){return rN(t,s,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const h=yh(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},o);return dL()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Ao(t.emulatorConfig.host)&&(f.credentials="include"),iN.fetch()(await sN(t,t.config.apiHost,n,h),f)})}async function rN(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},UV),e);try{const s=new qV(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw lf(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw lf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw lf(t,"user-disabled",u);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Yv(t,g,f);ki(t,g)}}catch(s){if(s instanceof ps)throw s;ki(t,"network-request-failed",{message:String(s)})}}async function xh(t,e,n,i,s={}){const o=await Ar(t,e,n,i,s);return"mfaPendingCredential"in o&&ki(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function sN(t,e,n,i){const s=`${e}${n}?${i}`,o=t,u=o.config.emulator?Xv(t.config,s):`${t.config.apiScheme}://${s}`;return zV.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function HV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(qi(this.auth,"network-request-failed")),FV.get())})}}function lf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=qi(t,e,i);return s.customData._tokenResponse=n,s}function ST(t){return t!==void 0&&t.enterprise!==void 0}class GV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $V(t,e){return Ar(t,"GET","/v2/recaptchaConfig",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e){return Ar(t,"POST","/v1/accounts:delete",e)}async function Yf(t,e){return Ar(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YV(t,e=!1){const n=Kt(t),i=await n.getIdToken(e),s=Wv(i);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Oc(Ty(s.auth_time)),issuedAtTime:Oc(Ty(s.iat)),expirationTime:Oc(Ty(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ty(t){return Number(t)*1e3}function Wv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const s=GA(n);return s?JSON.parse(s):(Tf("Failed to decode base64 JWT payload"),null)}catch(s){return Tf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ET(t){const e=Wv(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ps&&QV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function QV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Fl(t,Yf(n,{idToken:i}));Ie(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?oN(o.providerUserInfo):[],h=WV(t.providerData,u),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?f:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new b0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,x)}async function aN(t){const e=Kt(t);await Qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WV(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function oN(t){return t.map(e=>{var{providerId:n}=e,i=Kv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e){const n=await rN(t,{},async()=>{const i=yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,u=await sN(t,s,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return t.emulatorConfig&&Ao(t.emulatorConfig.host)&&(d.credentials="include"),iN.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZV(t,e){return Ar(t,"POST","/v2/accounts:revokeToken",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ET(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=ET(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await JV(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,u=new Il;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(Ie(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Ie(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fi{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=Kv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new b0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YV(this,e)}reload(){return aN(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Qf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await Fl(this,KV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,u,h,d,f,g;const x=(i=n.displayName)!==null&&i!==void 0?i:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,S=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(u=n.photoURL)!==null&&u!==void 0?u:void 0,R=(h=n.tenantId)!==null&&h!==void 0?h:void 0,A=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,D=(f=n.createdAt)!==null&&f!==void 0?f:void 0,q=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:ee,isAnonymous:J,providerData:F,stsTokenManager:I}=n;Ie(L&&I,e,"internal-error");const w=Il.fromJSON(this.name,I);Ie(typeof L=="string",e,"internal-error"),oa(x,e.name),oa(b,e.name),Ie(typeof ee=="boolean",e,"internal-error"),Ie(typeof J=="boolean",e,"internal-error"),oa(S,e.name),oa(C,e.name),oa(R,e.name),oa(A,e.name),oa(D,e.name),oa(q,e.name);const M=new Fi({uid:L,auth:e,email:b,emailVerified:ee,displayName:x,isAnonymous:J,photoURL:C,phoneNumber:S,tenantId:R,stsTokenManager:w,createdAt:D,lastLoginAt:q});return F&&Array.isArray(F)&&(M.providerData=F.map(B=>Object.assign({},B))),A&&(M._redirectEventId=A),M}static async _fromIdTokenResponse(e,n,i=!1){const s=new Il;s.updateFromServerResponse(n);const o=new Fi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Qf(o),o}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?oN(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),h=new Il;h.updateFromIdToken(i);const d=new Fi({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new b0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new Map;function ss(t){hs(t instanceof Function,"Expected a class definition");let e=TT.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lN.type="NONE";const wT=lN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ml{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=wf(this.userKey,s.apiKey,o),this.fullPersistenceKey=wf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yf(this.auth,{idToken:e}).catch(()=>{});return n?Fi._fromGetAccountInfoResponse(this.auth,n,e):null}return Fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ml(ss(wT),e,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||ss(wT);const u=wf(i,e.config.apiKey,e.name);let h=null;for(const f of n)try{const g=await f._get(u);if(g){let x;if(typeof g=="string"){const b=await Yf(e,{idToken:g}).catch(()=>{});if(!b)break;x=await Fi._fromGetAccountInfoResponse(e,b,g)}else x=Fi._fromJSON(e,g);f!==o&&(h=x),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ml(o,e,i):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(u)}catch{}})),new Ml(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mN(e))return"Blackberry";if(pN(e))return"Webos";if(cN(e))return"Safari";if((e.includes("chrome/")||hN(e))&&!e.includes("edge/"))return"Chrome";if(fN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function uN(t=An()){return/firefox\//i.test(t)}function cN(t=An()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hN(t=An()){return/crios\//i.test(t)}function dN(t=An()){return/iemobile/i.test(t)}function fN(t=An()){return/android/i.test(t)}function mN(t=An()){return/blackberry/i.test(t)}function pN(t=An()){return/webos/i.test(t)}function Jv(t=An()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e6(t=An()){var e;return Jv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t6(){return pL()&&document.documentMode===10}function gN(t=An()){return Jv(t)||fN(t)||pN(t)||mN(t)||/windows phone/i.test(t)||dN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e=[]){let n;switch(t){case"Browser":n=CT(An());break;case"Worker":n=`${CT(An())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t,e={}){return Ar(t,"GET","/v2/passwordPolicy",gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=6;class s6{constructor(e){var n,i,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:r6,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AT(this),this.idTokenSubscription=new AT(this),this.beforeStateQueue=new n6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{var i,s,o;if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yf(this,{idToken:e}),i=await Fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(ls(this));const n=e?Kt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i6(this),n=new s6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gh("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await ZV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,s);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&OV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ys(t){return Kt(t)}class AT{constructor(e){this.auth=e,this.observer=null,this.addObserver=EL(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o6(t){Cm=t}function vN(t){return Cm.loadJS(t)}function l6(){return Cm.recaptchaEnterpriseScript}function u6(){return Cm.gapiScript}function c6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class h6{constructor(){this.enterprise=new d6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class d6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const f6="recaptcha-enterprise",xN="NO_RECAPTCHA";class m6{constructor(e){this.type=f6,this.auth=ys(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{$V(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new GV(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,u(f.siteKey)}}).catch(d=>{h(d)})})}function s(o,u,h){const d=window.grecaptcha;ST(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{u(f)}).catch(()=>{u(xN)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h6().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!n&&ST(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=l6();d.length!==0&&(d+=h),vN(d).then(()=>{s(h,o,u)}).catch(f=>{u(f)})}}).catch(h=>{u(h)})})}}async function NT(t,e,n,i=!1,s=!1){const o=new m6(t);let u;if(s)u=xN;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Xf(t,e,n,i,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await NT(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await NT(t,e,n,n==="getOobCode");return i(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t,e){const n=wm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(xo(o,e??{}))return s;ki(s,"already-initialized")}return n.initialize({options:e})}function g6(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function y6(t,e,n){const i=ys(t);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=bN(e),{host:u,port:h}=v6(e),d=h===null?"":`:${h}`,f={url:`${o}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(xo(f,i.config.emulator)&&xo(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Ao(u)?(Fv(`${o}//${u}${d}`),Hv("Auth",!0)):x6()}function bN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v6(t){const e=bN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:RT(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:RT(u)}}}function RT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function b6(t,e){return Ar(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(t,e){return xh(t,"POST","/v1/accounts:signInWithPassword",gs(t,e))}async function _N(t,e){return Ar(t,"POST","/v1/accounts:sendOobCode",gs(t,e))}async function S6(t,e){return _N(t,e)}async function E6(t,e){return _N(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(t,e){return xh(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}async function w6(t,e){return xh(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Zv{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Wc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Wc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,n,"signInWithPassword",_6);case"emailLink":return T6(e,{email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,i,"signUpPassword",b6);case"emailLink":return w6(e,{idToken:n,email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e){return xh(t,"POST","/v1/accounts:signInWithIdp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="http://localhost";class _o extends Zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=Kv(n,["providerId","signInMethod"]);if(!i||!s)return null;const u=new _o(i,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Dl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Dl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dl(e,n)}buildRequest(){const e={requestUri:C6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N6(t){const e=Sc(Ec(t)).link,n=e?Sc(Ec(e)).deep_link_id:null,i=Sc(Ec(t)).deep_link_id;return(i?Sc(Ec(i)).link:null)||i||n||e||t}class ex{constructor(e){var n,i,s,o,u,h;const d=Sc(Ec(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(i=d.oobCode)!==null&&i!==void 0?i:null,x=A6((s=d.mode)!==null&&s!==void 0?s:null);Ie(f&&g&&x,"argument-error"),this.apiKey=f,this.operation=x,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=N6(e);try{return new ex(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this.providerId=nu.PROVIDER_ID}static credential(e,n){return Wc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ex.parseLink(n);return Ie(i,"argument-error"),Wc._fromEmailAndCode(e,i.code,i.tenantId)}}nu.PROVIDER_ID="password";nu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends tx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends bh{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends bh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return is.credential(n,i)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends bh{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.GITHUB_SIGN_IN_METHOD="github.com";da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends bh{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return fa.credential(n,i)}catch{return null}}}fa.TWITTER_SIGN_IN_METHOD="twitter.com";fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(t,e){return xh(t,"POST","/v1/accounts:signUp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await Fi._fromIdTokenResponse(e,i,s),u=kT(i);return new So({user:o,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=kT(i);return new So({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function kT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends ps{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Wf(e,n,i,s)}}function SN(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(t,o,e,i):o})}async function k6(t,e,n=!1){const i=await Fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return So._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(t,e,n=!1){const{auth:i}=t;if(Yn(i.app))return Promise.reject(ls(i));const s="reauthenticate";try{const o=await Fl(t,SN(i,s,e,t),n);Ie(o.idToken,i,"internal-error");const u=Wv(o.idToken);Ie(u,i,"internal-error");const{sub:h}=u;return Ie(t.uid===h,i,"user-mismatch"),So._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ki(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e,n=!1){if(Yn(t.app))return Promise.reject(ls(t));const i="signIn",s=await SN(t,i,e),o=await So._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function M6(t,e){return EN(ys(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t){const e=ys(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D6(t,e,n){const i=ys(t);await Xf(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",E6)}async function P6(t,e,n){if(Yn(t.app))return Promise.reject(ls(t));const i=ys(t),u=await Xf(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R6).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&TN(t),d}),h=await So._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function O6(t,e,n){return Yn(t.app)?Promise.reject(ls(t)):M6(Kt(t),nu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&TN(t),i})}async function IT(t,e){const n=Kt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await S6(n.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(t,e){return Ar(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Kt(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Fl(i,j6(i.auth,o));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const h=i.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function V6(t,e,n,i){return Kt(t).onIdTokenChanged(e,n,i)}function B6(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}function U6(t,e,n,i){return Kt(t).onAuthStateChanged(e,n,i)}function z6(t){return Kt(t).signOut()}const Jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=1e3,H6=10;class CN extends wN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);t6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,H6):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},F6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CN.type="LOCAL";const q6=CN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN extends wN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AN.type="SESSION";const NN=AN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Am(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(u).map(async f=>f(n.origin,o)),d=await G6(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Am.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const f=nx("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(x){const b=x;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function K6(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function Y6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function X6(){return RN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firebaseLocalStorageDb",W6=1,Zf="firebaseLocalStorage",IN="fbase_key";class _h{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nm(t,e){return t.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function J6(){const t=indexedDB.deleteDatabase(kN);return new _h(t).toPromise()}function _0(){const t=indexedDB.open(kN,W6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Zf,{keyPath:IN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Zf)?e(i):(i.close(),await J6(),e(await _0()))})})}async function MT(t,e,n){const i=Nm(t,!0).put({[IN]:e,value:n});return new _h(i).toPromise()}async function Z6(t,e){const n=Nm(t,!1).get(e),i=await new _h(n).toPromise();return i===void 0?null:i.value}function DT(t,e){const n=Nm(t,!0).delete(e);return new _h(n).toPromise()}const eB=800,tB=3;class MN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>tB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Am._getInstance(X6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Y6(),!this.activeServiceWorker)return;this.sender=new $6(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _0();return await MT(e,Jf,"1"),await DT(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>MT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Z6(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Nm(s,!1).getAll();return new _h(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MN.type="LOCAL";const nB=MN;new vh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e){return e?ss(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix extends Zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iB(t){return EN(t.auth,new ix(t),t.bypassAuthState)}function rB(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),I6(n,new ix(t),t.bypassAuthState)}async function sB(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),k6(n,new ix(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iB;case"linkViaPopup":case"linkViaRedirect":return sB;case"reauthViaPopup":case"reauthViaRedirect":return rB;default:ki(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=new vh(2e3,1e4);async function oB(t,e,n){if(Yn(t.app))return Promise.reject(qi(t,"operation-not-supported-in-this-environment"));const i=ys(t);jV(t,e,tx);const s=DN(i,n);return new co(i,"signInViaPopup",e,s).executeNotNull()}class co extends PN{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=nx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aB.get())};e()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB="pendingRedirect",Cf=new Map;class uB extends PN{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const i=await cB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cB(t,e){const n=fB(e),i=dB(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function hB(t,e){Cf.set(t._key(),e)}function dB(t){return ss(t._redirectPersistence)}function fB(t){return wf(lB,t.config.apiKey,t.name)}async function mB(t,e,n=!1){if(Yn(t.app))return Promise.reject(ls(t));const i=ys(t),s=DN(i,e),u=await new uB(i,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=600*1e3;class gB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!ON(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(qi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pB&&this.cachedEventUids.clear(),this.cachedEventUids.has(PT(e))}saveEventToCache(e){this.cachedEventUids.add(PT(e)),this.lastProcessedEventTime=Date.now()}}function PT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ON({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ON(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(t,e={}){return Ar(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bB=/^https?/;async function _B(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vB(t);for(const n of e)try{if(SB(n))return}catch{}ki(t,"unauthorized-domain")}function SB(t){const e=x0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!bB.test(n))return!1;if(xB.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=new vh(3e4,6e4);function OT(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TB(t){return new Promise((e,n)=>{var i,s,o;function u(){OT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OT(),n(qi(t,"network-request-failed"))},timeout:EB.get()})}if(!((s=(i=yr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=yr().gapi)===null||o===void 0)&&o.load)u();else{const h=c6("iframefcb");return yr()[h]=()=>{gapi.load?u():n(qi(t,"network-request-failed"))},vN(`${u6()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw Af=null,e})}let Af=null;function wB(t){return Af=Af||TB(t),Af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=new vh(5e3,15e3),AB="__/auth/iframe",NB="emulator/auth/iframe",RB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IB(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xv(e,NB):`https://${t.config.authDomain}/${AB}`,i={apiKey:e.apiKey,appName:t.name,v:tu},s=kB.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${yh(i).slice(1)}`}async function MB(t){const e=await wB(t),n=yr().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:IB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RB,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const u=qi(t,"network-request-failed"),h=yr().setTimeout(()=>{o(u)},CB.get());function d(){yr().clearTimeout(h),s(i)}i.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PB=500,OB=600,jB="_blank",LB="http://localhost";class jT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VB(t,e,n,i=PB,s=OB){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d=Object.assign(Object.assign({},DB),{width:i.toString(),height:s.toString(),top:o,left:u}),f=An().toLowerCase();n&&(h=hN(f)?jB:n),uN(f)&&(e=e||LB,d.scrollbars="yes");const g=Object.entries(d).reduce((b,[S,C])=>`${b}${S}=${C},`,"");if(e6(f)&&h!=="_self")return BB(e||"",h),new jT(null);const x=window.open(e||"",h,g);Ie(x,t,"popup-blocked");try{x.focus()}catch{}return new jT(x)}function BB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB="__/auth/handler",zB="emulator/auth/handler",FB=encodeURIComponent("fac");async function LT(t,e,n,i,s,o){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:tu,eventId:s};if(e instanceof tx){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",SL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,x]of Object.entries({}))u[g]=x}if(e instanceof bh){const g=e.getScopes().filter(x=>x!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),f=d?`#${FB}=${encodeURIComponent(d)}`:"";return`${HB(t)}?${yh(h).slice(1)}${f}`}function HB({config:t}){return t.emulator?Xv(t,zB):`https://${t.authDomain}/${UB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="webStorageSupport";class qB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NN,this._completeRedirectFn=mB,this._overrideRedirectResult=hB}async _openPopup(e,n,i,s){var o;hs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await LT(e,n,i,x0(),s);return VB(e,u,nx())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await LT(e,n,i,x0(),s);return K6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(hs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await MB(e),i=new gB(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wy,{type:wy},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[wy];u!==void 0&&n(!!u),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_B(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gN()||cN()||Jv()}}const GB=qB;var VT="@firebase/auth",BT="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YB(t){bo(new ba("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yN(t)},f=new a6(i,s,o,d);return g6(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),bo(new ba("auth-internal",e=>{const n=ys(e.getProvider("auth").getImmediate());return(i=>new $B(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(VT,BT,KB(t)),gr(VT,BT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=300,XB=QA("authIdTokenMaxAge")||QB;let UT=null;const WB=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>XB)return;const s=n==null?void 0:n.token;UT!==s&&(UT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function JB(t=$v()){const e=wm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p6(t,{popupRedirectResolver:GB,persistence:[nB,q6,NN]}),i=QA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=WB(o.toString());B6(n,u,()=>u(n.currentUser)),V6(n,h=>u(h))}}const s=$A("auth");return s&&y6(n,`http://${s}`),n}function ZB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}o6({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=qi("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",ZB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YB("Browser");var zT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ya,jN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,w){function M(){}M.prototype=w.prototype,I.D=w.prototype,I.prototype=new M,I.prototype.constructor=I,I.C=function(B,V,U){for(var j=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)j[fe-2]=arguments[fe];return w.prototype[V].apply(B,j)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,w,M){M||(M=0);var B=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)B[V]=w.charCodeAt(M++)|w.charCodeAt(M++)<<8|w.charCodeAt(M++)<<16|w.charCodeAt(M++)<<24;else for(V=0;16>V;++V)B[V]=w[M++]|w[M++]<<8|w[M++]<<16|w[M++]<<24;w=I.g[0],M=I.g[1],V=I.g[2];var U=I.g[3],j=w+(U^M&(V^U))+B[0]+3614090360&4294967295;w=M+(j<<7&4294967295|j>>>25),j=U+(V^w&(M^V))+B[1]+3905402710&4294967295,U=w+(j<<12&4294967295|j>>>20),j=V+(M^U&(w^M))+B[2]+606105819&4294967295,V=U+(j<<17&4294967295|j>>>15),j=M+(w^V&(U^w))+B[3]+3250441966&4294967295,M=V+(j<<22&4294967295|j>>>10),j=w+(U^M&(V^U))+B[4]+4118548399&4294967295,w=M+(j<<7&4294967295|j>>>25),j=U+(V^w&(M^V))+B[5]+1200080426&4294967295,U=w+(j<<12&4294967295|j>>>20),j=V+(M^U&(w^M))+B[6]+2821735955&4294967295,V=U+(j<<17&4294967295|j>>>15),j=M+(w^V&(U^w))+B[7]+4249261313&4294967295,M=V+(j<<22&4294967295|j>>>10),j=w+(U^M&(V^U))+B[8]+1770035416&4294967295,w=M+(j<<7&4294967295|j>>>25),j=U+(V^w&(M^V))+B[9]+2336552879&4294967295,U=w+(j<<12&4294967295|j>>>20),j=V+(M^U&(w^M))+B[10]+4294925233&4294967295,V=U+(j<<17&4294967295|j>>>15),j=M+(w^V&(U^w))+B[11]+2304563134&4294967295,M=V+(j<<22&4294967295|j>>>10),j=w+(U^M&(V^U))+B[12]+1804603682&4294967295,w=M+(j<<7&4294967295|j>>>25),j=U+(V^w&(M^V))+B[13]+4254626195&4294967295,U=w+(j<<12&4294967295|j>>>20),j=V+(M^U&(w^M))+B[14]+2792965006&4294967295,V=U+(j<<17&4294967295|j>>>15),j=M+(w^V&(U^w))+B[15]+1236535329&4294967295,M=V+(j<<22&4294967295|j>>>10),j=w+(V^U&(M^V))+B[1]+4129170786&4294967295,w=M+(j<<5&4294967295|j>>>27),j=U+(M^V&(w^M))+B[6]+3225465664&4294967295,U=w+(j<<9&4294967295|j>>>23),j=V+(w^M&(U^w))+B[11]+643717713&4294967295,V=U+(j<<14&4294967295|j>>>18),j=M+(U^w&(V^U))+B[0]+3921069994&4294967295,M=V+(j<<20&4294967295|j>>>12),j=w+(V^U&(M^V))+B[5]+3593408605&4294967295,w=M+(j<<5&4294967295|j>>>27),j=U+(M^V&(w^M))+B[10]+38016083&4294967295,U=w+(j<<9&4294967295|j>>>23),j=V+(w^M&(U^w))+B[15]+3634488961&4294967295,V=U+(j<<14&4294967295|j>>>18),j=M+(U^w&(V^U))+B[4]+3889429448&4294967295,M=V+(j<<20&4294967295|j>>>12),j=w+(V^U&(M^V))+B[9]+568446438&4294967295,w=M+(j<<5&4294967295|j>>>27),j=U+(M^V&(w^M))+B[14]+3275163606&4294967295,U=w+(j<<9&4294967295|j>>>23),j=V+(w^M&(U^w))+B[3]+4107603335&4294967295,V=U+(j<<14&4294967295|j>>>18),j=M+(U^w&(V^U))+B[8]+1163531501&4294967295,M=V+(j<<20&4294967295|j>>>12),j=w+(V^U&(M^V))+B[13]+2850285829&4294967295,w=M+(j<<5&4294967295|j>>>27),j=U+(M^V&(w^M))+B[2]+4243563512&4294967295,U=w+(j<<9&4294967295|j>>>23),j=V+(w^M&(U^w))+B[7]+1735328473&4294967295,V=U+(j<<14&4294967295|j>>>18),j=M+(U^w&(V^U))+B[12]+2368359562&4294967295,M=V+(j<<20&4294967295|j>>>12),j=w+(M^V^U)+B[5]+4294588738&4294967295,w=M+(j<<4&4294967295|j>>>28),j=U+(w^M^V)+B[8]+2272392833&4294967295,U=w+(j<<11&4294967295|j>>>21),j=V+(U^w^M)+B[11]+1839030562&4294967295,V=U+(j<<16&4294967295|j>>>16),j=M+(V^U^w)+B[14]+4259657740&4294967295,M=V+(j<<23&4294967295|j>>>9),j=w+(M^V^U)+B[1]+2763975236&4294967295,w=M+(j<<4&4294967295|j>>>28),j=U+(w^M^V)+B[4]+1272893353&4294967295,U=w+(j<<11&4294967295|j>>>21),j=V+(U^w^M)+B[7]+4139469664&4294967295,V=U+(j<<16&4294967295|j>>>16),j=M+(V^U^w)+B[10]+3200236656&4294967295,M=V+(j<<23&4294967295|j>>>9),j=w+(M^V^U)+B[13]+681279174&4294967295,w=M+(j<<4&4294967295|j>>>28),j=U+(w^M^V)+B[0]+3936430074&4294967295,U=w+(j<<11&4294967295|j>>>21),j=V+(U^w^M)+B[3]+3572445317&4294967295,V=U+(j<<16&4294967295|j>>>16),j=M+(V^U^w)+B[6]+76029189&4294967295,M=V+(j<<23&4294967295|j>>>9),j=w+(M^V^U)+B[9]+3654602809&4294967295,w=M+(j<<4&4294967295|j>>>28),j=U+(w^M^V)+B[12]+3873151461&4294967295,U=w+(j<<11&4294967295|j>>>21),j=V+(U^w^M)+B[15]+530742520&4294967295,V=U+(j<<16&4294967295|j>>>16),j=M+(V^U^w)+B[2]+3299628645&4294967295,M=V+(j<<23&4294967295|j>>>9),j=w+(V^(M|~U))+B[0]+4096336452&4294967295,w=M+(j<<6&4294967295|j>>>26),j=U+(M^(w|~V))+B[7]+1126891415&4294967295,U=w+(j<<10&4294967295|j>>>22),j=V+(w^(U|~M))+B[14]+2878612391&4294967295,V=U+(j<<15&4294967295|j>>>17),j=M+(U^(V|~w))+B[5]+4237533241&4294967295,M=V+(j<<21&4294967295|j>>>11),j=w+(V^(M|~U))+B[12]+1700485571&4294967295,w=M+(j<<6&4294967295|j>>>26),j=U+(M^(w|~V))+B[3]+2399980690&4294967295,U=w+(j<<10&4294967295|j>>>22),j=V+(w^(U|~M))+B[10]+4293915773&4294967295,V=U+(j<<15&4294967295|j>>>17),j=M+(U^(V|~w))+B[1]+2240044497&4294967295,M=V+(j<<21&4294967295|j>>>11),j=w+(V^(M|~U))+B[8]+1873313359&4294967295,w=M+(j<<6&4294967295|j>>>26),j=U+(M^(w|~V))+B[15]+4264355552&4294967295,U=w+(j<<10&4294967295|j>>>22),j=V+(w^(U|~M))+B[6]+2734768916&4294967295,V=U+(j<<15&4294967295|j>>>17),j=M+(U^(V|~w))+B[13]+1309151649&4294967295,M=V+(j<<21&4294967295|j>>>11),j=w+(V^(M|~U))+B[4]+4149444226&4294967295,w=M+(j<<6&4294967295|j>>>26),j=U+(M^(w|~V))+B[11]+3174756917&4294967295,U=w+(j<<10&4294967295|j>>>22),j=V+(w^(U|~M))+B[2]+718787259&4294967295,V=U+(j<<15&4294967295|j>>>17),j=M+(U^(V|~w))+B[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(V+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+U&4294967295}i.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var M=w-this.blockSize,B=this.B,V=this.h,U=0;U<w;){if(V==0)for(;U<=M;)s(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<w;)if(B[V++]=I.charCodeAt(U++),V==this.blockSize){s(this,B),V=0;break}}else for(;U<w;)if(B[V++]=I[U++],V==this.blockSize){s(this,B),V=0;break}}this.h=V,this.o+=w},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var M=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=M&255,M/=256;for(this.u(I),I=Array(16),w=M=0;4>w;++w)for(var B=0;32>B;B+=8)I[M++]=this.g[w]>>>B&255;return I};function o(I,w){var M=h;return Object.prototype.hasOwnProperty.call(M,I)?M[I]:M[I]=w(I)}function u(I,w){this.h=w;for(var M=[],B=!0,V=I.length-1;0<=V;V--){var U=I[V]|0;B&&U==w||(M[V]=U,B=!1)}this.g=M}var h={};function d(I){return-128<=I&&128>I?o(I,function(w){return new u([w|0],0>w?-1:0)}):new u([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return x;if(0>I)return A(f(-I));for(var w=[],M=1,B=0;I>=M;B++)w[B]=I/M|0,M*=4294967296;return new u(w,0)}function g(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return A(g(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(w,8)),B=x,V=0;V<I.length;V+=8){var U=Math.min(8,I.length-V),j=parseInt(I.substring(V,V+U),w);8>U?(U=f(Math.pow(w,U)),B=B.j(U).add(f(j))):(B=B.j(M),B=B.add(f(j)))}return B}var x=d(0),b=d(1),S=d(16777216);t=u.prototype,t.m=function(){if(R(this))return-A(this).m();for(var I=0,w=1,M=0;M<this.g.length;M++){var B=this.i(M);I+=(0<=B?B:4294967296+B)*w,w*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(R(this))return"-"+A(this).toString(I);for(var w=f(Math.pow(I,6)),M=this,B="";;){var V=ee(M,w).g;M=D(M,V.j(w));var U=((0<M.g.length?M.g[0]:M.h)>>>0).toString(I);if(M=V,C(M))return U+B;for(;6>U.length;)U="0"+U;B=U+B}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function R(I){return I.h==-1}t.l=function(I){return I=D(this,I),R(I)?-1:C(I)?0:1};function A(I){for(var w=I.g.length,M=[],B=0;B<w;B++)M[B]=~I.g[B];return new u(M,~I.h).add(b)}t.abs=function(){return R(this)?A(this):this},t.add=function(I){for(var w=Math.max(this.g.length,I.g.length),M=[],B=0,V=0;V<=w;V++){var U=B+(this.i(V)&65535)+(I.i(V)&65535),j=(U>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);B=j>>>16,U&=65535,j&=65535,M[V]=j<<16|U}return new u(M,M[M.length-1]&-2147483648?-1:0)};function D(I,w){return I.add(A(w))}t.j=function(I){if(C(this)||C(I))return x;if(R(this))return R(I)?A(this).j(A(I)):A(A(this).j(I));if(R(I))return A(this.j(A(I)));if(0>this.l(S)&&0>I.l(S))return f(this.m()*I.m());for(var w=this.g.length+I.g.length,M=[],B=0;B<2*w;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(var V=0;V<I.g.length;V++){var U=this.i(B)>>>16,j=this.i(B)&65535,fe=I.i(V)>>>16,ce=I.i(V)&65535;M[2*B+2*V]+=j*ce,q(M,2*B+2*V),M[2*B+2*V+1]+=U*ce,q(M,2*B+2*V+1),M[2*B+2*V+1]+=j*fe,q(M,2*B+2*V+1),M[2*B+2*V+2]+=U*fe,q(M,2*B+2*V+2)}for(B=0;B<w;B++)M[B]=M[2*B+1]<<16|M[2*B];for(B=w;B<2*w;B++)M[B]=0;return new u(M,0)};function q(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function L(I,w){this.g=I,this.h=w}function ee(I,w){if(C(w))throw Error("division by zero");if(C(I))return new L(x,x);if(R(I))return w=ee(A(I),w),new L(A(w.g),A(w.h));if(R(w))return w=ee(I,A(w)),new L(A(w.g),w.h);if(30<I.g.length){if(R(I)||R(w))throw Error("slowDivide_ only works with positive integers.");for(var M=b,B=w;0>=B.l(I);)M=J(M),B=J(B);var V=F(M,1),U=F(B,1);for(B=F(B,2),M=F(M,2);!C(B);){var j=U.add(B);0>=j.l(I)&&(V=V.add(M),U=j),B=F(B,1),M=F(M,1)}return w=D(I,V.j(w)),new L(V,w)}for(V=x;0<=I.l(w);){for(M=Math.max(1,Math.floor(I.m()/w.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),U=f(M),j=U.j(w);R(j)||0<j.l(I);)M-=B,U=f(M),j=U.j(w);C(U)&&(U=b),V=V.add(U),I=D(I,j)}return new L(V,I)}t.A=function(I){return ee(this,I).h},t.and=function(I){for(var w=Math.max(this.g.length,I.g.length),M=[],B=0;B<w;B++)M[B]=this.i(B)&I.i(B);return new u(M,this.h&I.h)},t.or=function(I){for(var w=Math.max(this.g.length,I.g.length),M=[],B=0;B<w;B++)M[B]=this.i(B)|I.i(B);return new u(M,this.h|I.h)},t.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),M=[],B=0;B<w;B++)M[B]=this.i(B)^I.i(B);return new u(M,this.h^I.h)};function J(I){for(var w=I.g.length+1,M=[],B=0;B<w;B++)M[B]=I.i(B)<<1|I.i(B-1)>>>31;return new u(M,I.h)}function F(I,w){var M=w>>5;w%=32;for(var B=I.g.length-M,V=[],U=0;U<B;U++)V[U]=0<w?I.i(U+M)>>>w|I.i(U+M+1)<<32-w:I.i(U+M);return new u(V,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,jN=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=g,ya=u}).apply(typeof zT<"u"?zT:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LN,Tc,VN,Nf,S0,BN,UN,zN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,T){return m==Array.prototype||m==Object.prototype||(m[_]=T.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var _=0;_<m.length;++_){var T=m[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function s(m,_){if(_)e:{var T=i;m=m.split(".");for(var k=0;k<m.length-1;k++){var Y=m[k];if(!(Y in T))break e;T=T[Y]}m=m[m.length-1],k=T[m],_=_(k),_!=k&&_!=null&&e(T,m,{configurable:!0,writable:!0,value:_})}}function o(m,_){m instanceof String&&(m+="");var T=0,k=!1,Y={next:function(){if(!k&&T<m.length){var ne=T++;return{value:_(ne,m[ne]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(m){return m||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function f(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function g(m,_,T){return m.call.apply(m.bind,arguments)}function x(m,_,T){if(!m)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,k),m.apply(_,Y)}}return function(){return m.apply(_,arguments)}}function b(m,_,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:x,b.apply(null,arguments)}function S(m,_){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),m.apply(this,k)}}function C(m,_){function T(){}T.prototype=_.prototype,m.aa=_.prototype,m.prototype=new T,m.prototype.constructor=m,m.Qb=function(k,Y,ne){for(var pe=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)pe[ot-2]=arguments[ot];return _.prototype[Y].apply(k,pe)}}function R(m){const _=m.length;if(0<_){const T=Array(_);for(let k=0;k<_;k++)T[k]=m[k];return T}return[]}function A(m,_){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(d(k)){const Y=m.length||0,ne=k.length||0;m.length=Y+ne;for(let pe=0;pe<ne;pe++)m[Y+pe]=k[pe]}else m.push(k)}}class D{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function q(m){return/^[\s\xa0]*$/.test(m)}function L(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function ee(m){return ee[" "](m),m}ee[" "]=function(){};var J=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function F(m,_,T){for(const k in m)_.call(T,m[k],k,m)}function I(m,_){for(const T in m)_.call(void 0,m[T],T,m)}function w(m){const _={};for(const T in m)_[T]=m[T];return _}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(m,_){let T,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(T in k)m[T]=k[T];for(let ne=0;ne<M.length;ne++)T=M[ne],Object.prototype.hasOwnProperty.call(k,T)&&(m[T]=k[T])}}function V(m){var _=1;m=m.split(":");const T=[];for(;0<_&&m.length;)T.push(m.shift()),_--;return m.length&&T.push(m.join(":")),T}function U(m){h.setTimeout(()=>{throw m},0)}function j(){var m=Re;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class fe{constructor(){this.h=this.g=null}add(_,T){const k=ce.get();k.set(_,T),this.h?this.h.next=k:this.g=k,this.h=k}}var ce=new D(()=>new Q,m=>m.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ge=!1,Re=new fe,z=()=>{const m=h.Promise.resolve(void 0);ae=()=>{m.then(G)}};var G=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(T){U(T)}var _=ce;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}ge=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var ye=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};h.addEventListener("test",T,_),h.removeEventListener("test",T,_)}catch{}return m})();function Te(m,_){if(O.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var T=this.type=m.type,k=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(J){e:{try{ee(_.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(_=null)}}else T=="mouseover"?_=m.fromElement:T=="mouseout"&&(_=m.toElement);this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ee[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Te.aa.h.call(this)}}C(Te,O);var Ee={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),gt=0;function at(m,_,T,k,Y){this.listener=m,this.proxy=null,this.src=_,this.type=T,this.capture=!!k,this.ha=Y,this.key=++gt,this.da=this.fa=!1}function cn(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Vn(m){this.src=m,this.g={},this.h=0}Vn.prototype.add=function(m,_,T,k,Y){var ne=m.toString();m=this.g[ne],m||(m=this.g[ne]=[],this.h++);var pe=vs(m,_,k,Y);return-1<pe?(_=m[pe],T||(_.fa=!1)):(_=new at(_,this.src,ne,!!k,Y),_.fa=T,m.push(_)),_};function Nr(m,_){var T=_.type;if(T in m.g){var k=m.g[T],Y=Array.prototype.indexOf.call(k,_,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(k,Y,1),ne&&(cn(_),m.g[T].length==0&&(delete m.g[T],m.h--))}}function vs(m,_,T,k){for(var Y=0;Y<m.length;++Y){var ne=m[Y];if(!ne.da&&ne.listener==_&&ne.capture==!!T&&ne.ha==k)return Y}return-1}var Jn="closure_lm_"+(1e6*Math.random()|0),Ki={};function Rr(m,_,T,k,Y){if(Array.isArray(_)){for(var ne=0;ne<_.length;ne++)Rr(m,_[ne],T,k,Y);return null}return T=Do(T),m&&m[Ve]?m.K(_,T,f(k)?!!k.capture:!1,Y):Io(m,_,T,!1,k,Y)}function Io(m,_,T,k,Y,ne){if(!_)throw Error("Invalid event type");var pe=f(Y)?!!Y.capture:!!Y,ot=Ma(m);if(ot||(m[Jn]=ot=new Vn(m)),T=ot.add(_,T,k,pe,ne),T.proxy)return T;if(k=Mo(),T.proxy=k,k.src=m,k.listener=T,m.addEventListener)ye||(Y=pe),Y===void 0&&(Y=!1),m.addEventListener(_.toString(),k,Y);else if(m.attachEvent)m.attachEvent(xs(_.toString()),k);else if(m.addListener&&m.removeListener)m.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Mo(){function m(T){return _.call(m.src,m.listener,T)}const _=cu;return m}function kr(m,_,T,k,Y){if(Array.isArray(_))for(var ne=0;ne<_.length;ne++)kr(m,_[ne],T,k,Y);else k=f(k)?!!k.capture:!!k,T=Do(T),m&&m[Ve]?(m=m.i,_=String(_).toString(),_ in m.g&&(ne=m.g[_],T=vs(ne,T,k,Y),-1<T&&(cn(ne[T]),Array.prototype.splice.call(ne,T,1),ne.length==0&&(delete m.g[_],m.h--)))):m&&(m=Ma(m))&&(_=m.g[_.toString()],m=-1,_&&(m=vs(_,T,k,Y)),(T=-1<m?_[m]:null)&&Yi(T))}function Yi(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[Ve])Nr(_.i,m);else{var T=m.type,k=m.proxy;_.removeEventListener?_.removeEventListener(T,k,m.capture):_.detachEvent?_.detachEvent(xs(T),k):_.addListener&&_.removeListener&&_.removeListener(k),(T=Ma(_))?(Nr(T,m),T.h==0&&(T.src=null,_[Jn]=null)):cn(m)}}}function xs(m){return m in Ki?Ki[m]:Ki[m]="on"+m}function cu(m,_){if(m.da)m=!0;else{_=new Te(_,this);var T=m.listener,k=m.ha||m.src;m.fa&&Yi(m),m=T.call(k,_)}return m}function Ma(m){return m=m[Jn],m instanceof Vn?m:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Do(m){return typeof m=="function"?m:(m[Yt]||(m[Yt]=function(_){return m.handleEvent(_)}),m[Yt])}function ie(){re.call(this),this.i=new Vn(this),this.M=this,this.F=null}C(ie,re),ie.prototype[Ve]=!0,ie.prototype.removeEventListener=function(m,_,T,k){kr(this,m,_,T,k)};function de(m,_){var T,k=m.F;if(k)for(T=[];k;k=k.F)T.push(k);if(m=m.M,k=_.type||_,typeof _=="string")_=new O(_,m);else if(_ instanceof O)_.target=_.target||m;else{var Y=_;_=new O(k,m),B(_,Y)}if(Y=!0,T)for(var ne=T.length-1;0<=ne;ne--){var pe=_.g=T[ne];Y=Ce(pe,k,!0,_)&&Y}if(pe=_.g=m,Y=Ce(pe,k,!0,_)&&Y,Y=Ce(pe,k,!1,_)&&Y,T)for(ne=0;ne<T.length;ne++)pe=_.g=T[ne],Y=Ce(pe,k,!1,_)&&Y}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var T=m.g[_],k=0;k<T.length;k++)cn(T[k]);delete m.g[_],m.h--}}this.F=null},ie.prototype.K=function(m,_,T,k){return this.i.add(String(m),_,!1,T,k)},ie.prototype.L=function(m,_,T,k){return this.i.add(String(m),_,!0,T,k)};function Ce(m,_,T,k){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var Y=!0,ne=0;ne<_.length;++ne){var pe=_[ne];if(pe&&!pe.da&&pe.capture==T){var ot=pe.listener,Bt=pe.ha||pe.src;pe.fa&&Nr(m.i,pe),Y=ot.call(Bt,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function ze(m,_,T){if(typeof m=="function")T&&(m=b(m,T));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(m,_||0)}function Ze(m){m.g=ze(()=>{m.g=null,m.i&&(m.i=!1,Ze(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class Rn extends re{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ze(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(m){re.call(this),this.h=m,this.g={}}C(kn,re);var en=[];function Nt(m){F(m.g,function(_,T){this.g.hasOwnProperty(T)&&Yi(_)},m),m.g={}}kn.prototype.N=function(){kn.aa.N.call(this),Nt(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tn=h.JSON.stringify,ut=h.JSON.parse,Qi=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function In(){}In.prototype.h=null;function Rh(m){return m.h||(m.h=m.i())}function Da(){}var Xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bs(){O.call(this,"d")}C(bs,O);function Di(){O.call(this,"c")}C(Di,O);var mi={},_s=null;function Po(){return _s=_s||new ie}mi.La="serverreachability";function hu(m){O.call(this,mi.La,m)}C(hu,O);function Ir(m){const _=Po();de(_,new hu(_))}mi.STAT_EVENT="statevent";function Ss(m,_){O.call(this,mi.STAT_EVENT,m),this.stat=_}C(Ss,O);function hn(m){const _=Po();de(_,new Ss(_,m))}mi.Ma="timingevent";function du(m,_){O.call(this,mi.Ma,m),this.size=_}C(du,O);function Es(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},_)}function Ts(){this.g=!0}Ts.prototype.xa=function(){this.g=!1};function fu(m,_,T,k,Y,ne){m.info(function(){if(m.g)if(ne)for(var pe="",ot=ne.split("&"),Bt=0;Bt<ot.length;Bt++){var Fe=ot[Bt].split("=");if(1<Fe.length){var rn=Fe[0];Fe=Fe[1];var sn=rn.split("_");pe=2<=sn.length&&sn[1]=="type"?pe+(rn+"="+Fe+"&"):pe+(rn+"=redacted&")}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+_+`
`+T+`
`+pe})}function mu(m,_,T,k,Y,ne,pe){m.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+_+`
`+T+`
`+ne+" "+pe})}function Mr(m,_,T,k){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Wi(m,T)+(k?" "+k:"")})}function kh(m,_){m.info(function(){return"TIMEOUT: "+_})}Ts.prototype.info=function(){};function Wi(m,_){if(!m.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(m=0;m<T.length;m++)if(Array.isArray(T[m])){var k=T[m];if(!(2>k.length)){var Y=k[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var pe=1;pe<Y.length;pe++)Y[pe]=""}}}}return tn(T)}catch{return _}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ji;function ws(){}C(ws,In),ws.prototype.g=function(){return new XMLHttpRequest},ws.prototype.i=function(){return{}},Ji=new ws;function Zi(m,_,T,k){this.j=m,this.i=_,this.l=T,this.R=k||1,this.U=new kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ih}function Ih(){this.i=null,this.g="",this.h=!1}var pu={},Dr={};function Pa(m,_,T){m.L=1,m.v=La(kt(_)),m.m=T,m.P=!0,Pr(m,null)}function Pr(m,_){m.F=Date.now(),Pi(m),m.A=kt(m.v);var T=m.A,k=m.R;Array.isArray(k)||(k=[String(k)]),Lr(T.i,"t",k),m.C=0,T=m.j.J,m.h=new Ih,m.g=Kh(m.j,T?_:null,!m.m),0<m.O&&(m.M=new Rn(b(m.Y,m,m.g),m.O)),_=m.U,T=m.g,k=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(en[0]=Y.toString()),Y=en);for(var ne=0;ne<Y.length;ne++){var pe=Rr(T,Y[ne],k||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=m.H?w(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),Ir(),fu(m.i,m.u,m.A,m.l,m.R,m.m)}Zi.prototype.ca=function(m){m=m.target;const _=this.M;_&&Pn(m)==3?_.j():this.Y(m)},Zi.prototype.Y=function(m){try{if(m==this.g)e:{const sn=Pn(this.g);var _=this.g.Ba();const Vs=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||Ua(this.g)))){this.J||sn!=4||_==7||(_==8||0>=Vs?Ir(3):Ir(2)),Oo(this);var T=this.g.Z();this.X=T;t:if(Or(this)){var k=Ua(this.g);m="";var Y=k.length,ne=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Cs(this);var pe="";break t}this.h.i=new h.TextDecoder}for(_=0;_<Y;_++)this.h.h=!0,m+=this.h.i.decode(k[_],{stream:!(ne&&_==Y-1)});k.length=0,this.h.g+=m,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=T==200,mu(this.i,this.u,this.A,this.l,this.R,sn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,Bt=this.g;if((ot=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ot)){var Fe=ot;break t}}Fe=null}if(T=Fe)Mr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,er(this,T);else{this.o=!1,this.s=3,hn(12),Mn(this),Cs(this);break e}}if(this.P){T=!0;let Un;for(;!this.J&&this.C<pe.length;)if(Un=Oa(this,pe),Un==Dr){sn==4&&(this.s=4,hn(14),T=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==pu){this.s=4,hn(15),Mr(this.i,this.l,pe,"[Invalid Chunk]"),T=!1;break}else Mr(this.i,this.l,Un,null),er(this,Un);if(Or(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||pe.length!=0||this.h.h||(this.s=1,hn(16),T=!1),this.o=this.o&&T,!T)Mr(this.i,this.l,pe,"[Invalid Chunked Response]"),Mn(this),Cs(this);else if(0<pe.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Cu(rn),rn.M=!0,hn(11))}}else Mr(this.i,this.l,pe,null),er(this,pe);sn==4&&Mn(this),this.o&&!this.J&&(sn==4?qh(this.j,this):(this.o=!1,Pi(this)))}else Vh(this.g),T==400&&0<pe.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),Mn(this),Cs(this)}}}catch{}finally{}};function Or(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Oa(m,_){var T=m.C,k=_.indexOf(`
`,T);return k==-1?Dr:(T=Number(_.substring(T,k)),isNaN(T)?pu:(k+=1,k+T>_.length?Dr:(_=_.slice(k,k+T),m.C=k+T,_)))}Zi.prototype.cancel=function(){this.J=!0,Mn(this)};function Pi(m){m.S=Date.now()+m.I,Pt(m,m.I)}function Pt(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Es(b(m.ba,m),_)}function Oo(m){m.B&&(h.clearTimeout(m.B),m.B=null)}Zi.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(kh(this.i,this.A),this.L!=2&&(Ir(),hn(17)),Mn(this),this.s=2,Cs(this)):Pt(this,this.S-m)};function Cs(m){m.j.G==0||m.J||qh(m.j,m)}function Mn(m){Oo(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,Nt(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function er(m,_){try{var T=m.j;if(T.G!=0&&(T.g==m||As(T.h,m))){if(!m.K&&As(T.h,m)&&T.G==3){try{var k=T.Da.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<m.F)js(T),Os(T);else break e;wu(T),hn(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=Es(b(T.Za,T),6e3));if(1>=Mh(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Br(T,11)}else if((m.K||T.g==m)&&js(T),!q(_))for(Y=T.Da.g.parse(_),_=0;_<Y.length;_++){let Fe=Y[_];if(T.T=Fe[0],Fe=Fe[1],T.G==2)if(Fe[0]=="c"){T.K=Fe[1],T.ia=Fe[2];const rn=Fe[3];rn!=null&&(T.la=rn,T.j.info("VER="+T.la));const sn=Fe[4];sn!=null&&(T.Aa=sn,T.j.info("SVER="+T.Aa));const Vs=Fe[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(k=1.5*Vs,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Un=m.g;if(Un){const Ha=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var ne=k.h;ne.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ns(ne,ne.h),ne.h=null))}if(k.D){const Ur=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Ur&&(k.ya=Ur,et(k.I,k.D,Ur))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-m.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var pe=m;if(k.qa=$h(k,k.J?k.ia:null,k.W),pe.K){pi(k.h,pe);var ot=pe,Bt=k.L;Bt&&(ot.I=Bt),ot.B&&(Oo(ot),Pi(ot)),k.g=pe}else Fh(k);0<T.i.length&&Ho(T)}else Fe[0]!="stop"&&Fe[0]!="close"||Br(T,7);else T.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Br(T,7):Eu(T):Fe[0]!="noop"&&T.l&&T.l.ta(Fe),T.v=0)}}Ir(4)}catch{}}var Qm=class{constructor(m,_){this.g=m,this.map=_}};function gu(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yu(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Mh(m){return m.h?1:m.g?m.g.size:0}function As(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Ns(m,_){m.g?m.g.add(_):m.h=_}function pi(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}gu.prototype.cancel=function(){if(this.i=Dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Dn(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const T of m.g.values())_=_.concat(T.D);return _}return R(m.i)}function Dh(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var _=[],T=m.length,k=0;k<T;k++)_.push(m[k]);return _}_=[],T=0;for(k in m)_[T++]=m[k];return _}function Xm(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var _=[];m=m.length;for(var T=0;T<m;T++)_.push(T);return _}_=[],T=0;for(const k in m)_[T++]=k;return _}}}function jo(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var T=Xm(m),k=Dh(m),Y=k.length,ne=0;ne<Y;ne++)_.call(void 0,k[ne],T&&T[ne],m)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lo(m,_){if(m){m=m.split("&");for(var T=0;T<m.length;T++){var k=m[T].indexOf("="),Y=null;if(0<=k){var ne=m[T].substring(0,k);Y=m[T].substring(k+1)}else ne=m[T];_(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function jr(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof jr){this.h=m.h,Rs(this,m.j),this.o=m.o,this.g=m.g,ja(this,m.s),this.l=m.l;var _=m.i,T=new tr;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Vo(this,T),this.m=m.m}else m&&(_=String(m).match(vu))?(this.h=!1,Rs(this,_[1]||"",!0),this.o=ks(_[2]||""),this.g=ks(_[3]||"",!0),ja(this,_[4]),this.l=ks(_[5]||"",!0),Vo(this,_[6]||"",!0),this.m=ks(_[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}jr.prototype.toString=function(){var m=[],_=this.j;_&&m.push(gi(_,xu,!0),":");var T=this.g;return(T||_=="file")&&(m.push("//"),(_=this.o)&&m.push(gi(_,xu,!0),"@"),m.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&m.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(gi(T,T.charAt(0)=="/"?bu:Ph,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",gi(T,Zm)),m.join("")};function kt(m){return new jr(m)}function Rs(m,_,T){m.j=T?ks(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function ja(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function Vo(m,_,T){_ instanceof tr?(m.i=_,Oh(m.i,m.h)):(T||(_=gi(_,Jm)),m.i=new tr(_,m.h))}function et(m,_,T){m.i.set(_,T)}function La(m){return et(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ks(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function gi(m,_,T){return typeof m=="string"?(m=encodeURI(m).replace(_,Wm),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Wm(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var xu=/[#\/\?@]/g,Ph=/[#\?:]/g,bu=/[#\?]/g,Jm=/[#\?@]/g,Zm=/#/g;function tr(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function nn(m){m.g||(m.g=new Map,m.h=0,m.i&&Lo(m.i,function(_,T){m.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=tr.prototype,t.add=function(m,_){nn(this),this.i=null,m=Zn(this,m);var T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(_),this.h+=1,this};function Bo(m,_){nn(m),_=Zn(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function Uo(m,_){return nn(m),_=Zn(m,_),m.g.has(_)}t.forEach=function(m,_){nn(this),this.g.forEach(function(T,k){T.forEach(function(Y){m.call(_,Y,k,this)},this)},this)},t.na=function(){nn(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let k=0;k<_.length;k++){const Y=m[k];for(let ne=0;ne<Y.length;ne++)T.push(_[k])}return T},t.V=function(m){nn(this);let _=[];if(typeof m=="string")Uo(this,m)&&(_=_.concat(this.g.get(Zn(this,m))));else{m=Array.from(this.g.values());for(let T=0;T<m.length;T++)_=_.concat(m[T])}return _},t.set=function(m,_){return nn(this),this.i=null,m=Zn(this,m),Uo(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},t.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function Lr(m,_,T){Bo(m,_),0<T.length&&(m.i=null,m.g.set(Zn(m,_),R(T)),m.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var k=_[T];const ne=encodeURIComponent(String(k)),pe=this.V(k);for(k=0;k<pe.length;k++){var Y=ne;pe[k]!==""&&(Y+="="+encodeURIComponent(String(pe[k]))),m.push(Y)}}return this.i=m.join("&")};function Zn(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Oh(m,_){_&&!m.j&&(nn(m),m.i=null,m.g.forEach(function(T,k){var Y=k.toLowerCase();k!=Y&&(Bo(this,k),Lr(this,Y,T))},m)),m.j=_}function _u(m,_){const T=new Ts;if(h.Image){const k=new Image;k.onload=S(Bn,T,"TestLoadImage: loaded",!0,_,k),k.onerror=S(Bn,T,"TestLoadImage: error",!1,_,k),k.onabort=S(Bn,T,"TestLoadImage: abort",!1,_,k),k.ontimeout=S(Bn,T,"TestLoadImage: timeout",!1,_,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=m}else _(!1)}function jh(m,_){const T=new Ts,k=new AbortController,Y=setTimeout(()=>{k.abort(),Bn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:k.signal}).then(ne=>{clearTimeout(Y),ne.ok?Bn(T,"TestPingServer: ok",!0,_):Bn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),Bn(T,"TestPingServer: error",!1,_)})}function Bn(m,_,T,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(T)}catch{}}function Oi(){this.g=new Qi}function Su(m,_,T){const k=T||"";try{jo(m,function(Y,ne){let pe=Y;f(Y)&&(pe=tn(Y)),_.push(k+ne+"="+encodeURIComponent(pe))})}catch(Y){throw _.push(k+"type="+encodeURIComponent("_badmap")),Y}}function nr(m){this.l=m.Ub||null,this.j=m.eb||!1}C(nr,In),nr.prototype.g=function(){return new ei(this.l,this.j)},nr.prototype.i=(function(m){return function(){return m}})({});function ei(m,_){ie.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ei,ie),t=ei.prototype,t.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,Is(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?ir(this):Is(this),this.readyState==3&&zo(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ir(this))},t.Qa=function(m){this.g&&(this.response=m,ir(this))},t.ga=function(){this.g&&ir(this)};function ir(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Is(m)}t.setRequestHeader=function(m,_){this.u.append(m,_)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=_.next();return m.join(`\r
`)};function Is(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Va(m){let _="";return F(m,function(T,k){_+=k,_+=":",_+=T,_+=`\r
`}),_}function Ms(m,_,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Va(T),typeof m=="string"?T!=null&&encodeURIComponent(String(T)):et(m,_,T))}function xt(m){ie.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(xt,ie);var bn=/^https?$/i,Vr=["POST","PUT"];t=xt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,_,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ji.g(),this.v=this.o?Rh(this.o):Rh(Ji),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(ne){Ba(this,ne);return}if(m=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)T.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ne of k.keys())T.set(ne,k.get(ne));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Vr,_,void 0))||k||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of T)this.g.setRequestHeader(ne,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fo(this),this.u=!0,this.g.send(m),this.u=!1}catch(ne){Ba(this,ne)}};function Ba(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,Ds(m),Ps(m)}function Ds(m){m.A||(m.A=!0,de(m,"complete"),de(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,de(this,"complete"),de(this,"abort"),Ps(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ps(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lh(this):this.bb())},t.bb=function(){Lh(this)};function Lh(m){if(m.h&&typeof u<"u"&&(!m.v[1]||Pn(m)!=4||m.Z()!=2)){if(m.u&&Pn(m)==4)ze(m.Ea,0,m);else if(de(m,"readystatechange"),Pn(m)==4){m.h=!1;try{const pe=m.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var k;if(k=pe===0){var Y=String(m.D).match(vu)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),k=!bn.test(Y?Y.toLowerCase():"")}T=k}if(T)de(m,"complete"),de(m,"success");else{m.m=6;try{var ne=2<Pn(m)?m.g.statusText:""}catch{ne=""}m.l=ne+" ["+m.Z()+"]",Ds(m)}}finally{Ps(m)}}}}function Ps(m,_){if(m.g){Fo(m);const T=m.g,k=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||de(m,"ready");try{T.onreadystatechange=k}catch{}}}function Fo(m){m.I&&(h.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Pn(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),ut(_)}};function Ua(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Vh(m){const _={};m=(m.g&&2<=Pn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<m.length;k++){if(q(m[k]))continue;var T=V(m[k]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=_[Y]||[];_[Y]=ne,ne.push(T)}I(_,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(m,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||_}function Bh(m){this.Aa=0,this.i=[],this.j=new Ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,m),this.cb=za("retryDelaySeedMs",1e4,m),this.Wa=za("forwardChannelMaxRetries",2,m),this.wa=za("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new gu(m&&m.concurrentRequestLimit),this.Da=new Oi,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bh.prototype,t.la=8,t.G=1,t.connect=function(m,_,T,k){hn(0),this.W=m,this.H=_||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=$h(this,null,this.W),Ho(this)};function Eu(m){if(Uh(m),m.G==3){var _=m.U++,T=kt(m.I);if(et(T,"SID",m.K),et(T,"RID",_),et(T,"TYPE","terminate"),Fa(m,T),_=new Zi(m,m.j,_),_.L=2,_.v=La(kt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=_.v,T=!0),T||(_.g=Kh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Pi(_)}Au(m)}function Os(m){m.g&&(Cu(m),m.g.cancel(),m.g=null)}function Uh(m){Os(m),m.u&&(h.clearTimeout(m.u),m.u=null),js(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function Ho(m){if(!yu(m.h)&&!m.s){m.s=!0;var _=m.Ga;ae||z(),ge||(ae(),ge=!0),Re.add(_,m),m.B=0}}function ep(m,_){return Mh(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Es(b(m.Ga,m,_),Gh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new Zi(this,this.j,m);let ne=this.o;if(this.S&&(ne?(ne=w(ne),B(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Tu(this,Y,_),T=kt(this.I),et(T,"RID",m),et(T,"CVER",22),this.D&&et(T,"X-HTTP-Session-Id",this.D),Fa(this,T),ne&&(this.O?_="headers="+encodeURIComponent(String(Va(ne)))+"&"+_:this.m&&Ms(T,this.m,ne)),Ns(this.h,Y),this.Ua&&et(T,"TYPE","init"),this.P?(et(T,"$req",_),et(T,"SID","null"),Y.T=!0,Pa(Y,T,null)):Pa(Y,T,_),this.G=2}}else this.G==3&&(m?zh(this,m):this.i.length==0||yu(this.h)||zh(this))};function zh(m,_){var T;_?T=_.l:T=m.U++;const k=kt(m.I);et(k,"SID",m.K),et(k,"RID",T),et(k,"AID",m.T),Fa(m,k),m.m&&m.o&&Ms(k,m.m,m.o),T=new Zi(m,m.j,T,m.B+1),m.m===null&&(T.H=m.o),_&&(m.i=_.D.concat(m.i)),_=Tu(m,T,1e3),T.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ns(m.h,T),Pa(T,k,_)}function Fa(m,_){m.H&&F(m.H,function(T,k){et(_,k,T)}),m.l&&jo({},function(T,k){et(_,k,T)})}function Tu(m,_,T){T=Math.min(m.i.length,T);var k=m.l?b(m.l.Na,m.l,m):null;e:{var Y=m.i;let ne=-1;for(;;){const pe=["count="+T];ne==-1?0<T?(ne=Y[0].g,pe.push("ofs="+ne)):ne=0:pe.push("ofs="+ne);let ot=!0;for(let Bt=0;Bt<T;Bt++){let Fe=Y[Bt].g;const rn=Y[Bt].map;if(Fe-=ne,0>Fe)ne=Math.max(0,Y[Bt].g-100),ot=!1;else try{Su(rn,pe,"req"+Fe+"_")}catch{k&&k(rn)}}if(ot){k=pe.join("&");break e}}}return m=m.i.splice(0,T),_.D=m,k}function Fh(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;ae||z(),ge||(ae(),ge=!0),Re.add(_,m),m.v=0}}function wu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Es(b(m.Fa,m),Gh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Hh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Es(b(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),Os(this),Hh(this))};function Cu(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function Hh(m){m.g=new Zi(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=kt(m.qa);et(_,"RID","rpc"),et(_,"SID",m.K),et(_,"AID",m.T),et(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&et(_,"TO",m.ja),et(_,"TYPE","xmlhttp"),Fa(m,_),m.m&&m.o&&Ms(_,m.m,m.o),m.L&&(m.g.I=m.L);var T=m.g;m=m.ia,T.L=1,T.v=La(kt(_)),T.m=null,T.P=!0,Pr(T,m)}t.Za=function(){this.C!=null&&(this.C=null,Os(this),wu(this),hn(19))};function js(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function qh(m,_){var T=null;if(m.g==_){js(m),Cu(m),m.g=null;var k=2}else if(As(m.h,_))T=_.D,pi(m.h,_),k=1;else return;if(m.G!=0){if(_.o)if(k==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var Y=m.B;k=Po(),de(k,new du(k,T)),Ho(m)}else Fh(m);else if(Y=_.s,Y==3||Y==0&&0<_.X||!(k==1&&ep(m,_)||k==2&&wu(m)))switch(T&&0<T.length&&(_=m.h,_.i=_.i.concat(T)),Y){case 1:Br(m,5);break;case 4:Br(m,10);break;case 3:Br(m,6);break;default:Br(m,2)}}}function Gh(m,_){let T=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(T*=2),T*_}function Br(m,_){if(m.j.info("Error code "+_),_==2){var T=b(m.fb,m),k=m.Xa;const Y=!k;k=new jr(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Rs(k,"https"),La(k),Y?_u(k.toString(),T):jh(k.toString(),T)}else hn(2);m.G=0,m.l&&m.l.sa(_),Au(m),Uh(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function Au(m){if(m.G=0,m.ka=[],m.l){const _=Dn(m.h);(_.length!=0||m.i.length!=0)&&(A(m.ka,_),A(m.ka,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.ra()}}function $h(m,_,T){var k=T instanceof jr?kt(T):new jr(T);if(k.g!="")_&&(k.g=_+"."+k.g),ja(k,k.s);else{var Y=h.location;k=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new jr(null);k&&Rs(ne,k),_&&(ne.g=_),Y&&ja(ne,Y),T&&(ne.l=T),k=ne}return T=m.D,_=m.ya,T&&_&&et(k,T,_),et(k,"VER",m.la),Fa(m,k),k}function Kh(m,_,T){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new xt(new nr({eb:T})):new xt(m.pa),_.Ha(m.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yh(){}t=Yh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qo(){}qo.prototype.g=function(m,_){return new On(m,_)};function On(m,_){ie.call(this),this.g=new Bh(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!q(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!q(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Ls(this)}C(On,ie),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){Eu(this.g)},On.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.u&&(T={},T.__data__=tn(m),m=T);_.i.push(new Qm(_.Ya++,m)),_.G==3&&Ho(_)},On.prototype.N=function(){this.g.l=null,delete this.j,Eu(this.g),delete this.g,On.aa.N.call(this)};function Qh(m){bs.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const T in _){m=T;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}C(Qh,bs);function Xh(){Di.call(this),this.status=1}C(Xh,Di);function Ls(m){this.g=m}C(Ls,Yh),Ls.prototype.ua=function(){de(this.g,"a")},Ls.prototype.ta=function(m){de(this.g,new Qh(m))},Ls.prototype.sa=function(m){de(this.g,new Xh)},Ls.prototype.ra=function(){de(this.g,"b")},qo.prototype.createWebChannel=qo.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,zN=function(){return new qo},UN=function(){return Po()},BN=mi,S0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,Nf=Rt,dn.COMPLETE="complete",VN=dn,Da.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Tc=Da,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,LN=xt}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const FT="@firebase/firestore",HT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new qv("@firebase/firestore");function _l(){return Eo.logLevel}function ve(t,...e){if(Eo.logLevel<=Qe.DEBUG){const n=e.map(rx);Eo.debug(`Firestore (${iu}): ${t}`,...n)}}function ds(t,...e){if(Eo.logLevel<=Qe.ERROR){const n=e.map(rx);Eo.error(`Firestore (${iu}): ${t}`,...n)}}function _a(t,...e){if(Eo.logLevel<=Qe.WARN){const n=e.map(rx);Eo.warn(`Firestore (${iu}): ${t}`,...n)}}function rx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,FN(t,i,n)}function FN(t,e,n){let i=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ds(i),new Error(i)}function lt(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||FN(e,s,i)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(wn.UNAUTHENTICATED)))}shutdown(){}}class t9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class n9{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let i=this.i;const s=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new va;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new va,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},h=d=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new va)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string",31837,{l:i}),new HN(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class i9{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class r9{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new i9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const i=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=a9(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%62))}return i}}function He(t,e){return t<e?-1:t>e?1:0}function E0(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return He(i,s);{const o=qN(),u=o9(o.encode(GT(t,n)),o.encode(GT(e,n)));return u!==0?u:He(i,s)}}n+=i>65535?2:1}return He(t.length,e.length)}function GT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function o9(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return He(t[n],e[n]);return He(t.length,e.length)}function Hl(t,e,n){return t.length===e.length&&t.every(((i,s)=>n(i,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="__name__";class cr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Me(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=cr.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return He(e.length,n.length)}static compareSegments(e,n){const i=cr.isNumericId(e),s=cr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?cr.extractNumericId(e).compare(cr.extractNumericId(n)):E0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ya.fromString(e.substring(4,e.length-2))}}class wt extends cr{construct(e,n,i){return new wt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const l9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends cr{construct(e,n,i){return new vn(e,n,i)}static isValidIdentifier(e){return l9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$T}static keyField(){return new vn([$T])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new Se(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Se(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Se(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(o(),s++)}if(o(),u)throw new Se(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(wt.fromString(e))}static fromName(e){return new Ae(wt.fromString(e).popFirst(5))}static empty(){return new Ae(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e,n){if(!n)throw new Se(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c9(t,e,n,i){if(e===!0&&i===!0)throw new Se(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KT(t){if(!Ae.isDocumentKey(t))throw new Se(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ax(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function To(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ax(t);throw new Se(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,e){const n={typeString:t};return e&&(n.value=e),n}function Sh(t,e){if(!GN(t))throw new Se(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(s&&typeof u!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new Se(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=-62135596800,QT=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*QT);return new St(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<YT)throw new Se(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QT}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sh(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-YT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:$t("string",St._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new St(0,0))}static max(){return new Pe(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=-1;function h9(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(i===1e9?new St(n+1,0):new St(n,i));return new Sa(s,Ae.empty(),e)}function d9(t){return new Sa(t.readTime,t.key,Jc)}class Sa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Sa(Pe.min(),Ae.empty(),Jc)}static max(){return new Sa(Pe.max(),Ae.empty(),Jc)}}function f9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==m9)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,i)=>{n(e)}))}static reject(e){return new ue(((n,i)=>{i(e)}))}static waitFor(e){return new ue(((n,i)=>{let s=0,o=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&n()}),(d=>i(d)))})),u=!0,o===s&&n()}))}static or(e){let n=ue.resolve(!1);for(const i of e)n=n.next((s=>s?ue.resolve(s):i()));return n}static forEach(e,n){const i=[];return e.forEach(((s,o)=>{i.push(n.call(this,s,o))})),this.waitFor(i)}static mapArray(e,n){return new ue(((i,s)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;n(e[f]).next((g=>{u[f]=g,++h,h===o&&i(u)}),(g=>s(g)))}}))}static doWhile(e,n){return new ue(((i,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):i()};o()}))}}function g9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Rm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=-1;function km(t){return t==null}function em(t){return t===0&&1/t==-1/0}function y9(t){return typeof t=="number"&&Number.isInteger(t)&&!em(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="";function v9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=XT(e)),e=x9(t.get(n),e);return XT(e)}function x9(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case $N:n+="";break;default:n+=o}}return n}function XT(t){return t+$N+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cf(this.root,e,this.comparator,!0)}}class cf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??yn.RED,this.left=s??yn.EMPTY,this.right=o??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new yn(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,i,s,o){return this}insert(e,n,i){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JT(this.data.getIterator())}getIteratorFrom(e){return new JT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class JT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new ui([])}unionWith(e){let n=new Zt(vn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YN("Invalid base64 string: "+o):o}})(e);return new xn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const b9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=b9.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ta(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="server_timestamp",XN="__type__",WN="__previous_value__",JN="__local_write_time__";function lx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XN])===null||n===void 0?void 0:n.stringValue)===QN}function Im(t){const e=t.mapValue.fields[WN];return lx(e)?Im(e):e}function Zc(t){const e=Ea(t.mapValue.fields[JN].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,n,i,s,o,u,h,d,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g}}const tm="(default)";class eh{constructor(e,n){this.projectId=e,this.database=n||tm}static empty(){return new eh("","")}get isDefaultDatabase(){return this.database===tm}isEqual(e){return e instanceof eh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="__type__",S9="__max__",hf={mapValue:{}},eR="__vector__",nm="value";function wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lx(t)?4:T9(t)?9007199254740991:E9(t)?10:11:Me(28295,{value:t})}function Tr(t,e){if(t===e)return!0;const n=wa(t);if(n!==wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zc(t).isEqual(Zc(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Ea(s.timestampValue),h=Ea(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Ta(s.bytesValue).isEqual(Ta(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return Vt(s.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Vt(s.integerValue)===Vt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Vt(s.doubleValue),h=Vt(o.doubleValue);return u===h?em(u)===em(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Hl(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(WT(u)!==WT(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Tr(u[d],h[d])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function th(t,e){return(t.values||[]).find((n=>Tr(n,e)))!==void 0}function ql(t,e){if(t===e)return 0;const n=wa(t),i=wa(e);if(n!==i)return He(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Vt(o.integerValue||o.doubleValue),d=Vt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return ZT(t.timestampValue,e.timestampValue);case 4:return ZT(Zc(t),Zc(e));case 5:return E0(t.stringValue,e.stringValue);case 6:return(function(o,u){const h=Ta(o),d=Ta(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=He(h[f],d[f]);if(g!==0)return g}return He(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=He(Vt(o.latitude),Vt(u.latitude));return h!==0?h:He(Vt(o.longitude),Vt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ew(t.arrayValue,e.arrayValue);case 10:return(function(o,u){var h,d,f,g;const x=o.fields||{},b=u.fields||{},S=(h=x[nm])===null||h===void 0?void 0:h.arrayValue,C=(d=b[nm])===null||d===void 0?void 0:d.arrayValue,R=He(((f=S==null?void 0:S.values)===null||f===void 0?void 0:f.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return R!==0?R:ew(S,C)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===hf.mapValue&&u===hf.mapValue)return 0;if(o===hf.mapValue)return 1;if(u===hf.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=u.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let x=0;x<d.length&&x<g.length;++x){const b=E0(d[x],g[x]);if(b!==0)return b;const S=ql(h[d[x]],f[g[x]]);if(S!==0)return S}return He(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{le:n})}}function ZT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Ea(t),i=Ea(e),s=He(n.seconds,i.seconds);return s!==0?s:He(n.nanos,i.nanos)}function ew(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=ql(n[s],i[s]);if(o)return o}return He(n.length,i.length)}function Gl(t){return T0(t)}function T0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Ea(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ta(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=T0(o);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${T0(n.fields[u])}`;return s+"}"})(t.mapValue):Me(61005,{value:t})}function Rf(t){switch(wa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Im(t);return e?16+Rf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ta(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+Rf(o)),0)})(t.arrayValue);case 10:case 11:return(function(i){let s=0;return Ra(i.fields,((o,u)=>{s+=o.length+Rf(u)})),s})(t.mapValue);default:throw Me(13486,{value:t})}}function w0(t){return!!t&&"integerValue"in t}function ux(t){return!!t&&"arrayValue"in t}function tw(t){return!!t&&"nullValue"in t}function nw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kf(t){return!!t&&"mapValue"in t}function E9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZN])===null||n===void 0?void 0:n.stringValue)===eR}function jc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ra(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=jc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function T9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===S9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!kf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(n)}setAll(e){let n=vn.emptyPath(),i={},s=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,s),i={},s=[],n=h.popLast()}u?i[h.lastSegment()]=jc(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());kf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];kf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Ra(n,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new Qn(jc(this.value))}}function tR(t){const e=[];return Ra(t.fields,((n,i)=>{const s=new vn([n]);if(kf(i)){const o=tR(i.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,i,s,o,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Cn(e,0,Pe.min(),Pe.min(),Pe.min(),Qn.empty(),0)}static newFoundDocument(e,n,i,s){return new Cn(e,1,n,Pe.min(),i,s,0)}static newNoDocument(e,n){return new Cn(e,2,n,Pe.min(),Pe.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Pe.min(),Pe.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.position=e,this.inclusive=n}}function iw(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?i=Ae.comparator(Ae.fromName(u.referenceValue),n.key):i=ql(u,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function rw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n="asc"){this.field=e,this.dir=n}}function w9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{}class Wt extends nR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new A9(e,n,i):n==="array-contains"?new k9(e,i):n==="in"?new I9(e,i):n==="not-in"?new M9(e,i):n==="array-contains-any"?new D9(e,i):new Wt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new N9(e,i):new R9(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ql(n,this.value)):n!==null&&wa(this.value)===wa(n)&&this.matchesComparison(ql(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends nR{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new wr(e,n)}matches(e){return iR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function iR(t){return t.op==="and"}function rR(t){return C9(t)&&iR(t)}function C9(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function C0(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+Gl(t.value);if(rR(t))return t.filters.map((e=>C0(e))).join(",");{const e=t.filters.map((n=>C0(n))).join(",");return`${t.op}(${e})`}}function sR(t,e){return t instanceof Wt?(function(i,s){return s instanceof Wt&&i.op===s.op&&i.field.isEqual(s.field)&&Tr(i.value,s.value)})(t,e):t instanceof wr?(function(i,s){return s instanceof wr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,u,h)=>o&&sR(u,s.filters[h])),!0):!1})(t,e):void Me(19439)}function aR(t){return t instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`})(t):t instanceof wr?(function(n){return n.op.toString()+" {"+n.getFilters().map(aR).join(" ,")+"}"})(t):"Filter"}class A9 extends Wt{constructor(e,n,i){super(e,n,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class N9 extends Wt{constructor(e,n){super(e,"in",n),this.keys=oR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class R9 extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=oR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function oR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((i=>Ae.fromName(i.referenceValue)))}class k9 extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ux(n)&&th(n.arrayValue,this.value)}}class I9 extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&th(this.value.arrayValue,n)}}class M9 extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!th(this.value.arrayValue,n)}}class D9 extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ux(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>th(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n=null,i=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Pe=null}}function sw(t,e=null,n=[],i=[],s=null,o=null,u=null){return new P9(t,e,n,i,s,o,u)}function cx(t){const e=je(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>C0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),km(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Gl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Gl(i))).join(",")),e.Pe=n}return e.Pe}function hx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!w9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rw(t.startAt,e.startAt)&&rw(t.endAt,e.endAt)}function A0(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n=null,i=[],s=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function O9(t,e,n,i,s,o,u,h){return new Mm(t,e,n,i,s,o,u,h)}function dx(t){return new Mm(t)}function aw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j9(t){return t.collectionGroup!==null}function Lc(t){const e=je(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Zt(vn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new rm(o,i))})),n.has(vn.keyField().canonicalString())||e.Te.push(new rm(vn.keyField(),i))}return e.Te}function vr(t){const e=je(t);return e.Ie||(e.Ie=L9(e,Lc(t))),e.Ie}function L9(t,e){if(t.limitType==="F")return sw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new rm(s.field,o)}));const n=t.endAt?new im(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new im(t.startAt.position,t.startAt.inclusive):null;return sw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function N0(t,e,n){return new Mm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dm(t,e){return hx(vr(t),vr(e))&&t.limitType===e.limitType}function lR(t){return`${cx(vr(t))}|lt:${t.limitType}`}function Sl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>aR(s))).join(", ")}]`),km(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>Gl(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>Gl(s))).join(",")),`Target(${i})`})(vr(t))}; limitType=${t.limitType})`}function Pm(t,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ae.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(t,e)&&(function(i,s){for(const o of Lc(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(i,s){return!(i.startAt&&!(function(u,h,d){const f=iw(u,h,d);return u.inclusive?f<=0:f<0})(i.startAt,Lc(i),s)||i.endAt&&!(function(u,h,d){const f=iw(u,h,d);return u.inclusive?f>=0:f>0})(i.endAt,Lc(i),s))})(t,e)}function V9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uR(t){return(e,n)=>{let i=!1;for(const s of Lc(t)){const o=B9(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function B9(t,e,n){const i=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(o,u,h){const d=u.data.field(o),f=h.data.field(o);return d!==null&&f!==null?ql(d,f):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,((n,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return KN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=new At(Ae.comparator);function fs(){return U9}const cR=new At(Ae.comparator);function wc(...t){let e=cR;for(const n of t)e=e.insert(n.key,n);return e}function hR(t){let e=cR;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ho(){return Vc()}function dR(){return Vc()}function Vc(){return new No((t=>t.toString()),((t,e)=>t.isEqual(e)))}const z9=new At(Ae.comparator),F9=new Zt(Ae.comparator);function Xe(...t){let e=F9;for(const n of t)e=e.add(n);return e}const H9=new Zt(He);function q9(){return H9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:em(e)?"-0":e}}function fR(t){return{integerValue:""+t}}function G9(t,e){return y9(e)?fR(e):fx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this._=void 0}}function $9(t,e,n){return t instanceof nh?(function(s,o){const u={fields:{[XN]:{stringValue:QN},[JN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&lx(o)&&(o=Im(o)),o&&(u.fields[WN]=o),{mapValue:u}})(n,e):t instanceof ih?pR(t,e):t instanceof rh?gR(t,e):(function(s,o){const u=mR(s,o),h=ow(u)+ow(s.Ee);return w0(u)&&w0(s.Ee)?fR(h):fx(s.serializer,h)})(t,e)}function K9(t,e,n){return t instanceof ih?pR(t,e):t instanceof rh?gR(t,e):n}function mR(t,e){return t instanceof sm?(function(i){return w0(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class nh extends Om{}class ih extends Om{constructor(e){super(),this.elements=e}}function pR(t,e){const n=yR(e);for(const i of t.elements)n.some((s=>Tr(s,i)))||n.push(i);return{arrayValue:{values:n}}}class rh extends Om{constructor(e){super(),this.elements=e}}function gR(t,e){let n=yR(e);for(const i of t.elements)n=n.filter((s=>!Tr(s,i)));return{arrayValue:{values:n}}}class sm extends Om{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function ow(t){return Vt(t.integerValue||t.doubleValue)}function yR(t){return ux(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,n){this.field=e,this.transform=n}}function Q9(t,e){return t.field.isEqual(e.field)&&(function(i,s){return i instanceof ih&&s instanceof ih||i instanceof rh&&s instanceof rh?Hl(i.elements,s.elements,Tr):i instanceof sm&&s instanceof sm?Tr(i.Ee,s.Ee):i instanceof nh&&s instanceof nh})(t.transform,e.transform)}class X9{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function If(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jm{}function vR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bR(t.key,xr.none()):new Eh(t.key,t.data,xr.none());{const n=t.data,i=Qn.empty();let s=new Zt(vn.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new ka(t.key,i,new ui(s.toArray()),xr.none())}}function W9(t,e,n){t instanceof Eh?(function(s,o,u){const h=s.value.clone(),d=uw(s.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ka?(function(s,o,u){if(!If(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=uw(s.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(xR(s)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Bc(t,e,n,i){return t instanceof Eh?(function(o,u,h,d){if(!If(o.precondition,u))return h;const f=o.value.clone(),g=cw(o.fieldTransforms,d,u);return f.setAll(g),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null})(t,e,n,i):t instanceof ka?(function(o,u,h,d){if(!If(o.precondition,u))return h;const f=cw(o.fieldTransforms,d,u),g=u.data;return g.setAll(xR(o)),g.setAll(f),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(t,e,n,i):(function(o,u,h){return If(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function J9(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=mR(i.transform,s||null);o!=null&&(n===null&&(n=Qn.empty()),n.set(i.field,o))}return n||null}function lw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Hl(i,s,((o,u)=>Q9(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eh extends jm{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ka extends jm{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function xR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function uw(t,e,n){const i=new Map;lt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,h=e.data.field(o.field);i.set(o.field,K9(u,h,n[s]))}return i}function cw(t,e,n){const i=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);i.set(s.field,$9(o,u,e))}return i}class bR extends jm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z9 extends jm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&W9(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Bc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Bc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=dR();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(s.key)?null:h;const d=vR(u,h);d!==null&&i.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(Pe.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,((n,i)=>lw(n,i)))&&Hl(this.baseMutations,e.baseMutations,((n,i)=>lw(n,i)))}}class mx{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){lt(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let s=(function(){return z9})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new mx(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Je;function iU(t){switch(t){case he.OK:return Me(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function _R(t){if(t===void 0)return ds("GRPC error has no .code"),he.UNKNOWN;switch(t){case qt.OK:return he.OK;case qt.CANCELLED:return he.CANCELLED;case qt.UNKNOWN:return he.UNKNOWN;case qt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case qt.INTERNAL:return he.INTERNAL;case qt.UNAVAILABLE:return he.UNAVAILABLE;case qt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case qt.NOT_FOUND:return he.NOT_FOUND;case qt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case qt.ABORTED:return he.ABORTED;case qt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case qt.DATA_LOSS:return he.DATA_LOSS;default:return Me(39323,{code:t})}}(Je=qt||(qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=new ya([4294967295,4294967295],0);function hw(t){const e=qN().encode(t),n=new jN;return n.update(e),new Uint8Array(n.digest())}function dw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ya([n,i],0),new ya([s,o],0)]}class px{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Cc(`Invalid padding: ${n}`);if(i<0)throw new Cc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Cc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Cc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ya.fromNumber(this.fe)}pe(e,n,i){let s=e.add(n.multiply(ya.fromNumber(i)));return s.compare(rU)===1&&(s=new ya([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=hw(e),[i,s]=dw(n);for(let o=0;o<this.hashCount;o++){const u=this.pe(i,s,o);if(!this.ye(u))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new px(o,s,n);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.fe===0)return;const n=hw(e),[i,s]=dw(n);for(let o=0;o<this.hashCount;o++){const u=this.pe(i,s,o);this.we(u)}}we(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Lm(Pe.min(),s,new At(He),fs(),Xe())}}class Th{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Th(i,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,i,s){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=s}}class SR{constructor(e,n){this.targetId=e,this.De=n}}class ER{constructor(e,n,i=xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class fw{constructor(){this.ve=0,this.Ce=mw(),this.Fe=xn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Xe(),n=Xe(),i=Xe();return this.Ce.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Me(38017,{changeType:o})}})),new Th(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=mw()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class sU{constructor(e){this.We=e,this.Ge=new Map,this.ze=fs(),this.je=df(),this.Je=df(),this.He=new At(He)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((i,s)=>{this.nt(s)&&n(s)}))}it(e){const n=e.targetId,i=e.De.count,s=this.st(n);if(s){const o=s.target;if(A0(o))if(i===0){const u=new Ae(o.path);this.Xe(n,u,Cn.newNoDocument(u,Pe.min()))}else lt(i===1,20013,{expectedCount:i});else{const u=this.ot(n);if(u!==i){const h=this._t(e),d=h?this.ut(h,e,u):1;if(d!==0){this.rt(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,f)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let u,h;try{u=Ta(i).toUint8Array()}catch(d){if(d instanceof YN)return _a("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new px(u,s,o)}catch(d){return _a(d instanceof Cc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.fe===0?null:h}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){const i=this.We.getRemoteKeysForTarget(n);let s=0;return i.forEach((o=>{const u=this.We.lt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.Xe(n,o,null),s++)})),s}Pt(e){const n=new Map;this.Ge.forEach(((o,u)=>{const h=this.st(u);if(h){if(o.current&&A0(h.target)){const d=new Ae(h.target.path);this.Tt(d).has(u)||this.It(u,d)||this.Xe(u,d,Cn.newNoDocument(d,e))}o.Ne&&(n.set(u,o.Le()),o.ke())}}));let i=Xe();this.Je.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const f=this.st(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.ze.forEach(((o,u)=>u.setReadTime(e)));const s=new Lm(e,n,this.He,this.ze,i);return this.ze=fs(),this.je=df(),this.Je=df(),this.He=new At(He),s}Ze(e,n){if(!this.nt(e))return;const i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new fw,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Zt(He),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Zt(He),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new fw),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function df(){return new At(Ae.comparator)}function mw(){return new At(Ae.comparator)}const aU={asc:"ASCENDING",desc:"DESCENDING"},oU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lU={and:"AND",or:"OR"};class uU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function R0(t,e){return t.useProto3Json||km(e)?e:{value:e}}function am(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cU(t,e){return am(t,e.toTimestamp())}function br(t){return lt(!!t,49232),Pe.fromTimestamp((function(n){const i=Ea(n);return new St(i.seconds,i.nanos)})(t))}function gx(t,e){return k0(t,e).canonicalString()}function k0(t,e){const n=(function(s){return new wt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function wR(t){const e=wt.fromString(t);return lt(kR(e),10190,{key:e.toString()}),e}function I0(t,e){return gx(t.databaseId,e.path)}function Cy(t,e){const n=wR(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(AR(n))}function CR(t,e){return gx(t.databaseId,e)}function hU(t){const e=wR(t);return e.length===4?wt.emptyPath():AR(e)}function M0(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AR(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pw(t,e,n){return{name:I0(t,e),fields:n.value.mapValue.fields}}function dU(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(lt(g===void 0||typeof g=="string",58123),xn.fromBase64String(g||"")):(lt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),xn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(f){const g=f.code===void 0?he.UNKNOWN:_R(f.code);return new Se(g,f.message||"")})(u);n=new ER(i,s,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Cy(t,i.document.name),o=br(i.document.updateTime),u=i.document.createTime?br(i.document.createTime):Pe.min(),h=new Qn({mapValue:{fields:i.document.fields}}),d=Cn.newFoundDocument(s,o,u,h),f=i.targetIds||[],g=i.removedTargetIds||[];n=new Mf(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Cy(t,i.document),o=i.readTime?br(i.readTime):Pe.min(),u=Cn.newNoDocument(s,o),h=i.removedTargetIds||[];n=new Mf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Cy(t,i.document),o=i.removedTargetIds||[];n=new Mf([],o,s,null)}else{if(!("filter"in e))return Me(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new nU(s,o),h=i.targetId;n=new SR(h,u)}}return n}function fU(t,e){let n;if(e instanceof Eh)n={update:pw(t,e.key,e.value)};else if(e instanceof bR)n={delete:I0(t,e.key)};else if(e instanceof ka)n={update:pw(t,e.key,e.data),updateMask:SU(e.fieldMask)};else{if(!(e instanceof Z9))return Me(16599,{Rt:e.type});n={verify:I0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof nh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ih)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof rh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof sm)return{fieldPath:u.field.canonicalString(),increment:h.Ee};throw Me(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:cU(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me(27497)})(t,e.precondition)),n}function mU(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(s,o){let u=s.updateTime?br(s.updateTime):br(o);return u.isEqual(Pe.min())&&(u=br(o)),new X9(u,s.transformResults||[])})(n,e)))):[]}function pU(t,e){return{documents:[CR(t,e.path)]}}function gU(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=CR(t,s);const o=(function(f){if(f.length!==0)return RR(wr.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(f){if(f.length!==0)return f.map((g=>(function(b){return{field:El(b.field),direction:xU(b.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=R0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{Vt:n,parent:s}}function yU(t){let e=hU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){lt(i===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(x){const b=NR(x);return b instanceof wr&&rR(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((b=>(function(C){return new rm(Tl(C.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(n.orderBy));let h=null;n.limit&&(h=(function(x){let b;return b=typeof x=="object"?x.value:x,km(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(x){const b=!!x.before,S=x.values||[];return new im(S,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(x){const b=!x.before,S=x.values||[];return new im(S,b)})(n.endAt)),O9(e,s,u,o,h,"F",d,f)}function vU(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Tl(n.unaryFilter.field);return Wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Tl(n.unaryFilter.field);return Wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tl(n.unaryFilter.field);return Wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Tl(n.unaryFilter.field);return Wt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Wt.create(Tl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return wr.create(n.compositeFilter.filters.map((i=>NR(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function xU(t){return aU[t]}function bU(t){return oU[t]}function _U(t){return lU[t]}function El(t){return{fieldPath:t.canonicalString()}}function Tl(t){return vn.fromServerFormat(t.fieldPath)}function RR(t){return t instanceof Wt?(function(n){if(n.op==="=="){if(nw(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NAN"}};if(tw(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nw(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NAN"}};if(tw(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(n.field),op:bU(n.op),value:n.value}}})(t):t instanceof wr?(function(n){const i=n.getFilters().map((s=>RR(s)));return i.length===1?i[0]:{compositeFilter:{op:_U(n.op),filters:i}}})(t):Me(54877,{filter:t})}function SU(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function kR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,i,s,o=Pe.min(),u=Pe.min(),h=xn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.gt=e}}function TU(t){const e=yU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?N0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.Dn=new CU}addToCollectionParentIndex(e,n){return this.Dn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(Sa.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(Sa.min())}updateCollectionGroup(e,n,i){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class CU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Zt(wt.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Zt(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IR=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(IR,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new $l(0)}static ur(){return new $l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="LruGarbageCollector",AU=1048576;function vw([t,e],[n,i]){const s=He(t,n);return s===0?He(e,i):s}class NU{constructor(e){this.Tr=e,this.buffer=new Zt(vw),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();vw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RU{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ve(yw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){su(n)?ve(yw,"Ignoring IndexedDB error during garbage collection: ",n):await ru(n)}await this.Rr(3e5)}))}}class kU{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(Rm.ue);const i=new NU(n);return this.Vr.forEachTarget(e,(s=>i.Er(s.sequenceNumber))).next((()=>this.Vr.gr(e,(s=>i.Er(s))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(gw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gw):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,s,o,u,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,u=Date.now(),this.nthSequenceNumber(e,s)))).next((x=>(i=x,h=Date.now(),this.removeTargets(e,i,n)))).next((x=>(o=x,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(f=Date.now(),_l()<=Qe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${x} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:x}))))}}function IU(t,e){return new kU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(){this.changes=new No((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ue.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(i!==null&&Bc(i.mutation,s,ui.empty(),St.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Xe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Xe()){const s=ho();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,i).next((o=>{let u=wc();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=ho();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Xe())))}populateOverlays(e,n,i){const s=[];return i.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,i,s){let o=fs();const u=Vc(),h=(function(){return Vc()})();return n.forEach(((d,f)=>{const g=i.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof ka)?o=o.insert(f.key,f):g!==void 0?(u.set(f.key,g.mutation.getFieldMask()),Bc(g.mutation,f,g.mutation.getFieldMask(),St.now())):u.set(f.key,ui.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((f,g)=>u.set(f,g))),n.forEach(((f,g)=>{var x;return h.set(f,new DU(g,(x=u.get(f))!==null&&x!==void 0?x:null))})),h)))}recalculateAndSaveOverlays(e,n){const i=Vc();let s=new At(((u,h)=>u-h)),o=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let g=i.get(d)||ui.empty();g=h.applyToLocalView(f,g),i.set(d,g);const x=(s.get(h.batchId)||Xe()).add(d);s=s.insert(h.batchId,x)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,x=dR();g.forEach((b=>{if(!o.has(b)){const S=vR(n.get(b),i.get(b));S!==null&&x.set(b,S),o=o.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,f,x))}return ue.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,s){return(function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):ue.resolve(ho());let h=Jc,d=o;return u.next((f=>ue.forEach(f,((g,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(g)?ue.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{d=d.insert(g,b)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,d,f,Xe()))).next((g=>({batchId:h,changes:hR(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((i=>{let s=wc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let u=wc();return this.indexManager.getCollectionParents(e,o).next((h=>ue.forEach(h,(d=>{const f=(function(x,b){return new Mm(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next((g=>{g.forEach(((x,b)=>{u=u.insert(x,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s)))).next((u=>{o.forEach(((d,f)=>{const g=f.getKey();u.get(g)===null&&(u=u.insert(g,Cn.newInvalidDocument(g)))}));let h=wc();return u.forEach(((d,f)=>{const g=o.get(d);g!==void 0&&Bc(g.mutation,f,ui.empty(),St.now()),Pm(n,f)&&(h=h.insert(d,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:br(s.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(s){return{name:s.name,query:TU(s.bundledQuery),readTime:br(s.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(){this.overlays=new At(Ae.comparator),this.kr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ho();return ue.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((s,o)=>{this.wt(e,n,o)})),ue.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.kr.delete(i)),ue.resolve()}getOverlaysForCollection(e,n,i){const s=ho(),o=n.length+1,u=new Ae(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&s.set(d.getKey(),d)}return ue.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new At(((f,g)=>f-g));const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let g=o.get(f.largestBatchId);g===null&&(g=ho(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=ho(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,g)=>h.set(f,g))),!(h.size()>=s)););return ue.resolve(h)}wt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new tU(n,i));let o=this.kr.get(n);o===void 0&&(o=Xe(),this.kr.set(n,o)),this.kr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.qr=new Zt(on.Qr),this.$r=new Zt(on.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new on(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new on(e,n))}Gr(e,n){e.forEach((i=>this.removeReference(i,n)))}zr(e){const n=new Ae(new wt([])),i=new on(n,e),s=new on(n,e+1),o=[];return this.$r.forEachInRange([i,s],(u=>{this.Wr(u),o.push(u.key)})),o}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ae(new wt([])),i=new on(n,e),s=new on(n,e+1);let o=Xe();return this.$r.forEachInRange([i,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new on(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class on{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ae.comparator(e.key,n.key)||He(e.Hr,n.Hr)}static Ur(e,n){return He(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Zt(on.Qr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new eU(o,n,i,s);this.mutationQueue.push(u);for(const h of s)this.Yr=this.Yr.add(new on(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,n){return ue.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Xr(i),o=s<0?0:s;return ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?ox:this.er-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,s],(u=>{const h=this.Zr(u.Hr);o.push(h)})),ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Zt(He);return n.forEach((s=>{const o=new on(s,0),u=new on(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,u],(h=>{i=i.add(h.Hr)}))})),ue.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;Ae.isDocumentKey(o)||(o=o.child(""));const u=new on(new Ae(o),0);let h=new Zt(He);return this.Yr.forEachWhile((d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(h=h.add(d.Hr)),!0)}),u),ue.resolve(this.ei(h))}ei(e){const n=[];return e.forEach((i=>{const s=this.Zr(i);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){lt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return ue.forEach(n.mutations,(s=>{const o=new on(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Yr=i}))}rr(e){}containsKey(e,n){const i=new on(n,0),s=this.Yr.firstAfterOrEqual(i);return ue.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.ni=e,this.docs=(function(){return new At(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,u=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ue.resolve(i?i.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let i=fs();return n.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Cn.newInvalidDocument(s))})),ue.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=fs();const u=n.path,h=new Ae(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||f9(d9(g),i)<=0||(s.has(g.key)||Pm(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(e,n,i,s){Me(9500)}ri(e,n){return ue.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new UU(this)}getSize(e){return ue.resolve(this.size)}}class UU extends MU{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(i)})),ue.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.persistence=e,this.ii=new No((n=>cx(n)),hx),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.si=0,this.oi=new yx,this.targetCount=0,this._i=$l.ar()}forEachTarget(e,n){return this.ii.forEach(((i,s)=>n(s))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),ue.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new $l(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.hr(n),ue.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.ii.forEach(((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ii.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),ue.waitFor(o).next((()=>s))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return ue.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),ue.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),ue.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return ue.resolve(i)}containsKey(e,n){return ue.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this.ai={},this.overlays={},this.ui=new Rm(0),this.ci=!1,this.ci=!0,this.li=new LU,this.referenceDelegate=e(this),this.hi=new zU(this),this.indexManager=new wU,this.remoteDocumentCache=(function(s){return new BU(s)})((i=>this.referenceDelegate.Pi(i))),this.serializer=new EU(n),this.Ti=new OU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new VU(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){ve("MemoryPersistence","Starting transaction:",e);const s=new FU(this.ui.next());return this.referenceDelegate.Ii(),i(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,n){return ue.or(Object.values(this.ai).map((i=>()=>i.containsKey(e,n))))}}class FU extends p9{constructor(e){super(),this.currentSequenceNumber=e}}class vx{constructor(e){this.persistence=e,this.Ai=new yx,this.Ri=null}static Vi(e){return new vx(e)}get mi(){if(this.Ri)return this.Ri;throw Me(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),ue.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((s=>this.mi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.mi.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.mi,(i=>{const s=Ae.fromPath(i);return this.fi(e,s).next((o=>{o||n.removeEntry(s,Pe.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return ue.or([()=>ue.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class om{constructor(e,n){this.persistence=e,this.gi=new No((i=>v9(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=IU(this,n)}static Vi(e,n){return new om(e,n)}Ii(){}di(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((s=>i+s))))}yr(e){let n=0;return this.gr(e,(i=>{n++})).next((()=>n))}gr(e,n){return ue.forEach(this.gi,((i,s)=>this.Sr(e,i,s).next((o=>o?ue.resolve():n(s)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ri(e,(u=>this.Sr(e,u,n).next((h=>{h||(i++,o.removeEntry(u,Pe.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ue.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rf(e.data.value)),n}Sr(e,n,i){return ue.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return ue.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=s}static Es(e,n){let i=Xe(),s=Xe();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new xx(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return gL()?8:g9(An())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.ps(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ys(e,n,s,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new HU;return this.ws(e,n,u).next((h=>{if(o.result=h,this.Rs)return this.Ss(e,n,u,h.size)}))})).next((()=>o.result))}Ss(e,n,i,s){return i.documentReadCount<this.Vs?(_l()<=Qe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(_l()<=Qe.DEBUG&&ve("QueryEngine","Query:",Sl(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(_l()<=Qe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):ue.resolve())}ps(e,n){if(aw(n))return ue.resolve(null);let i=vr(n);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=N0(n,null,"F"),i=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=Xe(...o);return this.gs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const f=this.bs(n,h);return this.Ds(n,f,u,d.readTime)?this.ps(e,N0(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ys(e,n,i,s){return aw(n)||s.isEqual(Pe.min())?ue.resolve(null):this.gs.getDocuments(e,i).next((o=>{const u=this.bs(n,o);return this.Ds(n,u,i,s)?ue.resolve(null):(_l()<=Qe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Sl(n)),this.vs(e,u,n,h9(s,Jc)).next((h=>h)))}))}bs(e,n){let i=new Zt(uR(e));return n.forEach(((s,o)=>{Pm(e,o)&&(i=i.add(o))})),i}Ds(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ws(e,n,i){return _l()<=Qe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Sl(n)),this.gs.getDocumentsMatchingQuery(e,n,Sa.min(),i)}vs(e,n,i,s){return this.gs.getDocumentsMatchingQuery(e,i,s).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="LocalStore",GU=3e8;class $U{constructor(e,n,i,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new At(He),this.Ms=new No((o=>cx(o)),hx),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PU(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function KU(t,e,n,i){return new $U(t,e,n,i)}async function DR(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let d=Xe();for(const f of s){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(i,d).next((f=>({Bs:f,removedBatchIds:u,addedBatchIds:h})))}))}))}function YU(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(h,d,f,g){const x=f.batch,b=x.keys();let S=ue.resolve();return b.forEach((C=>{S=S.next((()=>g.getEntry(d,C))).next((R=>{const A=f.docVersions.get(C);lt(A!==null,48541),R.version.compareTo(A)<0&&(x.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),g.addEntry(R)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,x)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Xe();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function PR(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function QU(t,e){const n=je(t),i=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const h=[];e.targetChanges.forEach(((g,x)=>{const b=s.get(x);if(!b)return;h.push(n.hi.removeMatchingKeys(o,g.removedDocuments,x).next((()=>n.hi.addMatchingKeys(o,g.addedDocuments,x))));let S=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?S=S.withResumeToken(xn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,i)),s=s.insert(x,S),(function(R,A,D){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=GU?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(b,S,g)&&h.push(n.hi.updateTargetData(o,S))}));let d=fs(),f=Xe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(XU(o,u,e.documentUpdates).next((g=>{d=g.Ls,f=g.ks}))),!i.isEqual(Pe.min())){const g=n.hi.getLastRemoteSnapshotVersion(o).next((x=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(g)}return ue.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(n.Fs=s,o)))}function XU(t,e,n){let i=Xe(),s=Xe();return n.forEach((o=>i=i.add(o))),e.getEntries(t,i).next((o=>{let u=fs();return n.forEach(((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ve(bx,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)})),{Ls:u,ks:s}}))}function WU(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=ox),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function JU(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.hi.getTargetData(i,e).next((o=>o?(s=o,ue.resolve(s)):n.hi.allocateTargetId(i).next((u=>(s=new ma(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i}))}async function D0(t,e,n){const i=je(t),s=i.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!su(u))throw u;ve(bx,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(s.target)}function xw(t,e,n){const i=je(t);let s=Pe.min(),o=Xe();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,f,g){const x=je(d),b=x.Ms.get(g);return b!==void 0?ue.resolve(x.Fs.get(b)):x.hi.getTargetData(f,g)})(i,u,vr(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?s:Pe.min(),n?o:Xe()))).next((h=>(ZU(i,V9(e),h),{documents:h,qs:o})))))}function ZU(t,e,n){let i=t.xs.get(e)||Pe.min();n.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),t.xs.set(e,i)}class bw{constructor(){this.activeTargetIds=q9()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ez{constructor(){this.Fo=new bw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new bw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="ConnectivityMonitor";class Sw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ve(_w,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ve(_w,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function P0(){return ff===null?ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="RestConnection",nz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iz{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===tm?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,n,i,s,o){const u=P0(),h=this.Go(e,n.toUriEncodedString());ve(Ay,`Sending RPC '${e}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,s,o);const{host:f}=new URL(h),g=Ao(f);return this.jo(e,h,d,i,g).then((x=>(ve(Ay,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw _a(Ay,`RPC '${e}' ${u} failed with error: `,x,"url: ",h,"request:",i),x}))}Jo(e,n,i,s,o,u){return this.Wo(e,n,i,s,o)}zo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+iu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),i&&i.headers.forEach(((s,o)=>e[o]=s))}Go(e,n){const i=nz[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class sz extends iz{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,s,o){const u=P0();return new Promise(((h,d)=>{const f=new LN;f.setWithCredentials(!0),f.listenOnce(VN.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Nf.NO_ERROR:const x=f.getResponseJson();ve(Sn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),h(x);break;case Nf.TIMEOUT:ve(Sn,`RPC '${e}' ${u} timed out`),d(new Se(he.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const b=f.getStatus();if(ve(Sn,`RPC '${e}' ${u} failed with status:`,b,"response text:",f.getResponseText()),b>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S==null?void 0:S.error;if(C&&C.status&&C.message){const R=(function(D){const q=D.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(q)>=0?q:he.UNKNOWN})(C.status);d(new Se(R,C.message))}else d(new Se(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Se(he.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{c_:e,streamId:u,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{ve(Sn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);ve(Sn,`RPC '${e}' ${u} sending request:`,s),f.send(n,"POST",g,i,15)}))}P_(e,n,i){const s=P0(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=zN(),h=UN(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const g=o.join("");ve(Sn,`Creating RPC '${e}' stream ${s}: ${g}`,d);const x=u.createWebChannel(g,d);this.T_(x);let b=!1,S=!1;const C=new rz({Ho:A=>{S?ve(Sn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(b||(ve(Sn,`Opening RPC '${e}' stream ${s} transport.`),x.open(),b=!0),ve(Sn,`RPC '${e}' stream ${s} sending:`,A),x.send(A))},Yo:()=>x.close()}),R=(A,D,q)=>{A.listen(D,(L=>{try{q(L)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return R(x,Tc.EventType.OPEN,(()=>{S||(ve(Sn,`RPC '${e}' stream ${s} transport opened.`),C.s_())})),R(x,Tc.EventType.CLOSE,(()=>{S||(S=!0,ve(Sn,`RPC '${e}' stream ${s} transport closed`),C.__(),this.I_(x))})),R(x,Tc.EventType.ERROR,(A=>{S||(S=!0,_a(Sn,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),C.__(new Se(he.UNAVAILABLE,"The operation could not be completed")))})),R(x,Tc.EventType.MESSAGE,(A=>{var D;if(!S){const q=A.data[0];lt(!!q,16349);const L=q,ee=(L==null?void 0:L.error)||((D=L[0])===null||D===void 0?void 0:D.error);if(ee){ve(Sn,`RPC '${e}' stream ${s} received error:`,ee);const J=ee.status;let F=(function(M){const B=qt[M];if(B!==void 0)return _R(B)})(J),I=ee.message;F===void 0&&(F=he.INTERNAL,I="Unknown error status: "+J+" with message "+ee.message),S=!0,C.__(new Se(F,I)),x.close()}else ve(Sn,`RPC '${e}' stream ${s} received:`,q),C.a_(q)}})),R(h,BN.STAT_EVENT,(A=>{A.stat===S0.PROXY?ve(Sn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===S0.NOPROXY&&ve(Sn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.o_()}),0),C}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function Ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t){return new uU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,i=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-i);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="PersistentStream";class jR{constructor(e,n,i,s,o,u,h,d){this.Fi=e,this.w_=i,this.S_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new OR(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.b_===n&&this.W_(i,s)}),(i=>{e((()=>{const s=new Se(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)}))}))}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.e_((()=>{i((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((s=>{i((()=>this.G_(s)))})),this.stream.onMessage((s=>{i((()=>++this.C_==1?this.j_(s):this.onNext(s)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ve(Ew,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(ve(Ew,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class az extends jR{constructor(e,n,i,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,u),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=dU(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Pe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?br(u.readTime):Pe.min()})(e);return this.listener.J_(n,i)}H_(e){const n={};n.database=M0(this.serializer),n.addTarget=(function(o,u){let h;const d=u.target;if(h=A0(d)?{documents:pU(o,d)}:{query:gU(o,d).Vt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=TR(o,u.resumeToken);const f=R0(o,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(Pe.min())>0){h.readTime=am(o,u.snapshotVersion.toTimestamp());const f=R0(o,u.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const i=vU(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){const n={};n.database=M0(this.serializer),n.removeTarget=e,this.k_(n)}}class oz extends jR{constructor(e,n,i,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,u),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=mU(e.writeResults,e.commitTime),i=br(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=M0(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>fU(this.serializer,i)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{}class uz extends lz{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new Se(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,k0(n,i),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(he.UNKNOWN,o.toString())}))}Jo(e,n,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Jo(e,k0(n,i),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(he.UNKNOWN,u.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class cz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ds(n),this._a=!1):ve("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="RemoteStore";class hz{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo((u=>{i.enqueueAndForget((async()=>{Ro(this)&&(ve(wo,"Restarting streams for network reachability change."),await(async function(d){const f=je(d);f.Ia.add(4),await wh(f),f.Aa.set("Unknown"),f.Ia.delete(4),await Bm(f)})(this))}))})),this.Aa=new cz(i,s)}}async function Bm(t){if(Ro(t))for(const e of t.da)await e(!0)}async function wh(t){for(const e of t.da)await e(!1)}function LR(t,e){const n=je(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Tx(n)?Ex(n):au(n).x_()&&Sx(n,e))}function _x(t,e){const n=je(t),i=au(n);n.Ta.delete(e),i.x_()&&VR(n,e),n.Ta.size===0&&(i.x_()?i.B_():Ro(n)&&n.Aa.set("Unknown"))}function Sx(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}au(t).H_(e)}function VR(t,e){t.Ra.$e(e),au(t).Y_(e)}function Ex(t){t.Ra=new sU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),au(t).start(),t.Aa.aa()}function Tx(t){return Ro(t)&&!au(t).M_()&&t.Ta.size>0}function Ro(t){return je(t).Ia.size===0}function BR(t){t.Ra=void 0}async function dz(t){t.Aa.set("Online")}async function fz(t){t.Ta.forEach(((e,n)=>{Sx(t,e)}))}async function mz(t,e){BR(t),Tx(t)?(t.Aa.la(e),Ex(t)):t.Aa.set("Unknown")}async function pz(t,e,n){if(t.Aa.set("Online"),e instanceof ER&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ta.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ta.delete(h),s.Ra.removeTarget(h))})(t,e)}catch(i){ve(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await lm(t,i)}else if(e instanceof Mf?t.Ra.Ye(e):e instanceof SR?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Pe.min()))try{const i=await PR(t.localStore);n.compareTo(i)>=0&&await(function(o,u){const h=o.Ra.Pt(u);return h.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ta.get(f);g&&o.Ta.set(f,g.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,f)=>{const g=o.Ta.get(d);if(!g)return;o.Ta.set(d,g.withResumeToken(xn.EMPTY_BYTE_STRING,g.snapshotVersion)),VR(o,d);const x=new ma(g.target,d,f,g.sequenceNumber);Sx(o,x)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){ve(wo,"Failed to raise snapshot:",i),await lm(t,i)}}async function lm(t,e,n){if(!su(e))throw e;t.Ia.add(1),await wh(t),t.Aa.set("Offline"),n||(n=()=>PR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(wo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Bm(t)}))}function UR(t,e){return e().catch((n=>lm(t,n,e)))}async function Um(t){const e=je(t),n=Ca(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ox;for(;gz(e);)try{const s=await WU(e.localStore,i);if(s===null){e.Pa.length===0&&n.B_();break}i=s.batchId,yz(e,s)}catch(s){await lm(e,s)}zR(e)&&FR(e)}function gz(t){return Ro(t)&&t.Pa.length<10}function yz(t,e){t.Pa.push(e);const n=Ca(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function zR(t){return Ro(t)&&!Ca(t).M_()&&t.Pa.length>0}function FR(t){Ca(t).start()}async function vz(t){Ca(t).na()}async function xz(t){const e=Ca(t);for(const n of t.Pa)e.X_(n.mutations)}async function bz(t,e,n){const i=t.Pa.shift(),s=mx.from(i,e,n);await UR(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Um(t)}async function _z(t,e){e&&Ca(t).Z_&&await(async function(i,s){if((function(u){return iU(u)&&u!==he.ABORTED})(s.code)){const o=i.Pa.shift();Ca(i).N_(),await UR(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Um(i)}})(t,e),zR(t)&&FR(t)}async function Tw(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),ve(wo,"RemoteStore received new credentials");const i=Ro(n);n.Ia.add(3),await wh(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Bm(n)}async function Sz(t,e){const n=je(t);e?(n.Ia.delete(2),await Bm(n)):e||(n.Ia.add(2),await wh(n),n.Aa.set("Unknown"))}function au(t){return t.Va||(t.Va=(function(n,i,s){const o=je(n);return o.ia(),new az(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:dz.bind(null,t),e_:fz.bind(null,t),n_:mz.bind(null,t),J_:pz.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),Tx(t)?Ex(t):t.Aa.set("Unknown")):(await t.Va.stop(),BR(t))}))),t.Va}function Ca(t){return t.ma||(t.ma=(function(n,i,s){const o=je(n);return o.ia(),new oz(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:vz.bind(null,t),n_:_z.bind(null,t),ea:xz.bind(null,t),ta:bz.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Um(t)):(await t.ma.stop(),t.Pa.length>0&&(ve(wo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const u=Date.now()+i,h=new wx(e,n,u,s,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cx(t,e){if(ds("AsyncQueue",`${e}: ${t}`),su(t))return new Se(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ae.comparator(n.key,i.key):(n,i)=>Ae.comparator(n.key,i.key),this.keyedMap=wc(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Pl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.fa=new At(Ae.comparator)}track(e){const n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Me(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Kl{constructor(e,n,i,s,o,u,h,d,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,s,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Kl(e,n,Pl.emptySet(n),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class Tz{constructor(){this.queries=Cw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const s=je(n),o=s.queries;s.queries=Cw(),o.forEach(((u,h)=>{for(const d of h.wa)d.onError(i)}))})(this,new Se(he.ABORTED,"Firestore shutting down"))}}function Cw(){return new No((t=>lR(t)),Dm)}async function wz(t,e){const n=je(t);let i=3;const s=e.query;let o=n.queries.get(s);o?!o.Sa()&&e.ba()&&(i=2):(o=new Ez,i=e.ba()?0:1);try{switch(i){case 0:o.ya=await n.onListen(s,!0);break;case 1:o.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const h=Cx(u,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&Ax(n)}async function Cz(t,e){const n=je(t),i=e.query;let s=3;const o=n.queries.get(i);if(o){const u=o.wa.indexOf(e);u>=0&&(o.wa.splice(u,1),o.wa.length===0?s=e.ba()?0:1:!o.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Az(t,e){const n=je(t);let i=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const h of u.wa)h.Ca(s)&&(i=!0);u.ya=s}}i&&Ax(n)}function Nz(t,e,n){const i=je(t),s=i.queries.get(e);if(s)for(const o of s.wa)o.onError(n);i.queries.delete(e)}function Ax(t){t.Da.forEach((e=>{e.next()}))}var O0,Aw;(Aw=O0||(O0={})).Fa="default",Aw.Cache="cache";class Rz{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Kl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==O0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.key=e}}class qR{constructor(e){this.key=e}}class kz{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Xe(),this.mutatedKeys=Xe(),this.Xa=uR(e),this.eu=new Pl(this.Xa)}get tu(){return this.Ha}nu(e,n){const i=n?n.ru:new ww,s=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,x)=>{const b=s.get(g),S=Pm(this.query,x)?x:null,C=!!b&&this.mutatedKeys.has(b.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let A=!1;b&&S?b.data.isEqual(S.data)?C!==R&&(i.track({type:3,doc:S}),A=!0):this.iu(b,S)||(i.track({type:2,doc:S}),A=!0,(d&&this.Xa(S,d)>0||f&&this.Xa(S,f)<0)&&(h=!0)):!b&&S?(i.track({type:0,doc:S}),A=!0):b&&!S&&(i.track({type:1,doc:b}),A=!0,(d||f)&&(h=!0)),A&&(S?(u=u.add(S),o=R?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{eu:u,ru:i,Ds:h,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort(((g,x)=>(function(S,C){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{At:A})}};return R(S)-R(C)})(g.type,x.type)||this.Xa(g.doc,x.doc))),this.su(i),s=s!=null&&s;const h=n&&!s?this.ou():[],d=this.Za.size===0&&this.current&&!s?1:0,f=d!==this.Ya;return this.Ya=d,u.length!==0||f?{snapshot:new Kl(this.query,e.eu,o,u,e.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ww,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Xe(),this.eu.forEach((i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))}));const n=[];return e.forEach((i=>{this.Za.has(i)||n.push(new qR(i))})),this.Za.forEach((i=>{e.has(i)||n.push(new HR(i))})),n}uu(e){this.Ha=e.qs,this.Za=Xe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Kl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Nx="SyncEngine";class Iz{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Mz{constructor(e){this.key=e,this.lu=!1}}class Dz{constructor(e,n,i,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new No((h=>lR(h)),Dm),this.Tu=new Map,this.Iu=new Set,this.du=new At(Ae.comparator),this.Eu=new Map,this.Au=new yx,this.Ru={},this.Vu=new Map,this.mu=$l.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Pz(t,e,n=!0){const i=XR(t);let s;const o=i.Pu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.cu()):s=await GR(i,e,n,!0),s}async function Oz(t,e){const n=XR(t);await GR(n,e,!0,!1)}async function GR(t,e,n,i){const s=await JU(t.localStore,vr(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await jz(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&LR(t.remoteStore,s),h}async function jz(t,e,n,i,s){t.gu=(x,b,S)=>(async function(R,A,D,q){let L=A.view.nu(D);L.Ds&&(L=await xw(R.localStore,A.query,!1).then((({documents:I})=>A.view.nu(I,L))));const ee=q&&q.targetChanges.get(A.targetId),J=q&&q.targetMismatches.get(A.targetId)!=null,F=A.view.applyChanges(L,R.isPrimaryClient,ee,J);return Rw(R,A.targetId,F._u),F.snapshot})(t,x,b,S);const o=await xw(t.localStore,e,!0),u=new kz(e,o.qs),h=u.nu(o.documents),d=Th.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),f=u.applyChanges(h,t.isPrimaryClient,d);Rw(t,n,f._u);const g=new Iz(e,n,u);return t.Pu.set(e,g),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),f.snapshot}async function Lz(t,e,n){const i=je(t),s=i.Pu.get(e),o=i.Tu.get(s.targetId);if(o.length>1)return i.Tu.set(s.targetId,o.filter((u=>!Dm(u,e)))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await D0(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&_x(i.remoteStore,s.targetId),j0(i,s.targetId)})).catch(ru)):(j0(i,s.targetId),await D0(i.localStore,s.targetId,!0))}async function Vz(t,e){const n=je(t),i=n.Pu.get(e),s=n.Tu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),_x(n.remoteStore,i.targetId))}async function Bz(t,e,n){const i=$z(t);try{const s=await(function(u,h){const d=je(u),f=St.now(),g=h.reduce(((S,C)=>S.add(C.key)),Xe());let x,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let C=fs(),R=Xe();return d.Os.getEntries(S,g).next((A=>{C=A,C.forEach(((D,q)=>{q.isValidDocument()||(R=R.add(D))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,C))).next((A=>{x=A;const D=[];for(const q of h){const L=J9(q,x.get(q.key).overlayedDocument);L!=null&&D.push(new ka(q.key,L,tR(L.value.mapValue),xr.exists(!0)))}return d.mutationQueue.addMutationBatch(S,f,D,h)})).next((A=>{b=A;const D=A.applyToLocalDocumentSet(x,R);return d.documentOverlayCache.saveOverlays(S,A.batchId,D)}))})).then((()=>({batchId:b.batchId,changes:hR(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(u,h,d){let f=u.Ru[u.currentUser.toKey()];f||(f=new At(He)),f=f.insert(h,d),u.Ru[u.currentUser.toKey()]=f})(i,s.batchId,n),await Ch(i,s.changes),await Um(i.remoteStore)}catch(s){const o=Cx(s,"Failed to persist write");n.reject(o)}}async function $R(t,e){const n=je(t);try{const i=await QU(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=n.Eu.get(o);u&&(lt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.lu=!0:s.modifiedDocuments.size>0?lt(u.lu,14607):s.removedDocuments.size>0&&(lt(u.lu,42227),u.lu=!1))})),await Ch(n,i,e)}catch(i){await ru(i)}}function Nw(t,e,n){const i=je(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Pu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const d=je(u);d.onlineState=h;let f=!1;d.queries.forEach(((g,x)=>{for(const b of x.wa)b.va(h)&&(f=!0)})),f&&Ax(d)})(i.eventManager,e),s.length&&i.hu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Uz(t,e,n){const i=je(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Eu.get(e),o=s&&s.key;if(o){let u=new At(Ae.comparator);u=u.insert(o,Cn.newNoDocument(o,Pe.min()));const h=Xe().add(o),d=new Lm(Pe.min(),new Map,new At(He),u,h);await $R(i,d),i.du=i.du.remove(o),i.Eu.delete(e),Rx(i)}else await D0(i.localStore,e,!1).then((()=>j0(i,e,n))).catch(ru)}async function zz(t,e){const n=je(t),i=e.batch.batchId;try{const s=await YU(n.localStore,e);YR(n,i,null),KR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ch(n,s)}catch(s){await ru(s)}}async function Fz(t,e,n){const i=je(t);try{const s=await(function(u,h){const d=je(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next((x=>(lt(x!==null,37113),g=x.keys(),d.mutationQueue.removeMutationBatch(f,x)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>d.localDocuments.getDocuments(f,g)))}))})(i.localStore,e);YR(i,e,n),KR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ch(i,s)}catch(s){await ru(s)}}function KR(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function YR(t,e,n){const i=je(t);let s=i.Ru[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Ru[i.currentUser.toKey()]=s}}function j0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Tu.get(e))t.Pu.delete(i),n&&t.hu.pu(i,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((i=>{t.Au.containsKey(i)||QR(t,i)}))}function QR(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(_x(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Rx(t))}function Rw(t,e,n){for(const i of n)i instanceof HR?(t.Au.addReference(i.key,e),Hz(t,i)):i instanceof qR?(ve(Nx,"Document no longer in limbo: "+i.key),t.Au.removeReference(i.key,e),t.Au.containsKey(i.key)||QR(t,i.key)):Me(19791,{yu:i})}function Hz(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Iu.has(i)||(ve(Nx,"New document in limbo: "+n),t.Iu.add(i),Rx(t))}function Rx(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ae(wt.fromString(e)),i=t.mu.next();t.Eu.set(i,new Mz(n)),t.du=t.du.insert(n,i),LR(t.remoteStore,new ma(vr(dx(n.path)),i,"TargetPurposeLimboResolution",Rm.ue))}}async function Ch(t,e,n){const i=je(t),s=[],o=[],u=[];i.Pu.isEmpty()||(i.Pu.forEach(((h,d)=>{u.push(i.gu(d,e,n).then((f=>{var g;if((f||n)&&i.isPrimaryClient){const x=f?!f.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(d.targetId,x?"current":"not-current")}if(f){s.push(f);const x=xx.Es(d.targetId,f);o.push(x)}})))})),await Promise.all(u),i.hu.J_(s),await(async function(d,f){const g=je(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ue.forEach(f,(b=>ue.forEach(b.Is,(S=>g.persistence.referenceDelegate.addReference(x,b.targetId,S))).next((()=>ue.forEach(b.ds,(S=>g.persistence.referenceDelegate.removeReference(x,b.targetId,S)))))))))}catch(x){if(!su(x))throw x;ve(bx,"Failed to update sequence numbers: "+x)}for(const x of f){const b=x.targetId;if(!x.fromCache){const S=g.Fs.get(b),C=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(C);g.Fs=g.Fs.insert(b,R)}}})(i.localStore,o))}async function qz(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){ve(Nx,"User change. New user:",e.toKey());const i=await DR(n.localStore,e);n.currentUser=e,(function(o,u){o.Vu.forEach((h=>{h.forEach((d=>{d.reject(new Se(he.CANCELLED,u))}))})),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ch(n,i.Bs)}}function Gz(t,e){const n=je(t),i=n.Eu.get(e);if(i&&i.lu)return Xe().add(i.key);{let s=Xe();const o=n.Tu.get(e);if(!o)return s;for(const u of o){const h=n.Pu.get(u);s=s.unionWith(h.view.tu)}return s}}function XR(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$R.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uz.bind(null,e),e.hu.J_=Az.bind(null,e.eventManager),e.hu.pu=Nz.bind(null,e.eventManager),e}function $z(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fz.bind(null,e),e}class um{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return KU(this.persistence,new qU,e.initialUser,this.serializer)}Du(e){return new MR(vx.Vi,this.serializer)}bu(e){return new ez}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}um.provider={build:()=>new um};class Kz extends um{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){lt(this.persistence.referenceDelegate instanceof om,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new RU(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new MR((i=>om.Vi(i,n)),this.serializer)}}class L0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Nw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qz.bind(null,this.syncEngine),await Sz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Tz})()}createDatastore(e){const n=Vm(e.databaseInfo.databaseId),i=(function(o){return new sz(o)})(e.databaseInfo);return(function(o,u,h,d){return new uz(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,s,o,u,h){return new hz(i,s,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>Nw(this.syncEngine,n,0)),(function(){return Sw.C()?new Sw:new tz})())}createSyncEngine(e,n){return(function(s,o,u,h,d,f,g){const x=new Dz(s,o,u,h,d,f);return g&&(x.fu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const o=je(s);ve(wo,"RemoteStore shutting down."),o.Ia.add(5),await wh(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}L0.provider={build:()=>new L0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="FirestoreClient";class Qz{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=wn.UNAUTHENTICATED,this.clientId=sx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{ve(Aa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ve(Aa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Cx(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Ry(t,e){t.asyncQueue.verifyOperationInProgress(),ve(Aa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async s=>{i.isEqual(s)||(await DR(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>{_a("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{ve("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((s=>{_a("Terminating Firestore due to IndexedDb database deletion failed",s)}))})),t._offlineComponents=e}async function kw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Xz(t);ve(Aa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>Tw(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,s)=>Tw(e.remoteStore,s))),t._onlineComponents=e}async function Xz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(Aa,"Using user provided OfflineComponentProvider");try{await Ry(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;_a("Error using user provided cache. Falling back to memory cache: "+n),await Ry(t,new um)}}else ve(Aa,"Using default OfflineComponentProvider"),await Ry(t,new Kz(void 0));return t._offlineComponents}async function WR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(Aa,"Using user provided OnlineComponentProvider"),await kw(t,t._uninitializedComponentsProvider._online)):(ve(Aa,"Using default OnlineComponentProvider"),await kw(t,new L0))),t._onlineComponents}function Wz(t){return WR(t).then((e=>e.syncEngine))}async function Jz(t){const e=await WR(t),n=e.eventManager;return n.onListen=Pz.bind(null,e.syncEngine),n.onUnlisten=Lz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Oz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Vz.bind(null,e.syncEngine),n}function Zz(t,e,n={}){const i=new va;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,f){const g=new Yz({next:b=>{g.Ou(),u.enqueueAndForget((()=>Cz(o,x)));const S=b.docs.has(h);!S&&b.fromCache?f.reject(new Se(he.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&d&&d.source==="server"?f.reject(new Se(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),x=new Rz(dx(h.path),g,{includeMetadataChanges:!0,ka:!0});return wz(o,x)})(await Jz(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="firestore.googleapis.com",Mw=!0;class Dw{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZR,this.ssl=Mw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Mw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AU)throw new Se(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Se(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Se(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Se(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kx{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new e9;switch(i.type){case"firstParty":return new r9(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Iw.get(n);i&&(ve("ComponentProvider","Removing Datastore"),Iw.delete(n),i.terminate())})(this),Promise.resolve()}}function e8(t,e,n,i={}){var s;t=To(t,kx);const o=Ao(e),u=t._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&(Fv(`https://${d}`),Hv("Firestore",!0)),u.host!==ZR&&u.host!==d&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},u),{host:d,ssl:o,emulatorOptions:i});if(!xo(f,h)&&(t._setSettings(f),i.mockUserToken)){let g,x;if(typeof i.mockUserToken=="string")g=i.mockUserToken,x=wn.MOCK_USER;else{g=oL(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new Se(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new wn(b)}t._authCredentials=new t9(new HN(g,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ix(this.firestore,e,this._query)}}class Jt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}toJSON(){return{type:Jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Sh(n,Jt._jsonSchema))return new Jt(e,i||null,new Ae(wt.fromString(n.referencePath)))}}Jt._jsonSchemaVersion="firestore/documentReference/1.0",Jt._jsonSchema={type:$t("string",Jt._jsonSchemaVersion),referencePath:$t("string")};class sh extends Ix{constructor(e,n,i){super(e,n,dx(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new Ae(e))}withConverter(e){return new sh(this.firestore,e,this._path)}}function Ol(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=sx.newId()),u9("doc","path",e),t instanceof kx){const i=wt.fromString(e,...n);return KT(i),new Jt(t,null,new Ae(i))}{if(!(t instanceof Jt||t instanceof sh))throw new Se(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(wt.fromString(e,...n));return KT(i),new Jt(t.firestore,t instanceof sh?t.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="AsyncQueue";class Ow{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new OR(this,"async_queue_retry"),this.oc=()=>{const i=Ny();i&&ve(Pw,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=Ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new va;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!su(e))throw e;ve(Pw,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((i=>{throw this.tc=i,this.nc=!1,ds("INTERNAL UNHANDLED ERROR: ",jw(i)),i})).then((i=>(this.nc=!1,i))))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=wx.createAndSchedule(this,e,n,i,(o=>this.lc(o)));return this.ec.push(s),s}ac(){this.tc&&Me(47125,{hc:jw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function jw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zm extends kx{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new Ow,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ow(e),this._firestoreClient=void 0,await e}}}function t8(t,e){const n=typeof t=="object"?t:$v(),i=typeof t=="string"?t:tm,s=wm(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=KA("firestore");o&&e8(s,...o)}return s}function ek(t){if(t._terminated)throw new Se(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n8(t),t._firestoreClient}function n8(t){var e,n,i;const s=t._freezeSettings(),o=(function(h,d,f,g){return new _9(h,d,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,JR(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Qz(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(xn.fromBase64String(e))}catch(n){throw new Se(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ni(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sh(e,Ni._jsonSchema))return Ni.fromBase64String(e.bytes)}}Ni._jsonSchemaVersion="firestore/bytes/1.0",Ni._jsonSchema={type:$t("string",Ni._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(Sh(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:$t("string",_r._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sh(e,Sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Sr(e.vectorValues);throw new Se(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Sr._jsonSchemaVersion="firestore/vectorValue/1.0",Sr._jsonSchema={type:$t("string",Sr._jsonSchemaVersion),vectorValues:$t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=/^__.*__$/;class r8{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ka(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eh(e,this.data,n,this.fieldTransforms)}}class tk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ka(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ec:t})}}class Mx{constructor(e,n,i,s,o,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Mx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:i,mc:!1});return s.fc(e),s}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return cm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(nk(this.Ec)&&i8.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class s8{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Vm(e)}Dc(e,n,i,s=!1){return new Mx({Ec:e,methodName:n,bc:i,path:vn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ik(t){const e=t._freezeSettings(),n=Vm(t._databaseId);return new s8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a8(t,e,n,i,s,o={}){const u=t.Dc(o.merge||o.mergeFields?2:0,e,n,s);Px("Data must be an object, but it was:",u,i);const h=rk(i,u);let d,f;if(o.merge)d=new ui(u.fieldMask),f=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const x of o.mergeFields){const b=V0(e,x,n);if(!u.contains(b))throw new Se(he.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ak(g,b)||g.push(b)}d=new ui(g),f=u.fieldTransforms.filter((x=>d.covers(x.field)))}else d=null,f=u.fieldTransforms;return new r8(new Qn(h),d,f)}class qm extends Hm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qm}}class Dx extends Hm{_toFieldTransform(e){return new Y9(e.path,new nh)}isEqual(e){return e instanceof Dx}}function o8(t,e,n,i){const s=t.Dc(1,e,n);Px("Data must be an object, but it was:",s,i);const o=[],u=Qn.empty();Ra(i,((d,f)=>{const g=Ox(e,d,n);f=Kt(f);const x=s.gc(g);if(f instanceof qm)o.push(g);else{const b=Gm(f,x);b!=null&&(o.push(g),u.set(g,b))}}));const h=new ui(o);return new tk(u,h,s.fieldTransforms)}function l8(t,e,n,i,s,o){const u=t.Dc(1,e,n),h=[V0(e,i,n)],d=[s];if(o.length%2!=0)throw new Se(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)h.push(V0(e,o[b])),d.push(o[b+1]);const f=[],g=Qn.empty();for(let b=h.length-1;b>=0;--b)if(!ak(f,h[b])){const S=h[b];let C=d[b];C=Kt(C);const R=u.gc(S);if(C instanceof qm)f.push(S);else{const A=Gm(C,R);A!=null&&(f.push(S),g.set(S,A))}}const x=new ui(f);return new tk(g,x,u.fieldTransforms)}function Gm(t,e){if(sk(t=Kt(t)))return Px("Unsupported field value:",e,t),rk(t,e);if(t instanceof Hm)return(function(i,s){if(!nk(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(i,s){const o=[];let u=0;for(const h of i){let d=Gm(h,s.yc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(t,e)}return(function(i,s){if((i=Kt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return G9(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=St.fromDate(i);return{timestampValue:am(s.serializer,o)}}if(i instanceof St){const o=new St(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:am(s.serializer,o)}}if(i instanceof _r)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ni)return{bytesValue:TR(s.serializer,i._byteString)};if(i instanceof Jt){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gx(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Sr)return(function(u,h){return{mapValue:{fields:{[ZN]:{stringValue:eR},[nm]:{arrayValue:{values:u.toArray().map((f=>{if(typeof f!="number")throw h.wc("VectorValues must only contain numeric values.");return fx(h.serializer,f)}))}}}}}})(i,s);throw s.wc(`Unsupported field value: ${ax(i)}`)})(t,e)}function rk(t,e){const n={};return KN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(t,((i,s)=>{const o=Gm(s,e.Vc(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function sk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof _r||t instanceof Ni||t instanceof Jt||t instanceof Hm||t instanceof Sr)}function Px(t,e,n){if(!sk(n)||!GN(n)){const i=ax(n);throw i==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+i)}}function V0(t,e,n){if((e=Kt(e))instanceof Fm)return e._internalPath;if(typeof e=="string")return Ox(t,e);throw cm("Field path arguments must be of type string or ",t,!1,void 0,n)}const u8=new RegExp("[~\\*/\\[\\]]");function Ox(t,e,n){if(e.search(u8)>=0)throw cm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fm(...e.split("."))._internalPath}catch{throw cm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cm(t,e,n,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${i}`),u&&(d+=` in document ${s}`),d+=")"),new Se(he.INVALID_ARGUMENT,h+t+d)}function ak(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c8 extends ok{data(){return super.data()}}function lk(t,e){return typeof e=="string"?Ox(t,e):e instanceof Fm?e._internalPath:e._delegate._internalPath}class h8{convertValue(e,n="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ra(e,((s,o)=>{i[s]=this.convertValue(o,n)})),i}convertVectorValue(e){var n,i,s;const o=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[nm].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map((u=>Vt(u.doubleValue)));return new Sr(o)}convertGeoPoint(e){return new _r(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Im(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const n=Ea(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=wt.fromString(e);lt(kR(i),9688,{name:e});const s=new eh(i.get(1),i.get(3)),o=new Ae(i.popFirst(5));return s.isEqual(n)||ds(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class po extends ok{constructor(e,n,i,s,o,u){super(e,n,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(lk("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:$t("string",po._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class Df extends po{data(e={}){return super.data(e)}}class Uc{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ac(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Df(this._firestore,this._userDataWriter,i.key,i,new Ac(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const d=new Df(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ac(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Df(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ac(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:f8(h.type),doc:d,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){t=To(t,Jt);const e=To(t.firestore,zm);return Zz(ek(e),t._key).then((n=>g8(e,t,n)))}Uc._jsonSchemaVersion="firestore/querySnapshot/1.0",Uc._jsonSchema={type:$t("string",Uc._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class m8 extends h8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function hm(t,e,n){t=To(t,Jt);const i=To(t.firestore,zm),s=d8(t.converter,e,n);return uk(i,[a8(ik(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,xr.none())])}function p8(t,e,n,...i){t=To(t,Jt);const s=To(t.firestore,zm),o=ik(s);let u;return u=typeof(e=Kt(e))=="string"||e instanceof Fm?l8(o,"updateDoc",t._key,e,n,i):o8(o,"updateDoc",t._key,e),uk(s,[u.toMutation(t._key,xr.exists(!0))])}function uk(t,e){return(function(i,s){const o=new va;return i.asyncQueue.enqueueAndForget((async()=>Bz(await Wz(i),s,o))),o.promise})(ek(t),e)}function g8(t,e,n){const i=n.docs.get(e._key),s=new m8(t);return new po(t,s,e._key,i,new Ac(n.hasPendingWrites,n.fromCache),e.converter)}function Lw(){return new Dx("serverTimestamp")}(function(e,n=!0){(function(s){iu=s})(tu),bo(new ba("firestore",((i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new zm(new n9(i.getProvider("auth-internal")),new s9(u,i.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Se(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eh(f.options.projectId,g)})(u,s),u);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),gr(FT,HT,e),gr(FT,HT,"esm2017")})();var y8="firebase",v8="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(y8,v8,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n,i,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Yn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||i.get().then(o=>this.messaging=o,()=>{}),this.appCheck||s==null||s.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="us-central1";class b8{constructor(e,n,i,s,o=B0,u=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new x8(e,n,i,s),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(o);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=B0}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function _8(t,e,n){const i=Ao(e);t.emulatorOrigin=`http${i?"s":""}://${e}:${n}`,i&&(Fv(t.emulatorOrigin),Hv("Functions",!0))}const Vw="@firebase/functions",Bw="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="auth-internal",E8="app-check-internal",T8="messaging-internal";function w8(t){const e=(n,{instanceIdentifier:i})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider(S8),u=n.getProvider(T8),h=n.getProvider(E8);return new b8(s,o,u,h,i)};bo(new ba(ck,e,"PUBLIC").setMultipleInstances(!0)),gr(Vw,Bw,t),gr(Vw,Bw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t=$v(),e=B0){const i=wm(Kt(t),ck).getImmediate({identifier:e}),s=KA("functions");return s&&A8(i,...s),i}function A8(t,e,n){_8(Kt(t),e,n)}w8();const N8={apiKey:`VITE_FIREBASE_API_KEY="AIzaSyBMJFl2hUQbL8gYi2NMtjPNGiDL3d7nDdk"
VITE_FIREBASE_AUTH_DOMAIN="hils-prod.firebaseapp.com"
VITE_FIREBASE_PROJECT_ID="hils-prod"
VITE_FIREBASE_STORAGE_BUCKET="hils-prod.firebasestorage.app"
VITE_FIREBASE_MESSAGING_SENDER_ID="691362782408"
VITE_FIREBASE_APP_ID="1:691362782408:web:963b5d79c08834dc3b19fd"
VITE_FIREBASE_MEASUREMENT_ID="G-1H2QFVTR9D"
VITE_GEMINI_API_KEY="AIzaSyBG3Fvjb3MJrXo8_wMaTZOBsPJQ0w7VOII"`,authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""},Lx=JA(N8),Bi=JB(Lx),jl=t8(Lx);C8(Lx);const R8=new is;function hk(t){return t.providerData.map(n=>n.providerId).includes("google.com")?"google":"email"}async function Uw(t){const e=Ol(jl,"users",t.uid);(await jx(e)).exists()||await hm(e,{uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,provider:hk(t),emailVerified:t.emailVerified,createdAt:Lw(),updatedAt:Lw()})}const ns={async signIn(t,e){return(await O6(Bi,t,e)).user},async signUp(t,e,n){const i=await P6(Bi,t,e);return await L6(i.user,{displayName:n}),await IT(i.user),await Uw(i.user),i.user},async signInWithGoogle(){const t=await oB(Bi,R8);return await Uw(t.user),t.user},async signOut(){await z6(Bi)},async resetPassword(t){await D6(Bi,t)},async sendVerificationEmail(){Bi.currentUser&&await IT(Bi.currentUser)},async refreshUser(){return Bi.currentUser?(await aN(Bi.currentUser),Bi.currentUser):null},getProvider(t){return hk(t)},onAuthChange(t){return U6(Bi,t)}};function zw(t){return{uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified,provider:ns.getProvider(t)}}const di=eu(t=>({user:null,isLoading:!0,isAuthenticated:!1,error:null,resetEmailSent:!1,login:async(e,n)=>{t({isLoading:!0,error:null});try{await ns.signIn(e,n)}catch(i){const s=i instanceof Error?i.message:"Login failed";t({error:s,isLoading:!1})}},signup:async(e,n,i)=>{t({isLoading:!0,error:null});try{await ns.signUp(e,n,i)}catch(s){const o=s instanceof Error?s.message:"Signup failed";t({error:o,isLoading:!1})}},loginWithGoogle:async()=>{t({isLoading:!0,error:null});try{await ns.signInWithGoogle()}catch(e){const n=e instanceof Error?e.message:"Google sign-in failed";t({error:n,isLoading:!1})}},logout:async()=>{try{await ns.signOut(),t({user:null,isAuthenticated:!1})}catch(e){const n=e instanceof Error?e.message:"Logout failed";t({error:n})}},resetPassword:async e=>{t({isLoading:!0,error:null,resetEmailSent:!1});try{await ns.resetPassword(e),t({isLoading:!1,resetEmailSent:!0})}catch{t({isLoading:!1,resetEmailSent:!0})}},sendVerificationEmail:async()=>{try{await ns.sendVerificationEmail()}catch(e){const n=e instanceof Error?e.message:"Failed to send verification email";t({error:n})}},refreshVerificationStatus:async()=>{try{const e=await ns.refreshUser();e&&t({user:zw(e)})}catch(e){const n=e instanceof Error?e.message:"Failed to refresh status";t({error:n})}},clearError:()=>t({error:null,resetEmailSent:!1}),initAuthListener:()=>ns.onAuthChange(n=>{t(n?{user:zw(n),isAuthenticated:!0,isLoading:!1}:{user:null,isAuthenticated:!1,isLoading:!1})})}));function k8(){const t=P.useRef(null);return P.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;let i;const s=[],o=60,u=()=>{e.width=e.offsetWidth*window.devicePixelRatio,e.height=e.offsetHeight*window.devicePixelRatio,n.scale(window.devicePixelRatio,window.devicePixelRatio)};u(),window.addEventListener("resize",u);for(let d=0;d<o;d++)s.push({x:Math.random()*e.offsetWidth,y:Math.random()*e.offsetHeight,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3,size:Math.random()*2+.5,opacity:Math.random()*.4+.1});const h=()=>{n.clearRect(0,0,e.offsetWidth,e.offsetHeight),s.forEach((d,f)=>{d.x+=d.vx,d.y+=d.vy,(d.x<0||d.x>e.offsetWidth)&&(d.vx*=-1),(d.y<0||d.y>e.offsetHeight)&&(d.vy*=-1),n.beginPath(),n.arc(d.x,d.y,d.size,0,Math.PI*2),n.fillStyle=`rgba(255, 255, 255, ${d.opacity})`,n.fill();for(let g=f+1;g<s.length;g++){const x=s[g],b=d.x-x.x,S=d.y-x.y,C=Math.sqrt(b*b+S*S);C<120&&(n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(x.x,x.y),n.strokeStyle=`rgba(255, 255, 255, ${.08*(1-C/120)})`,n.lineWidth=.5,n.stroke())}}),i=requestAnimationFrame(h)};return h(),()=>{cancelAnimationFrame(i),window.removeEventListener("resize",u)}},[]),y.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full pointer-events-none",style:{opacity:.7}})}function I8({end:t,suffix:e="",label:n,duration:i=2}){const[s,o]=P.useState(0),u=P.useRef(null),h=IA(u,{once:!0,margin:"-50px"});return P.useEffect(()=>{if(!h)return;let d=null;const f=g=>{d||(d=g);const x=Math.min((g-d)/(i*1e3),1),b=1-Math.pow(1-x,3);o(Math.floor(b*t)),x<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[h,t,i]),y.jsxs(qe.div,{ref:u,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-center",children:[y.jsxs("p",{className:"text-4xl md:text-5xl font-bold text-white",children:[s,e]}),y.jsx("p",{className:"text-sm text-hils-text-muted mt-2",children:n})]})}const M8={stiffness:80,damping:24,mass:.6};function D8(){return y.jsxs("div",{className:"w-full h-full bg-[#0a0a0a] rounded-lg p-3 sm:p-4 flex flex-col text-white overflow-hidden select-none",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider",children:"Subject"}),y.jsx("h3",{className:"text-xs sm:text-sm font-bold",children:"Basic Electrical Engineering"})]}),y.jsx("div",{className:"px-2 py-0.5 rounded-full bg-white/[0.08] border border-white/[0.12]",children:y.jsx("span",{className:"text-[9px] font-semibold text-[#CFCFCF]",children:"Exam Mode"})})]}),y.jsxs("div",{className:"flex-1 grid grid-cols-5 gap-2 min-h-0",children:[y.jsxs("div",{className:"col-span-3 space-y-1.5 overflow-hidden",children:[y.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider",children:"Modules"}),[{name:"Ohm's Law",status:"done"},{name:"Kirchhoff's Law",status:"done"},{name:"AC Circuits",status:"progress"},{name:"Power Factor",status:"pending"}].map(t=>y.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-md text-[10px] ${t.status==="done"?"bg-emerald-500/10 border border-emerald-500/20":t.status==="progress"?"bg-white/[0.06] border border-white/[0.1]":"bg-white/[0.03] border border-white/[0.06]"}`,children:[t.status==="done"?y.jsx(Ri,{className:"w-3 h-3 text-emerald-400 flex-shrink-0"}):t.status==="progress"?y.jsx(OA,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}):y.jsx(PA,{className:"w-3 h-3 text-gray-600 flex-shrink-0"}),y.jsx("span",{className:t.status==="done"?"text-emerald-300":t.status==="progress"?"text-gray-300":"text-gray-500",children:t.name}),t.status==="done"&&y.jsx("span",{className:"ml-auto text-[8px] text-emerald-500",children:""})]},t.name))]}),y.jsxs("div",{className:"col-span-2 space-y-2 overflow-hidden",children:[y.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider",children:"Readiness"}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("div",{className:"relative w-14 h-14 sm:w-16 sm:h-16",children:[y.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full -rotate-90",children:[y.jsx("circle",{cx:"18",cy:"18",r:"15.9",fill:"none",stroke:"#1e1e1e",strokeWidth:"2.5"}),y.jsx("circle",{cx:"18",cy:"18",r:"15.9",fill:"none",stroke:"url(#prog-g)",strokeWidth:"2.5",strokeDasharray:"100",strokeDashoffset:"22",strokeLinecap:"round"}),y.jsx("defs",{children:y.jsxs("linearGradient",{id:"prog-g",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[y.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),y.jsx("stop",{offset:"100%",stopColor:"#22c55e"})]})})]}),y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("span",{className:"text-xs sm:text-sm font-black text-white",children:"78%"})})]}),y.jsx("span",{className:"text-[8px] text-gray-500 mt-0.5",children:"Exam Ready"})]}),y.jsxs("div",{className:"px-1.5 py-1 rounded-md bg-white/[0.03] border border-white/[0.06]",children:[y.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[y.jsx(Gj,{className:"w-2.5 h-2.5 text-gray-400"}),y.jsx("span",{className:"text-[8px] text-gray-400",children:"Confidence"})]}),y.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(t=>y.jsx("div",{className:`h-1 flex-1 rounded-full ${t<=3?"bg-white/40":t===4?"bg-white/20":"bg-white/10"}`},t))}),y.jsx("span",{className:"text-[8px] text-gray-400 block",children:"Medium  High"})]})]})]}),y.jsxs("div",{className:"mt-2 pt-2 border-t border-white/[0.06] flex items-center gap-1.5",children:[y.jsx("div",{className:"w-4 h-4 rounded bg-white/[0.08] flex items-center justify-center text-[8px]",children:""}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] text-gray-500",children:"Active Persona"}),y.jsx("p",{className:"text-[9px] font-semibold text-gray-300",children:"Strict IIT Mentor  Exam Mode"})]})]})]})}function P8(){const t=P.useRef(null),{scrollYProgress:e}=uj({target:t,offset:["start end","end start"]}),n=cj(e,M8),i=of(n,[.1,.4,.7],[6,0,-2]),s=of(n,[.1,.5,.7],[-2,0,1.5]),o=of(n,[.1,.4,.7],[.94,1,1.01]),u=of(n,[.1,.4,.7],[40,0,-10]);return y.jsxs("section",{ref:t,className:"relative py-16 sm:py-20 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 pointer-events-none",children:y.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[350px] bg-white/[0.03] rounded-full blur-[120px]"})}),y.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative",children:[y.jsxs("div",{className:"text-center mb-14 sm:mb-16",children:[y.jsx(qe.p,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-40px"},transition:{duration:.5},className:"text-gray-400 text-xs sm:text-sm font-semibold uppercase tracking-widest mb-4",children:"Your Exam Buddy When Panic Hits"}),y.jsxs(qe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-40px"},transition:{duration:.5,delay:.08},className:"text-3xl sm:text-4xl md:text-5xl font-extrabold text-white leading-tight mb-4",children:["Studying One Night",y.jsx("br",{}),y.jsx("span",{className:"text-white",children:"Before the Exam?"})]}),y.jsxs(qe.p,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-40px"},transition:{duration:.5,delay:.16},className:"text-gray-400 text-sm sm:text-base md:text-lg max-w-xl mx-auto leading-relaxed",children:["Modules everywhere. Notes scattered. Zero clarity.",y.jsx("br",{className:"hidden sm:inline"}),"You don't know which AI tool to trust or if you've covered enough."]})]}),y.jsxs(qe.div,{style:{rotateX:i,rotateY:s,scale:o,y:u},className:"relative mx-auto max-w-[680px]",children:[y.jsx("div",{style:{perspective:1200},children:y.jsxs("div",{className:"relative w-full rounded-2xl sm:rounded-3xl overflow-hidden border border-white/[0.08]",style:{background:"linear-gradient(145deg, #111111 0%, #0a0a0a 100%)",boxShadow:`
                                    0 0 0 1px rgba(255,255,255,0.04),
                                    0 20px 40px -10px rgba(0,0,0,0.7),
                                    0 0 60px rgba(255,255,255,0.03),
                                    inset 0 1px 0 rgba(255,255,255,0.05)
                                `},children:[y.jsx("div",{className:"flex items-center justify-center py-1.5",children:y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white/10"})}),y.jsx("div",{className:"mx-2 sm:mx-3 mb-2 sm:mb-3 rounded-lg sm:rounded-xl overflow-hidden aspect-[16/10]",children:y.jsx(D8,{})})]})}),y.jsx("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 w-2/3 h-6 rounded-full blur-xl",style:{background:"radial-gradient(ellipse, rgba(255,255,255,0.06), transparent)"}})]}),y.jsxs("div",{className:"text-center mt-14 sm:mt-16",children:[y.jsx(qe.p,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-40px"},transition:{duration:.5},className:"text-gray-500 text-xs sm:text-sm mb-3",children:"HILS gives you a structured checklist. Complete modules. Track concepts. Enter exams with confidence."}),y.jsxs(qe.h3,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-40px"},transition:{duration:.5,delay:.08},className:"text-xl sm:text-2xl md:text-3xl font-extrabold text-white mb-5",children:["Stop Guessing."," ",y.jsx("span",{className:"text-white",children:"Start Checking."})]}),y.jsx(qe.div,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-40px"},transition:{duration:.5,delay:.16},children:y.jsxs(ln,{to:"/login",className:"group inline-flex items-center gap-2 px-7 py-3 bg-white text-black font-semibold rounded-xl transition-all duration-200 hover:shadow-[0_0_25px_rgba(255,255,255,0.12)] hover:scale-[1.02] active:scale-[0.98]",children:[y.jsx(BA,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"}),"Login & Start Preparing"]})})]})]})]})}function lr({children:t,className:e="",delay:n=0}){const i=P.useRef(null),s=IA(i,{once:!0,margin:"-60px"});return y.jsx(qe.div,{ref:i,initial:{opacity:0,y:30},animate:s?{opacity:1,y:0}:{},transition:{duration:.6,delay:n,ease:"easeOut"},className:e,children:t})}const ky=["Understanding Concepts.","Thinking Clearly.","Writing Confidently.","Solving Systematically.","Scoring Strategically."];function O8(){const[t,e]=P.useState(0);return P.useEffect(()=>{const n=setInterval(()=>{e(i=>(i+1)%ky.length)},3e3);return()=>clearInterval(n)},[]),y.jsx("span",{className:"inline-block relative pb-3",style:{minWidth:"9.5em",lineHeight:1.4},children:y.jsx(hh,{mode:"wait",children:y.jsx(qe.span,{initial:{opacity:0,y:24},animate:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:15}},exit:{opacity:0,y:-18,transition:{duration:.25,ease:"easeIn"}},className:"inline-block text-white",children:ky[t]},ky[t])})})}function j8(){const{isAuthenticated:t,user:e}=di(),n=P.useRef(null),i=P.useRef(null),s=o=>{var u;(u=o.current)==null||u.scrollIntoView({behavior:"smooth"})};return y.jsxs("div",{className:"min-h-screen bg-hils-bg text-hils-text overflow-x-hidden",children:[y.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-hils-bg/60 backdrop-blur-xl border-b border-hils-border/50",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-16 flex items-center justify-between",children:[y.jsxs(ln,{to:"/",className:"flex items-center gap-2 group",children:[y.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center group-hover:shadow-lg group-hover:shadow-white/10 transition-all",children:y.jsx(Hi,{className:"w-4 h-4 text-black"})}),y.jsx("span",{className:"text-lg font-bold tracking-tight",children:"HILS"})]}),y.jsx("div",{className:"hidden md:flex items-center gap-1",children:[{label:"Home",action:()=>window.scrollTo({top:0,behavior:"smooth"})},{label:"Features",action:()=>s(n)},{label:"How It Works",action:()=>s(i)},{label:"Pricing",action:()=>{}},...t&&(e==null?void 0:e.emailVerified)!==!1?[{label:"Dashboard",action:null,to:"/dashboard"}]:[]].map(o=>o.to?y.jsx(ln,{to:o.to,className:"px-3 py-1.5 text-sm text-hils-text-muted hover:text-hils-text transition-colors rounded-md hover:bg-hils-card/50",children:o.label},o.label):y.jsx("button",{onClick:o.action??void 0,className:"px-3 py-1.5 text-sm text-hils-text-muted hover:text-hils-text transition-colors rounded-md hover:bg-hils-card/50",children:o.label},o.label))}),y.jsx("div",{children:t?y.jsxs(ln,{to:"/dashboard",className:"btn-primary text-sm flex items-center gap-1.5",children:["Dashboard ",y.jsx(kl,{className:"w-3.5 h-3.5"})]}):y.jsxs(ln,{to:"/login",className:"btn-primary text-sm flex items-center gap-1.5",children:["Login ",y.jsx(kl,{className:"w-3.5 h-3.5"})]})})]})}),y.jsxs("section",{className:"relative min-h-screen flex items-center pt-16",children:[y.jsx(k8,{}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/[0.02] via-transparent to-hils-bg pointer-events-none"}),y.jsx("div",{className:"absolute top-32 left-1/4 w-[500px] h-[500px] bg-white/[0.03] rounded-full blur-[120px] pointer-events-none"}),y.jsx("div",{className:"absolute bottom-32 right-1/4 w-[400px] h-[400px] bg-white/[0.02] rounded-full blur-[100px] pointer-events-none"}),y.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-20 grid lg:grid-cols-2 gap-12 items-center w-full",children:[y.jsx("div",{children:y.jsxs(qe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7},children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/[0.06] border border-white/[0.1] mb-6",children:[y.jsx(zv,{className:"w-3.5 h-3.5 text-[#CFCFCF]"}),y.jsx("span",{className:"text-xs font-medium text-[#CFCFCF]",children:"AI-Powered Learning"})]}),y.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight tracking-tight mb-6",children:["Master Your University"," ",y.jsx("span",{className:"text-white",children:"Concepts with AI"})]}),y.jsx("p",{className:"text-lg text-hils-text-muted leading-relaxed mb-8 max-w-lg",children:"Persona-driven learning. VTU-focused structure. Real-world explanations that actually stick."}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[y.jsxs(ln,{to:"/login",className:"btn-primary text-base px-8 py-3 flex items-center gap-2",children:["Start Learning Now ",y.jsx(kl,{className:"w-4 h-4"})]}),y.jsx("button",{onClick:()=>s(i),className:"btn-secondary text-base px-8 py-3",children:"See How It Works"})]})]})}),y.jsx(qe.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.8,delay:.3},className:"hidden lg:block",children:y.jsxs("div",{className:"glass-card p-6 max-w-md ml-auto animate-glow-pulse",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-hils-border/50",children:[y.jsxs("div",{className:"flex gap-1.5",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400/60"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400/60"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400/60"})]}),y.jsx("span",{className:"text-xs text-hils-text-dim font-mono",children:"topic/binary-search-trees"})]}),y.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y.jsx("span",{className:"text-lg",children:""}),y.jsx("span",{className:"text-sm font-medium text-[#CFCFCF]",children:"Prof. Clarity"}),y.jsx("span",{className:"badge ml-auto",children:"Explain Mode"})]}),y.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Binary Search Trees"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("div",{className:"h-2 bg-hils-border/40 rounded-full w-full"}),y.jsx("div",{className:"h-2 bg-hils-border/40 rounded-full w-11/12"}),y.jsx("div",{className:"h-2 bg-hils-border/40 rounded-full w-9/12"})]}),y.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:["Explanation","Analogy","Example","Summary"].map(o=>y.jsxs("div",{className:"px-3 py-2 rounded-lg bg-hils-surface/60 border border-hils-border/30",children:[y.jsx("p",{className:"text-[10px] text-[#CFCFCF] font-semibold uppercase tracking-wider",children:o}),y.jsx("div",{className:"h-1.5 bg-hils-border/30 rounded mt-1.5 w-3/4"})]},o))})]})})]})]}),y.jsx("section",{className:"py-24 relative",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[y.jsxs(lr,{className:"text-center mb-16",children:[y.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:["Engineering Education Is"," ",y.jsx("span",{className:"text-hils-danger",children:"Broken."})]}),y.jsx("p",{className:"text-hils-text-muted max-w-xl mx-auto",children:"Students are stuck in a system that does not adapt to how they learn."})]}),y.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{icon:OA,title:"Outdated Teaching",description:"Lectures have not evolved in decades. Slides from 2005, explanations from the textbook, zero engagement.",color:"text-red-400",bg:"bg-red-400/10",border:"border-red-400/20"},{icon:d0,title:"Memorization Without Understanding",description:"Students cram before exams and forget everything after. No real comprehension, no retention.",color:"text-orange-400",bg:"bg-orange-400/10",border:"border-orange-400/20"},{icon:Ij,title:"No Real-World Connection",description:"Theory stays in textbooks. Students graduate without knowing how concepts apply to real engineering.",color:"text-yellow-400",bg:"bg-yellow-400/10",border:"border-yellow-400/20"}].map((o,u)=>y.jsx(lr,{delay:u*.1,children:y.jsxs("div",{className:`glass-card-hover p-6 h-full border ${o.border}`,children:[y.jsx("div",{className:`p-2.5 rounded-xl ${o.bg} w-fit mb-4`,children:y.jsx(o.icon,{className:`w-5 h-5 ${o.color}`})}),y.jsx("h3",{className:"text-lg font-semibold mb-2",children:o.title}),y.jsx("p",{className:"text-sm text-hils-text-muted leading-relaxed",children:o.description})]})},o.title))})]})}),y.jsx(P8,{}),y.jsxs("section",{ref:n,className:"py-24 relative",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-white/[0.01] to-transparent pointer-events-none"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative",children:[y.jsxs(lr,{className:"text-center mb-16",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/[0.06] border border-white/[0.1] mb-4",children:[y.jsx(Rj,{className:"w-3.5 h-3.5 text-[#CFCFCF]"}),y.jsx("span",{className:"text-xs font-medium text-[#CFCFCF]",children:"The Solution"})]}),y.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:["An AI Academic"," ",y.jsx("span",{className:"text-white",children:"Operating System."})]}),y.jsx("p",{className:"text-hils-text-muted max-w-xl mx-auto",children:"HILS reimagines how engineering students learn  structured, persona-driven, and powered by AI."})]}),y.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[{icon:vy,title:"Persona-Based Teaching",desc:"5 unique AI teaching styles  from academic professor to exam strategist.",color:"text-white",bg:"bg-white/[0.06]"},{icon:Uv,title:"Mode Switching",desc:"Switch between Concept, Exam Prep, Deep Dive, and Summary modes instantly.",color:"text-blue-400",bg:"bg-blue-400/10"},{icon:_j,title:"Syllabus Navigation",desc:"Organized by University, Semester, Subject, Module, and Topic.",color:"text-emerald-400",bg:"bg-emerald-400/10"},{icon:jA,title:"Real-world Analogies",desc:"Every concept comes with relatable analogies that make it click.",color:"text-amber-400",bg:"bg-amber-400/10"},{icon:Tj,title:"Progress Tracking",desc:"Track every topic you have completed. Stay on top of your learning.",color:"text-cyan-400",bg:"bg-cyan-400/10"},{icon:Hj,title:"Exam-Ready Content",desc:"AI generates model exam questions and answers tailored to your syllabus.",color:"text-rose-400",bg:"bg-rose-400/10"}].map((o,u)=>y.jsx(lr,{delay:u*.08,children:y.jsxs("div",{className:"glass-card-hover p-5 h-full group",children:[y.jsx("div",{className:`p-2 rounded-lg ${o.bg} w-fit mb-3 group-hover:scale-110 transition-transform duration-200`,children:y.jsx(o.icon,{className:`w-5 h-5 ${o.color}`})}),y.jsx("h3",{className:"text-sm font-semibold mb-1.5",children:o.title}),y.jsx("p",{className:"text-xs text-hils-text-muted leading-relaxed",children:o.desc})]})},o.title))})]})]}),y.jsx("section",{ref:i,className:"py-24",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[y.jsxs(lr,{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"How It Works"}),y.jsx("p",{className:"text-hils-text-muted max-w-lg mx-auto",children:"Three steps to better learning."})]}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-8 relative",children:[y.jsx("div",{className:"hidden md:block absolute top-12 left-[16.67%] right-[16.67%] h-px bg-gradient-to-r from-white/0 via-white/[0.12] to-white/0"}),[{step:"01",icon:Dj,title:"Select Your Subject",desc:"Browse your university syllabus. Pick a semester, subject, and topic."},{step:"02",icon:jj,title:"Choose Your Persona",desc:"Learn from Prof. Clarity, Buddy Dev, Story Sage  whoever clicks for you."},{step:"03",icon:h0,title:"Learn with AI",desc:"Get structured explanations, analogies, examples, and exam questions."}].map((o,u)=>y.jsx(lr,{delay:u*.15,className:"relative",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-white/[0.06] border border-white/[0.1] flex items-center justify-center mb-5 relative z-10",children:y.jsx(o.icon,{className:"w-7 h-7 text-[#CFCFCF]"})}),y.jsxs("div",{className:"text-xs font-bold text-[#CFCFCF] tracking-widest mb-2",children:["STEP ",o.step]}),y.jsx("h3",{className:"text-lg font-semibold mb-2",children:o.title}),y.jsx("p",{className:"text-sm text-hils-text-muted leading-relaxed max-w-xs mx-auto",children:o.desc})]})},o.step))]})]})}),y.jsxs("section",{className:"py-24 relative",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-white/[0.01] to-transparent pointer-events-none"}),y.jsx("div",{className:"max-w-7xl mx-auto px-6",children:y.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[y.jsx(lr,{children:y.jsxs("div",{className:"glass-card p-6",children:[y.jsx("p",{className:"text-xs font-semibold text-hils-text-dim uppercase tracking-wider mb-4",children:"Active Persona"}),y.jsx("div",{className:"space-y-3",children:[{emoji:"",name:"Prof. Clarity",active:!1,style:"Academic & Precise"},{emoji:"",name:"Buddy Dev",active:!0,style:"Casual & Practical"},{emoji:"",name:"Story Sage",active:!1,style:"Narrative & Memorable"},{emoji:"",name:"Socra-Tech",active:!1,style:"Socratic Method"},{emoji:"",name:"Exam Ace",active:!1,style:"Exam Strategist"}].map(o=>y.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl transition-all duration-200 ${o.active?"bg-white/[0.06] border border-white/[0.12] shadow-sm shadow-white/[0.04]":"border border-transparent hover:bg-hils-surface/50"}`,children:[y.jsx("span",{className:"text-2xl",children:o.emoji}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium",children:o.name}),y.jsx("p",{className:"text-xs text-hils-text-dim",children:o.style})]}),o.active&&y.jsx("span",{className:"ml-auto badge",children:"Active"})]},o.name))})]})}),y.jsxs(lr,{delay:.2,children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/[0.06] border border-white/[0.1] mb-4",children:[y.jsx(vy,{className:"w-3.5 h-3.5 text-[#CFCFCF]"}),y.jsx("span",{className:"text-xs font-medium text-[#CFCFCF]",children:"Persona-Driven AI"})]}),y.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold mb-6 leading-tight",children:["Same Topic."," ",y.jsx("span",{className:"text-white",children:"Different Voice."})]}),y.jsx("div",{className:"space-y-4 mb-8",children:[{quote:"Teach me like a startup founder.",persona:"Buddy Dev"},{quote:"Explain it like I am 10.",persona:"Story Sage"},{quote:"Make it exam-ready.",persona:"Exam Ace"}].map(o=>y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(Hf,{className:"w-4 h-4 text-[#CFCFCF] mt-1 flex-shrink-0"}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-base font-medium italic text-hils-text",children:["",o.quote,""]}),y.jsxs("p",{className:"text-xs text-hils-text-dim mt-0.5",children:[" ",o.persona]})]})]},o.persona))}),y.jsx("p",{className:"text-sm text-hils-text-muted leading-relaxed",children:"HILS adapts its teaching style to match how you learn best. Every persona brings a unique approach to the same concept  making learning personal."})]})]})})]}),y.jsx("section",{className:"py-24",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[y.jsxs(lr,{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"Built for Serious Students"}),y.jsx("p",{className:"text-hils-text-muted",children:"Platform metrics that speak for themselves."})]}),y.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[{end:150,suffix:"+",label:"Topics Covered",icon:yo},{end:5,suffix:"",label:"AI Personas",icon:vy},{end:10,suffix:"+",label:"Universities (Roadmap)",icon:vo},{end:5e3,suffix:"+",label:"AI Explanations Ready",icon:h0}].map(o=>y.jsxs("div",{className:"glass-card p-6",children:[y.jsx("div",{className:"mx-auto w-10 h-10 rounded-xl bg-white/[0.06] flex items-center justify-center mb-3",children:y.jsx(o.icon,{className:"w-5 h-5 text-[#CFCFCF]"})}),y.jsx(I8,{end:o.end,suffix:o.suffix,label:o.label})]},o.label))})]})}),y.jsxs("section",{className:"py-24 relative",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-white/[0.02] to-transparent pointer-events-none"}),y.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[300px] bg-white/[0.04] rounded-full blur-[120px] pointer-events-none"}),y.jsx("div",{className:"max-w-3xl mx-auto px-6 text-center relative",children:y.jsxs(lr,{children:[y.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-snug mb-6",children:["Stop Memorizing. Start",y.jsx("br",{}),y.jsx("span",{className:"mt-3 inline-block",children:y.jsx(O8,{})})]}),y.jsx("p",{className:"text-lg text-hils-text-muted mb-8 max-w-lg mx-auto",children:"Join the next generation of engineering students who learn with structure, clarity, and AI."}),y.jsxs(ln,{to:"/login",className:"btn-primary text-base px-10 py-3.5 inline-flex items-center gap-2",children:[y.jsx(BA,{className:"w-5 h-5"}),"Login & Start Learning"]})]})})]}),y.jsxs("section",{className:"relative py-20 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:y.jsx("div",{className:"w-[800px] h-[300px] bg-white/[0.03] rounded-full blur-[120px]"})}),y.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 flex flex-col items-center",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("a",{href:"#",className:"w-9 h-9 rounded-lg bg-hils-surface/60 border border-hils-border/40 flex items-center justify-center text-hils-text-dim hover:text-white hover:border-white/[0.15] transition-all","aria-label":"GitHub",children:y.jsx(sT,{className:"w-4 h-4"})}),y.jsx("a",{href:"#",className:"w-9 h-9 rounded-lg bg-hils-surface/60 border border-hils-border/40 flex items-center justify-center text-hils-text-dim hover:text-hils-accent-light hover:border-hils-accent/30 transition-all","aria-label":"Contact",children:y.jsx(qf,{className:"w-4 h-4"})})]}),y.jsx("h2",{className:"text-[8rem] sm:text-[12rem] md:text-[16rem] lg:text-[20rem] font-black leading-none tracking-tighter select-none",style:{background:"linear-gradient(180deg, rgba(255,255,255,0.22) 0%, rgba(255,255,255,0.08) 50%, rgba(0,0,0,0) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},"aria-hidden":"true",children:"HILS"}),y.jsx("div",{className:"-mt-24 sm:-mt-32 md:-mt-40 lg:-mt-48 relative z-10",children:y.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-2xl bg-hils-bg border border-hils-border/60 flex items-center justify-center shadow-xl shadow-black/40",children:y.jsx(Hi,{className:"w-6 h-6 sm:w-7 sm:h-7 text-hils-text-dim"})})})]})]}),y.jsx("footer",{className:"border-t border-hils-border/50 pt-16 pb-8",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[y.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-10 mb-12",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx("div",{className:"w-7 h-7 bg-white rounded-lg flex items-center justify-center",children:y.jsx(Hi,{className:"w-3.5 h-3.5 text-black"})}),y.jsx("span",{className:"text-sm font-bold tracking-tight",children:"HILS"})]}),y.jsxs("p",{className:"text-xs text-hils-text-dim leading-relaxed mb-4",children:["Hybrid Integrated Learning System.",y.jsx("br",{}),"Built by engineers, for engineers."]}),y.jsx("div",{className:"flex gap-3",children:[{icon:Kj,href:"#"},{icon:Pj,href:"#"},{icon:sT,href:"#"}].map((o,u)=>y.jsx("a",{href:o.href,className:"w-8 h-8 rounded-lg bg-hils-surface border border-hils-border flex items-center justify-center text-hils-text-dim hover:text-white hover:border-white/[0.15] transition-all",children:y.jsx(o.icon,{className:"w-3.5 h-3.5"})},u))})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-semibold text-hils-text uppercase tracking-wider mb-4",children:"Product"}),y.jsx("ul",{className:"space-y-2.5",children:["Features","Roadmap","Pricing","Changelog"].map(o=>y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-sm text-hils-text-muted hover:text-hils-text transition-colors",children:o})},o))})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-semibold text-hils-text uppercase tracking-wider mb-4",children:"Resources"}),y.jsx("ul",{className:"space-y-2.5",children:["Documentation","VTU Syllabus","Support","API Reference"].map(o=>y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-sm text-hils-text-muted hover:text-hils-text transition-colors",children:o})},o))})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-semibold text-hils-text uppercase tracking-wider mb-4",children:"Company"}),y.jsx("ul",{className:"space-y-2.5",children:["About","Contact","Privacy Policy","Terms of Service"].map(o=>y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-sm text-hils-text-muted hover:text-hils-text transition-colors",children:o})},o))})]})]}),y.jsxs("div",{className:"border-t border-hils-border/50 pt-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[y.jsx("p",{className:"text-xs text-hils-text-dim",children:" 2026 HILS. All rights reserved."}),y.jsxs("p",{className:"text-xs text-hils-text-dim flex items-center gap-1",children:["Built with ",y.jsx(qf,{className:"w-3 h-3 text-[#CFCFCF]"})," by the HILS team"]})]})]})})]})}function L8(t,e,n){return Math.max(e,Math.min(n,t))}function Fw(t,e,n){return t+(e-t)*n}function V8({cx:t,cy:e,socketRx:n,socketRy:i,pupilR:s,maxOffset:o,targetX:u,targetY:h,color:d="#111"}){const f=P.useRef(null),g=P.useRef({x:0,y:0}),x=P.useRef(0),b=P.useCallback(()=>{const S=u-t,C=h-e,R=Math.atan2(C,S),D=Math.min(Math.sqrt(S*S+C*C),o*60)/(o*60),q=Math.cos(R)*o*D,L=Math.sin(R)*o*D;g.current.x=Fw(g.current.x,q,.12),g.current.y=Fw(g.current.y,L,.12),f.current&&(f.current.setAttribute("cx",String(t+g.current.x)),f.current.setAttribute("cy",String(e+g.current.y))),x.current=requestAnimationFrame(b)},[t,e,o,u,h]);return P.useEffect(()=>(x.current=requestAnimationFrame(b),()=>cancelAnimationFrame(x.current)),[b]),y.jsxs(y.Fragment,{children:[y.jsx("ellipse",{cx:t,cy:e,rx:n,ry:i,fill:"white"}),y.jsx("circle",{ref:f,cx:t,cy:e,r:s,fill:d})]})}const B8=[{id:"orb",shape:"circle",color:"#f87171",x:150,y:330,w:0,h:0,r:130,eyes:[{cx:120,cy:300,socketRx:12,socketRy:14,pupilR:6,maxOff:6},{cx:170,cy:300,socketRx:12,socketRy:14,pupilR:6,maxOff:6}],mouth:{cx:145,cy:350,type:"dot"}},{id:"blocky",shape:"tallRect",color:"#3f3f3f",x:200,y:120,w:120,h:270,eyes:[{cx:232,cy:210,socketRx:12,socketRy:15,pupilR:7,maxOff:6},{cx:280,cy:210,socketRx:12,socketRy:15,pupilR:7,maxOff:6}]},{id:"slim",shape:"tallRect",color:"#facc15",x:310,y:180,w:80,h:230,eyes:[{cx:332,cy:260,socketRx:9,socketRy:11,pupilR:5,maxOff:5},{cx:365,cy:260,socketRx:9,socketRy:11,pupilR:5,maxOff:5}],mouth:{cx:348,cy:300,type:"line"}},{id:"buddy",shape:"shortRect",color:"#22c55e",x:350,y:260,w:110,h:160,eyes:[{cx:382,cy:310,socketRx:8,socketRy:9,pupilR:4.5,maxOff:4},{cx:418,cy:310,socketRx:8,socketRy:9,pupilR:4.5,maxOff:4}],mouth:{cx:400,cy:348,type:"line"}}];function U8({mousePos:t,focusedField:e}){const n=P.useRef(null),s=P.useCallback(()=>{if(e)return{x:600,y:500};if(!n.current)return{x:250,y:250};const u=n.current.getBoundingClientRect(),h=(t.x-u.left)/u.width*500,d=(t.y-u.top)/u.height*500;return{x:h,y:d}},[t,e])(),o=P.useCallback(u=>{const h=s.x-u;return L8(h*.008,-3,3)},[s.x]);return y.jsxs("svg",{ref:n,viewBox:"0 0 550 520",className:"w-full h-full max-h-[650px]","aria-hidden":"true",children:[y.jsx("defs",{children:y.jsxs("radialGradient",{id:"bg-glow",cx:"50%",cy:"70%",r:"50%",children:[y.jsx("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:"0.04"}),y.jsx("stop",{offset:"100%",stopColor:"#000000",stopOpacity:"0"})]})}),y.jsx("rect",{x:"0",y:"0",width:"550",height:"520",fill:"url(#bg-glow)"}),y.jsx("ellipse",{cx:"280",cy:"470",rx:"200",ry:"22",fill:"white",opacity:"0.12"}),y.jsx("ellipse",{cx:"280",cy:"470",rx:"160",ry:"14",fill:"white",opacity:"0.06"}),B8.map(u=>{var g,x,b;const h=o(u.x+(u.w||0)/2),d=u.x+(u.w||0)/2,f=u.y+(u.h||0);return y.jsxs("g",{style:{transform:`rotate(${h}deg)`,transformOrigin:`${d}px ${f}px`,transition:"transform 0.3s ease-out"},children:[u.shape==="circle"&&y.jsx("circle",{cx:u.x,cy:u.y,r:u.r,fill:u.color}),(u.shape==="tallRect"||u.shape==="shortRect")&&y.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,rx:u.shape==="shortRect"?30:16,ry:u.shape==="shortRect"?30:16,fill:u.color}),u.shape==="roundRect"&&y.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,rx:24,ry:24,fill:u.color}),u.eyes.map((S,C)=>y.jsx(V8,{cx:S.cx,cy:S.cy,socketRx:S.socketRx,socketRy:S.socketRy,pupilR:S.pupilR,maxOffset:S.maxOff,targetX:s.x,targetY:s.y,color:"#111"},`${u.id}-eye-${C}`)),((g=u.mouth)==null?void 0:g.type)==="line"&&y.jsx("line",{x1:u.mouth.cx-10,y1:u.mouth.cy,x2:u.mouth.cx+10,y2:u.mouth.cy,stroke:"#111",strokeWidth:2,strokeLinecap:"round"}),((x=u.mouth)==null?void 0:x.type)==="dot"&&y.jsxs(y.Fragment,{children:[y.jsx("circle",{cx:u.mouth.cx-8,cy:u.mouth.cy,r:3,fill:"#111"}),y.jsx("circle",{cx:u.mouth.cx+8,cy:u.mouth.cy,r:3,fill:"#111"})]}),((b=u.mouth)==null?void 0:b.type)==="smile"&&y.jsx("path",{d:`M ${u.mouth.cx-8} ${u.mouth.cy} Q ${u.mouth.cx} ${u.mouth.cy+8} ${u.mouth.cx+8} ${u.mouth.cy}`,fill:"none",stroke:"#111",strokeWidth:2,strokeLinecap:"round"})]},u.id)})]})}function z8(){const[t,e]=P.useState(""),[n,i]=P.useState(""),[s,o]=P.useState({x:0,y:0}),[u,h]=P.useState(null),{login:d,loginWithGoogle:f,isLoading:g,error:x,clearError:b,isAuthenticated:S,user:C}=di(),R=Mi();P.useEffect(()=>{S&&C&&(C.provider==="email"&&!C.emailVerified?R("/verify-email",{replace:!0}):R("/dashboard",{replace:!0}))},[S,C,R]);const A=async L=>{L.preventDefault(),b(),await d(t,n)},D=async()=>{b(),await f()},q=P.useCallback(L=>{o({x:L.clientX,y:L.clientY})},[]);return y.jsxs("div",{className:"min-h-screen flex bg-black relative overflow-hidden",onMouseMove:q,children:[y.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:y.jsx("div",{className:"w-[500px] h-[500px] bg-white/[0.03] rounded-full blur-[120px]"})}),y.jsxs(ln,{to:"/",className:"absolute top-6 left-6 flex items-center gap-2 group z-10",children:[y.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center group-hover:shadow-lg group-hover:shadow-white/10 transition-all",children:y.jsx(Hi,{className:"w-4 h-4 text-black"})}),y.jsx("span",{className:"text-base font-bold tracking-tight text-white",children:"HILS"})]}),y.jsx("div",{className:"relative w-full max-w-lg px-8",children:y.jsx(U8,{mousePos:s,focusedField:u})})]}),y.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col bg-hils-surface min-h-screen",children:[y.jsx("div",{className:"p-6",children:y.jsxs(ln,{to:"/",className:"inline-flex items-center gap-1.5 text-sm text-hils-text-dim hover:text-white transition-colors",children:[y.jsx(Qc,{className:"w-4 h-4"}),"Back to Home"]})}),y.jsx("div",{className:"flex-1 flex items-center justify-center px-6 pb-12",children:y.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-sm",children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-6",children:[y.jsx("div",{className:"w-9 h-9 bg-white rounded-lg flex items-center justify-center",children:y.jsx(Hi,{className:"w-4 h-4 text-black"})}),y.jsx("span",{className:"text-lg font-bold tracking-tight text-white",children:"HILS"})]}),y.jsx("h1",{className:"text-2xl font-bold text-white mb-1.5",children:"Welcome back!"}),y.jsx("p",{className:"text-sm text-hils-text-muted",children:"Please enter your details"})]}),x&&y.jsx(qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-4 p-3 rounded-lg bg-hils-danger/10 border border-hils-danger/20 text-hils-danger text-sm",children:x}),y.jsxs("form",{onSubmit:A,className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-hils-text-muted mb-1.5",children:"Email"}),y.jsxs("div",{className:"relative",children:[y.jsx(zl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-hils-text-dim"}),y.jsx("input",{type:"email",value:t,onChange:L=>e(L.target.value),onFocus:()=>h("email"),onBlur:()=>h(null),className:"input-field pl-10",placeholder:"you@university.edu",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-hils-text-muted mb-1.5",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(LA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-hils-text-dim"}),y.jsx("input",{type:"password",value:n,onChange:L=>i(L.target.value),onFocus:()=>h("password"),onBlur:()=>h(null),className:"input-field pl-10",placeholder:"",required:!0})]})]}),y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-hils-border bg-hils-surface accent-hils-accent"}),y.jsx("span",{className:"text-hils-text-muted",children:"Remember for 30 days"})]}),y.jsx(ln,{to:"/forgot-password",className:"text-white hover:underline",children:"Forgot password?"})]}),y.jsx("button",{type:"submit",disabled:g,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-white text-black font-semibold rounded-lg transition-all duration-200 hover:bg-gray-200 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:g?y.jsx("div",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}):y.jsxs(y.Fragment,{children:[y.jsx(Oj,{className:"w-4 h-4"}),"Log In"]})})]}),y.jsxs("button",{type:"button",onClick:D,disabled:g,className:"mt-3 w-full flex items-center justify-center gap-3 px-6 py-3 bg-transparent border border-hils-border text-white font-medium rounded-lg transition-all duration-200 hover:bg-hils-card hover:border-white/30 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Log in with Google"]}),y.jsxs("div",{className:"mt-6 text-center",children:[y.jsx("span",{className:"text-hils-text-dim text-sm",children:"Don't have an account? "}),y.jsx(ln,{to:"/signup",className:"text-white text-sm font-semibold hover:underline",children:"Sign Up"})]})]})})]})]})}function F8(){const[t,e]=P.useState(""),[n,i]=P.useState(""),[s,o]=P.useState(""),{signup:u,loginWithGoogle:h,isLoading:d,error:f,clearError:g,isAuthenticated:x,user:b}=di(),S=Mi();P.useEffect(()=>{x&&b&&(b.provider==="email"&&!b.emailVerified?S("/verify-email",{replace:!0}):S("/dashboard",{replace:!0}))},[x,b,S]);const C=async A=>{A.preventDefault(),g(),await u(n,s,t)},R=async()=>{g(),await h()};return y.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-hils-bg relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-1/4 -left-32 w-96 h-96 bg-white/[0.03] rounded-full blur-3xl"}),y.jsx("div",{className:"absolute bottom-1/4 -right-32 w-96 h-96 bg-white/[0.02] rounded-full blur-3xl"}),y.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md px-6",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsxs(qe.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.3},className:"inline-flex items-center gap-2 mb-4",children:[y.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center",children:y.jsx(Hi,{className:"w-5 h-5 text-black"})}),y.jsx("h1",{className:"text-2xl font-bold text-hils-text tracking-tight",children:"HILS"})]}),y.jsx("p",{className:"text-hils-text-muted text-sm",children:"Start your learning journey"})]}),y.jsxs("div",{className:"glass-card p-8",children:[y.jsx("h2",{className:"text-xl font-semibold text-hils-text mb-6",children:"Create account"}),f&&y.jsx(qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-4 p-3 rounded-lg bg-hils-danger/10 border border-hils-danger/20 text-hils-danger text-sm",children:f}),y.jsxs("button",{type:"button",onClick:R,disabled:d,className:`w-full flex items-center justify-center gap-3 px-6 py-2.5 bg-white text-gray-800
                       font-medium rounded-lg transition-all duration-200
                       hover:bg-gray-100 hover:shadow-md active:scale-[0.98]
                       disabled:opacity-50 disabled:cursor-not-allowed mb-6`,children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),y.jsxs("div",{className:"relative mb-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-hils-border"})}),y.jsx("div",{className:"relative flex justify-center text-xs",children:y.jsx("span",{className:"px-3 bg-hils-card text-hils-text-dim",children:"or register with email"})})]}),y.jsxs("form",{onSubmit:C,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-hils-text-muted mb-1.5",children:"Full Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(zA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-hils-text-dim"}),y.jsx("input",{type:"text",value:t,onChange:A=>e(A.target.value),className:"input-field pl-10",placeholder:"Your full name",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-hils-text-muted mb-1.5",children:"Email"}),y.jsxs("div",{className:"relative",children:[y.jsx(zl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-hils-text-dim"}),y.jsx("input",{type:"email",value:n,onChange:A=>i(A.target.value),className:"input-field pl-10",placeholder:"you@university.edu",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-hils-text-muted mb-1.5",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(LA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-hils-text-dim"}),y.jsx("input",{type:"password",value:s,onChange:A=>o(A.target.value),className:"input-field pl-10",placeholder:"Min 6 characters",minLength:6,required:!0})]})]}),y.jsx("button",{type:"submit",disabled:d,className:"btn-primary w-full flex items-center justify-center gap-2",children:d?y.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):y.jsxs(y.Fragment,{children:[y.jsx(Yj,{className:"w-4 h-4"}),"Create Account"]})})]}),y.jsxs("div",{className:"mt-6 text-center",children:[y.jsx("span",{className:"text-hils-text-dim text-sm",children:"Already have an account? "}),y.jsx(ln,{to:"/login",className:"text-white text-sm font-medium hover:underline",children:"Sign in"})]})]})]})]})}function H8(){const[t,e]=P.useState(""),[n,i]=P.useState(0),{resetPassword:s,isLoading:o,error:u,resetEmailSent:h,clearError:d}=di();P.useEffect(()=>{if(n<=0)return;const g=setTimeout(()=>i(x=>x-1),1e3);return()=>clearTimeout(g)},[n]),P.useEffect(()=>()=>d(),[d]);const f=async g=>{g.preventDefault(),!(n>0)&&(d(),await s(t),i(30))};return y.jsxs("div",{className:"min-h-screen flex bg-black relative overflow-hidden",children:[y.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:y.jsx("div",{className:"w-[500px] h-[500px] bg-white/[0.03] rounded-full blur-[120px]"})}),y.jsxs(ln,{to:"/",className:"absolute top-6 left-6 flex items-center gap-2 group z-10",children:[y.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center group-hover:shadow-lg group-hover:shadow-white/10 transition-all",children:y.jsx(Hi,{className:"w-4 h-4 text-black"})}),y.jsx("span",{className:"text-base font-bold tracking-tight text-white",children:"HILS"})]}),y.jsxs("div",{className:"relative flex flex-col items-center text-center px-12",children:[y.jsx("div",{className:"w-24 h-24 bg-white/[0.06] rounded-3xl flex items-center justify-center mb-8",children:y.jsx(zl,{className:"w-12 h-12 text-[#CFCFCF]"})}),y.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Reset Your Password"}),y.jsx("p",{className:"text-hils-text-muted max-w-sm",children:"Enter the email address associated with your account and we'll send you a link to reset your password."})]})]}),y.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col bg-hils-surface min-h-screen",children:[y.jsx("div",{className:"p-6",children:y.jsxs(ln,{to:"/login",className:"inline-flex items-center gap-1.5 text-sm text-hils-text-dim hover:text-white transition-colors",children:[y.jsx(Qc,{className:"w-4 h-4"}),"Back to Login"]})}),y.jsx("div",{className:"flex-1 flex items-center justify-center px-6 pb-12",children:y.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-sm",children:[y.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-6",children:[y.jsx("div",{className:"w-9 h-9 bg-white rounded-lg flex items-center justify-center",children:y.jsx(Hi,{className:"w-4 h-4 text-black"})}),y.jsx("span",{className:"text-lg font-bold tracking-tight text-white",children:"HILS"})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-white mb-1.5",children:"Forgot password?"}),y.jsx("p",{className:"text-sm text-hils-text-muted",children:"No worries, we'll send you a reset link."})]}),h?y.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:[y.jsxs("div",{className:"p-5 rounded-xl bg-hils-success/10 border border-hils-success/20 text-center",children:[y.jsx(Ri,{className:"w-10 h-10 text-hils-success mx-auto mb-3"}),y.jsx("p",{className:"text-sm text-hils-text font-medium mb-1",children:"Check your email"}),y.jsxs("p",{className:"text-xs text-hils-text-muted",children:["If an account exists for ",y.jsx("span",{className:"font-medium text-hils-text",children:t}),", we've sent a password reset link. Don't forget to check your spam folder."]})]}),y.jsx("button",{onClick:f,disabled:n>0||o,className:"w-full text-sm text-hils-text-muted hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n>0?`Resend available in ${n}s`:"Didn't receive it? Resend"}),y.jsx(ln,{to:"/login",className:"block text-center w-full px-6 py-3 bg-white text-black font-semibold rounded-lg transition-all duration-200 hover:bg-gray-200 active:scale-[0.98]",children:"Back to Login"})]}):y.jsxs(y.Fragment,{children:[u&&y.jsx(qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-4 p-3 rounded-lg bg-hils-danger/10 border border-hils-danger/20 text-hils-danger text-sm",children:u}),y.jsxs("form",{onSubmit:f,className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-hils-text-muted mb-1.5",children:"Email"}),y.jsxs("div",{className:"relative",children:[y.jsx(zl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-hils-text-dim"}),y.jsx("input",{type:"email",value:t,onChange:g=>e(g.target.value),className:"input-field pl-10",placeholder:"you@university.edu",required:!0,autoFocus:!0})]})]}),y.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-white text-black font-semibold rounded-lg transition-all duration-200 hover:bg-gray-200 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:o?y.jsx("div",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}):y.jsxs(y.Fragment,{children:[y.jsx(qf,{className:"w-4 h-4"}),"Send Reset Link"]})})]})]}),!h&&y.jsxs("div",{className:"mt-6 text-center",children:[y.jsx("span",{className:"text-hils-text-dim text-sm",children:"Remember your password? "}),y.jsx(ln,{to:"/login",className:"text-white text-sm font-semibold hover:underline",children:"Log In"})]})]})})]})]})}function q8(){const{user:t,sendVerificationEmail:e,refreshVerificationStatus:n,logout:i}=di(),s=Mi(),[o,u]=P.useState(!1),[h,d]=P.useState(!1),[f,g]=P.useState(null),x=async()=>{o||(g(null),await e(),g("Verification email sent! Check your inbox."),u(!0),setTimeout(()=>u(!1),6e4))},b=async()=>{d(!0),g(null),await n(),d(!1);const C=di.getState().user;C!=null&&C.emailVerified?(g("Email verified! Redirecting..."),setTimeout(()=>s("/dashboard"),1e3)):g("Email not yet verified. Please check your inbox.")},S=async()=>{await i(),s("/login")};return y.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-hils-bg relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-1/4 -left-32 w-96 h-96 bg-white/[0.03] rounded-full blur-3xl"}),y.jsx("div",{className:"absolute bottom-1/4 -right-32 w-96 h-96 bg-white/[0.02] rounded-full blur-3xl"}),y.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md px-6",children:[y.jsx("div",{className:"text-center mb-8",children:y.jsxs(qe.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.3},className:"inline-flex items-center gap-2 mb-4",children:[y.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center",children:y.jsx(Hi,{className:"w-5 h-5 text-black"})}),y.jsx("h1",{className:"text-2xl font-bold text-hils-text tracking-tight",children:"HILS"})]})}),y.jsxs("div",{className:"glass-card p-8 text-center",children:[y.jsx("div",{className:"mx-auto w-16 h-16 bg-white/[0.06] rounded-2xl flex items-center justify-center mb-6",children:y.jsx(zl,{className:"w-8 h-8 text-[#CFCFCF]"})}),y.jsx("h2",{className:"text-xl font-semibold text-hils-text mb-2",children:"Verify your email"}),y.jsx("p",{className:"text-sm text-hils-text-muted mb-1",children:"We've sent a verification link to"}),y.jsx("p",{className:"text-sm font-medium text-white mb-6",children:(t==null?void 0:t.email)??"your email"}),y.jsx("p",{className:"text-xs text-hils-text-dim mb-6 leading-relaxed",children:"Click the link in the email to verify your account. Once verified, click the button below to continue."}),f&&y.jsx(qe.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-lg text-sm ${f.includes("verified!")?"bg-hils-success/10 border border-hils-success/20 text-hils-success":f.includes("not yet")?"bg-hils-warning/10 border border-hils-warning/20 text-hils-warning":"bg-white/[0.06] border border-white/[0.1] text-[#CFCFCF]"}`,children:y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.includes("verified!")&&y.jsx(Ri,{className:"w-4 h-4"}),f]})}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("button",{onClick:b,disabled:h,className:"btn-primary w-full flex items-center justify-center gap-2",children:[y.jsx(Uj,{className:`w-4 h-4 ${h?"animate-spin":""}`}),h?"Checking...":"I've verified my email"]}),y.jsxs("button",{onClick:x,disabled:o,className:"btn-secondary w-full flex items-center justify-center gap-2",children:[y.jsx(qf,{className:"w-4 h-4"}),o?"Email sent (wait 60s)":"Resend verification email"]})]}),y.jsx("div",{className:"mt-6 pt-4 border-t border-hils-border",children:y.jsxs("button",{onClick:S,className:"text-hils-text-dim text-sm hover:text-hils-danger transition-colors flex items-center justify-center gap-1.5 mx-auto",children:[y.jsx(VA,{className:"w-3.5 h-3.5"}),"Sign out and use a different account"]})})]})]})]})}const zi={id:"vtu",name:"Visvesvaraya Technological University",shortName:"VTU",branches:[{id:"cse",name:"Computer Science & Engineering",shortName:"CSE",semesters:[{id:"vtu-2022-cse-sem3",number:3,schemeYear:"2022",subjects:[{id:"BCS301",name:"Mathematics for Computer Science",code:"BCS301",credits:4,modules:[{id:"BCS301-M1",name:"Propositional & Predicate Logic",moduleNumber:1,order:1,topics:[{id:"BCS301-M1-T1",name:"Propositional Logic",order:1,description:"Propositions, logical connectives, truth tables, tautologies, contradictions"},{id:"BCS301-M1-T2",name:"Equivalences and Inference",order:2,description:"Logical equivalence, laws of logic, rules of inference, valid arguments"},{id:"BCS301-M1-T3",name:"Predicates and Quantifiers",order:3,description:"Predicate logic, universal and existential quantifiers, nested quantifiers"},{id:"BCS301-M1-T4",name:"Proof Techniques",order:4,description:"Direct proof, proof by contrapositive, proof by contradiction, mathematical induction"}]},{id:"BCS301-M2",name:"Set Theory, Relations & Functions",moduleNumber:2,order:2,topics:[{id:"BCS301-M2-T1",name:"Set Theory",order:1,description:"Sets, subsets, power set, Cartesian product, Venn diagrams, set operations"},{id:"BCS301-M2-T2",name:"Relations",order:2,description:"Binary relations, properties of relations, equivalence relations, partial order"},{id:"BCS301-M2-T3",name:"Functions",order:3,description:"Types of functions, composition, inverse, floor and ceiling functions"},{id:"BCS301-M2-T4",name:"Sequences and Summations",order:4,description:"Sequences, geometric and arithmetic progressions, summation formulae"}]},{id:"BCS301-M3",name:"Algebraic Structures & Number Theory",moduleNumber:3,order:3,topics:[{id:"BCS301-M3-T1",name:"Groups",order:1,description:"Binary operations, semigroups, monoids, groups, subgroups, cyclic groups"},{id:"BCS301-M3-T2",name:"Rings and Fields",order:2,description:"Rings, integral domains, fields, homomorphisms"},{id:"BCS301-M3-T3",name:"Number Theory",order:3,description:"Divisibility, GCD, Euclidean algorithm, primes, modular arithmetic"},{id:"BCS301-M3-T4",name:"Cryptography Basics",order:4,description:"RSA, Fermat's theorem, Euler's theorem, applications in cryptography"}]},{id:"BCS301-M4",name:"Combinatorics",moduleNumber:4,order:4,topics:[{id:"BCS301-M4-T1",name:"Counting Principles",order:1,description:"Sum and product rules, permutations, combinations, binomial theorem"},{id:"BCS301-M4-T2",name:"Pigeonhole Principle",order:2,description:"Pigeonhole principle and applications, inclusion-exclusion principle"},{id:"BCS301-M4-T3",name:"Recurrence Relations",order:3,description:"Linear recurrence, solving recurrences, divide-and-conquer recurrences"},{id:"BCS301-M4-T4",name:"Generating Functions",order:4,description:"Generating functions, solving counting problems, exponential generating functions"}]},{id:"BCS301-M5",name:"Graph Theory",moduleNumber:5,order:5,topics:[{id:"BCS301-M5-T1",name:"Graphs and Representations",order:1,description:"Graph terminology, directed and undirected graphs, adjacency matrix/list"},{id:"BCS301-M5-T2",name:"Graph Connectivity",order:2,description:"Paths, cycles, connectivity, Euler and Hamiltonian paths/circuits"},{id:"BCS301-M5-T3",name:"Trees",order:3,description:"Trees, spanning trees, minimum spanning trees, binary trees"},{id:"BCS301-M5-T4",name:"Graph Coloring & Planarity",order:4,description:"Planar graphs, graph coloring, chromatic number, applications"}]}]},{id:"BCS302",name:"Digital Design & Computer Organization",code:"BCS302",credits:4,modules:[{id:"BCS302-M1",name:"Number Systems & Boolean Algebra",moduleNumber:1,order:1,topics:[{id:"BCS302-M1-T1",name:"Number Systems",order:1,description:"Binary, octal, hexadecimal; conversions, BCD, Gray code"},{id:"BCS302-M1-T2",name:"Boolean Algebra",order:2,description:"Boolean laws, De Morgan's theorems, canonical forms, SOP and POS"},{id:"BCS302-M1-T3",name:"Karnaugh Maps",order:3,description:"2, 3, 4 variable K-maps, grouping, minimization, don't care conditions"},{id:"BCS302-M1-T4",name:"Logic Gates",order:4,description:"Universal gates, NAND/NOR realizations, XOR/XNOR gates"}]},{id:"BCS302-M2",name:"Combinational Logic Circuits",moduleNumber:2,order:2,topics:[{id:"BCS302-M2-T1",name:"Adders and Subtractors",order:1,description:"Half adder, full adder, half subtractor, full subtractor, carry look-ahead adder"},{id:"BCS302-M2-T2",name:"Multiplexers & Demultiplexers",order:2,description:"MUX, DEMUX, implementation of Boolean functions using MUX"},{id:"BCS302-M2-T3",name:"Encoders & Decoders",order:3,description:"Priority encoder, BCD to 7-segment decoder, code converters"},{id:"BCS302-M2-T4",name:"Comparators & Code Converters",order:4,description:"Magnitude comparators, BCD adder, parity generators"}]},{id:"BCS302-M3",name:"Sequential Logic Circuits",moduleNumber:3,order:3,topics:[{id:"BCS302-M3-T1",name:"Flip-Flops",order:1,description:"SR, D, JK, T flip-flops; edge-triggered, master-slave configurations"},{id:"BCS302-M3-T2",name:"Registers",order:2,description:"Shift registers: SISO, SIPO, PISO, PIPO; universal shift register"},{id:"BCS302-M3-T3",name:"Counters",order:3,description:"Ripple counters, synchronous counters, modulus counters, ring and Johnson counters"},{id:"BCS302-M3-T4",name:"Finite State Machines",order:4,description:"Moore and Mealy machines, state diagrams, state tables, state minimization"}]},{id:"BCS302-M4",name:"Computer Organization",moduleNumber:4,order:4,topics:[{id:"BCS302-M4-T1",name:"Basic Computer Organization",order:1,description:"Functional units, bus structure, memory hierarchy, CPU registers"},{id:"BCS302-M4-T2",name:"Instruction Set & Addressing",order:2,description:"Instruction formats, addressing modes, instruction cycle, RTL"},{id:"BCS302-M4-T3",name:"ALU Design",order:3,description:"Fixed-point arithmetic: addition, subtraction, multiplication (Booth's), division"},{id:"BCS302-M4-T4",name:"Floating Point Arithmetic",order:4,description:"IEEE 754 standard, floating-point addition, subtraction, multiplication"}]},{id:"BCS302-M5",name:"Memory & I/O Organization",moduleNumber:5,order:5,topics:[{id:"BCS302-M5-T1",name:"Memory Organization",order:1,description:"RAM, ROM types, cache memory, mapping techniques, write policies"},{id:"BCS302-M5-T2",name:"Virtual Memory",order:2,description:"Paging, segmentation, TLB, page replacement algorithms"},{id:"BCS302-M5-T3",name:"I/O Organization",order:3,description:"I/O techniques: programmed, interrupt-driven, DMA, I/O interfaces"},{id:"BCS302-M5-T4",name:"Pipeline & Instruction Level Parallelism",order:4,description:"Pipelining stages, hazards, data forwarding, super-scalar architecture"}]}]},{id:"BCS303",name:"Operating Systems",code:"BCS303",credits:4,modules:[{id:"BCS303-M1",name:"Introduction to Operating Systems",moduleNumber:1,order:1,topics:[{id:"BCS303-M1-T1",name:"OS Overview",order:1,description:"OS definition, functions, types: batch, time-sharing, real-time, distributed OS"},{id:"BCS303-M1-T2",name:"OS Structures",order:2,description:"Monolithic, layered, microkernel, modular and virtual machine structures"},{id:"BCS303-M1-T3",name:"System Calls & Processes",order:3,description:"System calls, process concept, process states, PCB, process operations"},{id:"BCS303-M1-T4",name:"Threads",order:4,description:"Threads vs processes, multithreading models, Pthreads, Java threads"}]},{id:"BCS303-M2",name:"Process Scheduling & Synchronization",moduleNumber:2,order:2,topics:[{id:"BCS303-M2-T1",name:"CPU Scheduling",order:1,description:"Scheduling criteria, FCFS, SJF, Priority, Round Robin; multilevel queue scheduling"},{id:"BCS303-M2-T2",name:"Critical Section Problem",order:2,description:"Race conditions, critical section, Peterson's solution, hardware synchronization"},{id:"BCS303-M2-T3",name:"Semaphores & Mutexes",order:3,description:"Semaphore types, binary and counting; mutex locks; classical sync problems"},{id:"BCS303-M2-T4",name:"Monitors & Classic Problems",order:4,description:"Monitors, producer-consumer, readers-writers, dining philosophers problem"}]},{id:"BCS303-M3",name:"Deadlocks",moduleNumber:3,order:3,topics:[{id:"BCS303-M3-T1",name:"Deadlock Characterization",order:1,description:"Necessary conditions, resource allocation graph, deadlock in multi-threaded apps"},{id:"BCS303-M3-T2",name:"Deadlock Prevention & Avoidance",order:2,description:"Prevention strategies, Banker's algorithm, safe state concept"},{id:"BCS303-M3-T3",name:"Deadlock Detection & Recovery",order:3,description:"Detection algorithms, wait-for graph, recovery by preemption and rollback"}]},{id:"BCS303-M4",name:"Memory Management",moduleNumber:4,order:4,topics:[{id:"BCS303-M4-T1",name:"Memory Management Basics",order:1,description:"Contiguous allocation, fragmentation, compaction, paging, segmentation"},{id:"BCS303-M4-T2",name:"Virtual Memory",order:2,description:"Demand paging, page faults, page replacement algorithms: FIFO, Optimal, LRU"},{id:"BCS303-M4-T3",name:"Thrashing & Working Set",order:3,description:"Thrashing, working set model, page fault frequency, memory mapped files"}]},{id:"BCS303-M5",name:"File Systems & I/O Management",moduleNumber:5,order:5,topics:[{id:"BCS303-M5-T1",name:"File System Interface",order:1,description:"File concept, access methods, directory structures, protection, file sharing"},{id:"BCS303-M5-T2",name:"File System Implementation",order:2,description:"File allocation: contiguous, linked, indexed; inode, directory implementation"},{id:"BCS303-M5-T3",name:"I/O Systems",order:3,description:"I/O hardware, polling, interrupts, DMA, I/O scheduling: FCFS, SSTF, SCAN, C-SCAN"},{id:"BCS303-M5-T4",name:"Disk Management",order:4,description:"Disk structure, disk formatting, RAID levels, storage management"}]}]},{id:"BCS304",name:"Data Structures and Applications",code:"BCS304",credits:3,modules:[{id:"BCS304-M1",name:"Introduction to Data Structures",moduleNumber:1,order:1,topics:[{id:"BCS304-M1-T1",name:"Data Structures Overview",order:1,description:"Classifications: linear/non-linear, static/dynamic; abstract data types (ADT)"},{id:"BCS304-M1-T2",name:"Arrays",order:2,description:"Single and multidimensional arrays, address calculation, sparse matrices"},{id:"BCS304-M1-T3",name:"Structures and Pointers",order:3,description:"C structures, self-referential structures, pointer fundamentals, dynamic allocation"},{id:"BCS304-M1-T4",name:"Algorithm Complexity",order:4,description:"Time and space complexity, Big-O, Omega, Theta notation, best/worst/average case"}]},{id:"BCS304-M2",name:"Stacks & Queues",moduleNumber:2,order:2,topics:[{id:"BCS304-M2-T1",name:"Stack ADT",order:1,description:"Stack operations (push, pop, peek), array and linked list implementation"},{id:"BCS304-M2-T2",name:"Stack Applications",order:2,description:"Expression evaluation: infix to postfix/prefix conversion, balanced parentheses"},{id:"BCS304-M2-T3",name:"Queue ADT",order:3,description:"Queue operations, linear and circular queue, array and linked list implementation"},{id:"BCS304-M2-T4",name:"Queue Variants",order:4,description:"Double-ended queue (deque), priority queue, applications of queues"}]},{id:"BCS304-M3",name:"Linked Lists",moduleNumber:3,order:3,topics:[{id:"BCS304-M3-T1",name:"Singly Linked List",order:1,description:"Node structure, creation, traversal, insertion and deletion operations"},{id:"BCS304-M3-T2",name:"Doubly Linked List",order:2,description:"Two-pointer node, bidirectional traversal, insertion and deletion"},{id:"BCS304-M3-T3",name:"Circular Linked List",order:3,description:"Singly and doubly circular variants, traversal and operations"},{id:"BCS304-M3-T4",name:"Linked List Applications",order:4,description:"Polynomial representation, sparse matrix using linked list, stack/queue using linked list"}]},{id:"BCS304-M4",name:"Trees",moduleNumber:4,order:4,topics:[{id:"BCS304-M4-T1",name:"Binary Trees",order:1,description:"Terminology, properties, binary tree representation, tree traversals (in, pre, post, level)"},{id:"BCS304-M4-T2",name:"Binary Search Trees",order:2,description:"BST properties, search, insertion, deletion, BST traversal and applications"},{id:"BCS304-M4-T3",name:"AVL Trees",order:3,description:"Height-balanced BST, balance factor, rotations: LL, RR, LR, RL, insertion with rotations"},{id:"BCS304-M4-T4",name:"Heaps",order:4,description:"Min-heap, max-heap, heap operations, heapify, heap sort, priority queue using heap"}]},{id:"BCS304-M5",name:"Graphs, Sorting & Hashing",moduleNumber:5,order:5,topics:[{id:"BCS304-M5-T1",name:"Graphs",order:1,description:"Graph representation, BFS, DFS, connected components, topological sort"},{id:"BCS304-M5-T2",name:"Sorting Algorithms",order:2,description:"Bubble, selection, insertion, merge sort, quick sort; complexity comparison"},{id:"BCS304-M5-T3",name:"Hashing",order:3,description:"Hash functions, collision resolution: chaining, open addressing (linear probing, quadratic)"},{id:"BCS304-M5-T4",name:"Searching",order:4,description:"Linear search, binary search, interpolation search; search trees overview"}]}]},{id:"BCSL305",name:"Data Structures Lab",code:"BCSL305",credits:1,isLab:!0,modules:[{id:"BCSL305-M1",name:"Array & Stack Programs",moduleNumber:1,order:1,topics:[{id:"BCSL305-M1-T1",name:"Array Operations",order:1,description:"Programs on 1D/2D arrays, searching, sorting using arrays"},{id:"BCSL305-M1-T2",name:"Stack using Array",order:2,description:"Push, pop, peek; infix to postfix conversion program"}]},{id:"BCSL305-M2",name:"Queue & Linked List Programs",moduleNumber:2,order:2,topics:[{id:"BCSL305-M2-T1",name:"Queue Programs",order:1,description:"Linear queue, circular queue implementation in C"},{id:"BCSL305-M2-T2",name:"Linked List Programs",order:2,description:"Singly, doubly, circular linked list operations in C"}]},{id:"BCSL305-M3",name:"Tree & Graph Programs",moduleNumber:3,order:3,topics:[{id:"BCSL305-M3-T1",name:"BST Programs",order:1,description:"Insert, delete, search and traversals on BST"},{id:"BCSL305-M3-T2",name:"Graph Programs",order:2,description:"BFS and DFS implementation using adjacency matrix/list"}]},{id:"BCSL305-M4",name:"Sorting & Hashing Programs",moduleNumber:4,order:4,topics:[{id:"BCSL305-M4-T1",name:"Sorting Programs",order:1,description:"Bubble sort, merge sort, quick sort in C"},{id:"BCSL305-M4-T2",name:"Hashing Programs",order:2,description:"Hash table with chaining and linear probing in C"}]},{id:"BCSL305-M5",name:"Mini Project",moduleNumber:5,order:5,topics:[{id:"BCSL305-M5-T1",name:"Application Development",order:1,description:"Small application using data structures (student records, phone book, etc.)"}]}]},{id:"BCS306x",name:"Engineering Science Course (ESC) Elective",code:"BCS306x",credits:3,isElective:!0,modules:[{id:"BCS306x-M1",name:"Elective Module 1",moduleNumber:1,order:1,topics:[{id:"BCS306x-M1-T1",name:"ESC Elective Content (varies by choice)",order:1,description:"Content depends on chosen elective (e.g., Object Oriented Programming, Python, etc.)"}]},{id:"BCS306x-M2",name:"Elective Module 2",moduleNumber:2,order:2,topics:[{id:"BCS306x-M2-T1",name:"ESC Elective Module 2",order:1}]},{id:"BCS306x-M3",name:"Elective Module 3",moduleNumber:3,order:3,topics:[{id:"BCS306x-M3-T1",name:"ESC Elective Module 3",order:1}]},{id:"BCS306x-M4",name:"Elective Module 4",moduleNumber:4,order:4,topics:[{id:"BCS306x-M4-T1",name:"ESC Elective Module 4",order:1}]},{id:"BCS306x-M5",name:"Elective Module 5",moduleNumber:5,order:5,topics:[{id:"BCS306x-M5-T1",name:"ESC Elective Module 5",order:1}]}]},{id:"BSCK307",name:"Social Connect and Responsibility",code:"BSCK307",credits:1,modules:[{id:"BSCK307-M1",name:"Society and Engineering",moduleNumber:1,order:1,topics:[{id:"BSCK307-M1-T1",name:"Engineering and Society",order:1,description:"Role of engineers in society, social responsibility, ethical dimensions"}]},{id:"BSCK307-M2",name:"Community Engagement",moduleNumber:2,order:2,topics:[{id:"BSCK307-M2-T1",name:"Community Projects",order:1,description:"NSS, community outreach, project-based learning in social context"}]},{id:"BSCK307-M3",name:"Sustainability",moduleNumber:3,order:3,topics:[{id:"BSCK307-M3-T1",name:"Sustainable Development",order:1,description:"Sustainable development goals, environmental responsibility"}]},{id:"BSCK307-M4",name:"Professional Ethics",moduleNumber:4,order:4,topics:[{id:"BSCK307-M4-T1",name:"Ethics in Engineering",order:1,description:"Professional ethics, case studies, IPR basics"}]},{id:"BSCK307-M5",name:"Field Activity",moduleNumber:5,order:5,topics:[{id:"BSCK307-M5-T1",name:"Field Work & Report",order:1,description:"Community activity with report submission"}]}]},{id:"BCS358x",name:"Ability Enhancement Course (AEC) Elective",code:"BCS358x",credits:1,isElective:!0,modules:[{id:"BCS358x-M1",name:"AEC Module 1",moduleNumber:1,order:1,topics:[{id:"BCS358x-M1-T1",name:"AEC Elective Content",order:1,description:"Content depends on chosen AEC (e.g., Kannada, Sanskrit, French, etc.)"}]},{id:"BCS358x-M2",name:"AEC Module 2",moduleNumber:2,order:2,topics:[{id:"BCS358x-M2-T1",name:"AEC Module 2",order:1}]},{id:"BCS358x-M3",name:"AEC Module 3",moduleNumber:3,order:3,topics:[{id:"BCS358x-M3-T1",name:"AEC Module 3",order:1}]},{id:"BCS358x-M4",name:"AEC Module 4",moduleNumber:4,order:4,topics:[{id:"BCS358x-M4-T1",name:"AEC Module 4",order:1}]},{id:"BCS358x-M5",name:"AEC Module 5",moduleNumber:5,order:5,topics:[{id:"BCS358x-M5-T1",name:"AEC Module 5",order:1}]}]}]},{id:"vtu-2022-cse-sem4",number:4,schemeYear:"2022",subjects:[{id:"BCS401",name:"Analysis & Design of Algorithms",code:"BCS401",credits:4,modules:[{id:"BCS401-M1",name:"Introduction to Algorithms & Analysis",moduleNumber:1,order:1,topics:[{id:"BCS401-M1-T1",name:"Algorithm Analysis Basics",order:1,description:"Algorithm definition, pseudo-code, performance analysis, worst/best/average case"},{id:"BCS401-M1-T2",name:"Asymptotic Notations",order:2,description:"Big-O, Omega, Theta notations; properties and examples"},{id:"BCS401-M1-T3",name:"Recurrence Relations",order:3,description:"Substitution method, recursion tree, Master theorem and applications"},{id:"BCS401-M1-T4",name:"Searching & Sorting Analysis",order:4,description:"Analysis of binary search, merge sort, quick sort; decision trees and lower bounds"}]},{id:"BCS401-M2",name:"Divide and Conquer",moduleNumber:2,order:2,topics:[{id:"BCS401-M2-T1",name:"Divide and Conquer Strategy",order:1,description:"General method, control abstraction, finding max and min, merge sort"},{id:"BCS401-M2-T2",name:"Quick Sort",order:2,description:"Partition scheme, Lomuto/Hoare partition, randomized quick sort, complexity"},{id:"BCS401-M2-T3",name:"Strassen's Matrix Multiplication",order:3,description:"Matrix multiplication using D&C, Strassen's algorithm, complexity comparison"},{id:"BCS401-M2-T4",name:"Binary Search Tree Operations",order:4,description:"Optimal BST, D&C applications: closest pair of points, convex hull"}]},{id:"BCS401-M3",name:"Greedy Method",moduleNumber:3,order:3,topics:[{id:"BCS401-M3-T1",name:"Greedy Strategy",order:1,description:"General greedy approach, greedy choice property, optimal substructure"},{id:"BCS401-M3-T2",name:"Minimum Spanning Trees",order:2,description:"Kruskal's algorithm, Prim's algorithm, correctness proof, complexity"},{id:"BCS401-M3-T3",name:"Shortest Paths",order:3,description:"Dijkstra's algorithm, single-source shortest path, proof of correctness"},{id:"BCS401-M3-T4",name:"Huffman Coding & Activity Selection",order:4,description:"Huffman coding algorithm, activity selection problem, fractional knapsack"}]},{id:"BCS401-M4",name:"Dynamic Programming",moduleNumber:4,order:4,topics:[{id:"BCS401-M4-T1",name:"Dynamic Programming Concepts",order:1,description:"Principle of optimality, overlapping subproblems, memoization vs tabulation"},{id:"BCS401-M4-T2",name:"Matrix Chain Multiplication",order:2,description:"Optimal parenthesization, recurrence, DP table construction"},{id:"BCS401-M4-T3",name:"Longest Common Subsequence",order:3,description:"LCS problem, recurrence relation, DP table, reconstruction of LCS"},{id:"BCS401-M4-T4",name:"All Pairs Shortest Path & 0/1 Knapsack",order:4,description:"Floyd-Warshall algorithm, 0/1 knapsack DP solution, subset sum problem"}]},{id:"BCS401-M5",name:"Backtracking, Branch & Bound, NP-Completeness",moduleNumber:5,order:5,topics:[{id:"BCS401-M5-T1",name:"Backtracking",order:1,description:"General method, N-Queens problem, sum of subsets, graph coloring"},{id:"BCS401-M5-T2",name:"Branch and Bound",order:2,description:"LC search, FIFO/LIFO branch and bound, 0/1 knapsack, traveling salesman problem"},{id:"BCS401-M5-T3",name:"NP-Completeness",order:3,description:"P, NP, NP-Hard, NP-Complete classes, polynomial reducibility, Cook's theorem"},{id:"BCS401-M5-T4",name:"NP-Complete Problems",order:4,description:"Clique, vertex cover, Hamiltonian cycle, subset sum NP-complete proofs"}]}]},{id:"BCS402",name:"Microcontrollers",code:"BCS402",credits:4,modules:[{id:"BCS402-M1",name:"Introduction to 8051 Microcontroller",moduleNumber:1,order:1,topics:[{id:"BCS402-M1-T1",name:"8051 Architecture",order:1,description:"8051 internal architecture, CPU, memory organization, SFRs, I/O ports"},{id:"BCS402-M1-T2",name:"Memory & I/O",order:2,description:"Internal/external memory, program and data memory map, I/O port structure"},{id:"BCS402-M1-T3",name:"Timers & Counters",order:3,description:"Timer/Counter modes, TMOD, TCON registers, timer programming"},{id:"BCS402-M1-T4",name:"Serial Communication",order:4,description:"UART, serial port modes, SCON, SBUF, baud rate calculation"}]},{id:"BCS402-M2",name:"8051 Instruction Set & Programming",moduleNumber:2,order:2,topics:[{id:"BCS402-M2-T1",name:"Addressing Modes",order:1,description:"Immediate, register, direct, indirect, indexed addressing modes in 8051"},{id:"BCS402-M2-T2",name:"Data Transfer Instructions",order:2,description:"MOV, MOVX, MOVC; stack instructions; bit manipulation instructions"},{id:"BCS402-M2-T3",name:"Arithmetic & Logical Instructions",order:3,description:"ADD, SUBB, MUL, DIV; AND, OR, XOR, CPL; rotate and swap instructions"},{id:"BCS402-M2-T4",name:"Branch & Subroutine Instructions",order:4,description:"Jump, call, return instructions; loop programming; delay routines"}]},{id:"BCS402-M3",name:"8051 Interrupts",moduleNumber:3,order:3,topics:[{id:"BCS402-M3-T1",name:"Interrupt Structure",order:1,description:"8051 interrupt sources, IE and IP registers, interrupt enable/priority"},{id:"BCS402-M3-T2",name:"Interrupt Programming",order:2,description:"Writing ISRs, external interrupts INT0/INT1, timer interrupts, serial interrupt"},{id:"BCS402-M3-T3",name:"Interrupt Applications",order:3,description:"Interrupt-driven serial communication, multi-interrupt handling examples"}]},{id:"BCS402-M4",name:"Interfacing 8051 with Peripherals",moduleNumber:4,order:4,topics:[{id:"BCS402-M4-T1",name:"LED & 7-Segment Display",order:1,description:"LED interfacing, 7-segment display: static and multiplexed driving"},{id:"BCS402-M4-T2",name:"LCD & Keyboard",order:2,description:"LCD interfacing (4-bit and 8-bit), keyboard matrix scanning"},{id:"BCS402-M4-T3",name:"ADC & DAC",order:3,description:"ADC0808 interfacing, DAC0808 interfacing, analog signal processing"},{id:"BCS402-M4-T4",name:"Stepper Motor & Serial",order:4,description:"Stepper motor interfacing, DC motor control, MAX232 for RS232 communication"}]},{id:"BCS402-M5",name:"ARM Architecture & Embedded Systems",moduleNumber:5,order:5,topics:[{id:"BCS402-M5-T1",name:"ARM Architecture Overview",order:1,description:"ARM processor family, RISC features, ARM7TDMI, register set, operating modes"},{id:"BCS402-M5-T2",name:"ARM Instruction Set",order:2,description:"Data processing, load/store, branch instructions; Thumb instruction set"},{id:"BCS402-M5-T3",name:"Embedded System Design",order:3,description:"Embedded system characteristics, RTOS concepts, embedded C programming"},{id:"BCS402-M5-T4",name:"IoT & Applications",order:4,description:"IoT architecture, sensors/actuators interface, real-world embedded applications"}]}]},{id:"BCS403",name:"Database Management Systems",code:"BCS403",credits:4,modules:[{id:"BCS403-M1",name:"Introduction to DBMS & ER Model",moduleNumber:1,order:1,topics:[{id:"BCS403-M1-T1",name:"Database Concepts",order:1,description:"Database vs file system, DBMS advantages, data abstraction, instances vs schemas"},{id:"BCS403-M1-T2",name:"Database Architecture",order:2,description:"Three-schema architecture, data independence, DBMS components, DBA role"},{id:"BCS403-M1-T3",name:"Entity-Relationship Model",order:3,description:"Entities, attributes, relationships, ER diagram notation, cardinality, participation"},{id:"BCS403-M1-T4",name:"Extended ER & Mapping",order:4,description:"Weak entity, specialization, generalization, aggregation; ER to relational mapping"}]},{id:"BCS403-M2",name:"Relational Model & SQL",moduleNumber:2,order:2,topics:[{id:"BCS403-M2-T1",name:"Relational Model",order:1,description:"Relational schema, tuples, domains, keys (primary, foreign, candidate, super)"},{id:"BCS403-M2-T2",name:"Relational Algebra",order:2,description:"Select, project, join, union, intersection, difference, division operations"},{id:"BCS403-M2-T3",name:"SQL Basics",order:3,description:"DDL: CREATE, ALTER, DROP; DML: INSERT, UPDATE, DELETE; SELECT with WHERE, ORDER BY"},{id:"BCS403-M2-T4",name:"Advanced SQL",order:4,description:"Joins, aggregate functions, GROUP BY, HAVING, subqueries, views, assertions"}]},{id:"BCS403-M3",name:"Database Design & Normalization",moduleNumber:3,order:3,topics:[{id:"BCS403-M3-T1",name:"Functional Dependencies",order:1,description:"FD definition, Armstrong's axioms, attribute closure, canonical cover, lossless join"},{id:"BCS403-M3-T2",name:"Normal Forms",order:2,description:"1NF, 2NF, 3NF definitions with examples, anomalies and decomposition"},{id:"BCS403-M3-T3",name:"BCNF & Higher Normal Forms",order:3,description:"BCNF, 4NF, 5NF; multi-valued dependencies; decomposition algorithms"},{id:"BCS403-M3-T4",name:"Physical Design",order:4,description:"File organization: heap, sequential, hashed, clustered; indexing: B-tree, B+ tree"}]},{id:"BCS403-M4",name:"Transaction Management & Concurrency",moduleNumber:4,order:4,topics:[{id:"BCS403-M4-T1",name:"Transactions & ACID",order:1,description:"Transaction concept, ACID properties, transaction states, concurrent execution issues"},{id:"BCS403-M4-T2",name:"Serializability",order:2,description:"Conflict and view serializability, precedence graphs, testing serializability"},{id:"BCS403-M4-T3",name:"Concurrency Control",order:3,description:"Lock-based protocols: 2PL, strict 2PL; timestamp ordering; optimistic concurrency"},{id:"BCS403-M4-T4",name:"Deadlock in DBMS",order:4,description:"Deadlock prevention, detection and recovery in databases; wait-for graph"}]},{id:"BCS403-M5",name:"Recovery, NoSQL & Emerging Trends",moduleNumber:5,order:5,topics:[{id:"BCS403-M5-T1",name:"Recovery Systems",order:1,description:"Failure types, log-based recovery, undo/redo logging, checkpointing, ARIES"},{id:"BCS403-M5-T2",name:"Query Processing & Optimization",order:2,description:"Query processing steps, evaluation of relational algebra, query optimization heuristics"},{id:"BCS403-M5-T3",name:"NoSQL Databases",order:3,description:"NoSQL types: document, key-value, column-family, graph; MongoDB, CAP theorem"},{id:"BCS403-M5-T4",name:"Big Data & Distributed Databases",order:4,description:"Distributed DBMS, fragmentation, replication, big data concepts, Hadoop basics"}]}]},{id:"BCSL404",name:"Analysis & Design of Algorithms Lab",code:"BCSL404",credits:1,isLab:!0,modules:[{id:"BCSL404-M1",name:"Sorting & Searching Programs",moduleNumber:1,order:1,topics:[{id:"BCSL404-M1-T1",name:"Sorting Implementations",order:1,description:"Merge sort, quick sort with performance analysis in C/C++"},{id:"BCSL404-M1-T2",name:"Searching Programs",order:2,description:"Binary search, interpolation search with complexity verification"}]},{id:"BCSL404-M2",name:"Greedy Programs",moduleNumber:2,order:2,topics:[{id:"BCSL404-M2-T1",name:"Greedy Implementations",order:1,description:"Kruskal's, Prim's, Dijkstra's algorithm programs"}]},{id:"BCSL404-M3",name:"DP Programs",moduleNumber:3,order:3,topics:[{id:"BCSL404-M3-T1",name:"DP Implementations",order:1,description:"Matrix chain, LCS, Floyd-Warshall, 0/1 knapsack programs"}]},{id:"BCSL404-M4",name:"Backtracking Programs",moduleNumber:4,order:4,topics:[{id:"BCSL404-M4-T1",name:"Backtracking Implementations",order:1,description:"N-Queens, graph coloring, Hamiltonian cycle programs"}]},{id:"BCSL404-M5",name:"Mini Project",moduleNumber:5,order:5,topics:[{id:"BCSL404-M5-T1",name:"Algorithm Application",order:1,description:"Real-world application design using studied algorithms"}]}]},{id:"BCS405x",name:"Engineering Science Course (ESC) Elective",code:"BCS405x",credits:3,isElective:!0,modules:[{id:"BCS405x-M1",name:"ESC Elective Module 1",moduleNumber:1,order:1,topics:[{id:"BCS405x-M1-T1",name:"ESC Content",order:1,description:"Content depends on chosen ESC elective"}]},{id:"BCS405x-M2",name:"ESC Elective Module 2",moduleNumber:2,order:2,topics:[{id:"BCS405x-M2-T1",name:"ESC Module 2",order:1}]},{id:"BCS405x-M3",name:"ESC Elective Module 3",moduleNumber:3,order:3,topics:[{id:"BCS405x-M3-T1",name:"ESC Module 3",order:1}]},{id:"BCS405x-M4",name:"ESC Elective Module 4",moduleNumber:4,order:4,topics:[{id:"BCS405x-M4-T1",name:"ESC Module 4",order:1}]},{id:"BCS405x-M5",name:"ESC Elective Module 5",moduleNumber:5,order:5,topics:[{id:"BCS405x-M5-T1",name:"ESC Module 5",order:1}]}]},{id:"BCS456x",name:"Ability Enhancement Course (AEC) Elective",code:"BCS456x",credits:1,isElective:!0,modules:[{id:"BCS456x-M1",name:"AEC Module 1",moduleNumber:1,order:1,topics:[{id:"BCS456x-M1-T1",name:"AEC Content",order:1,description:"Content depends on chosen AEC"}]},{id:"BCS456x-M2",name:"AEC Module 2",moduleNumber:2,order:2,topics:[{id:"BCS456x-M2-T1",name:"AEC Module 2",order:1}]},{id:"BCS456x-M3",name:"AEC Module 3",moduleNumber:3,order:3,topics:[{id:"BCS456x-M3-T1",name:"AEC Module 3",order:1}]},{id:"BCS456x-M4",name:"AEC Module 4",moduleNumber:4,order:4,topics:[{id:"BCS456x-M4-T1",name:"AEC Module 4",order:1}]},{id:"BCS456x-M5",name:"AEC Module 5",moduleNumber:5,order:5,topics:[{id:"BCS456x-M5-T1",name:"AEC Module 5",order:1}]}]},{id:"BBOK407",name:"Biology For Engineers",code:"BBOK407",credits:3,modules:[{id:"BBOK407-M1",name:"Cell Biology",moduleNumber:1,order:1,topics:[{id:"BBOK407-M1-T1",name:"Cell Structure & Function",order:1,description:"Prokaryotic and eukaryotic cells, cell organelles, cell division"}]},{id:"BBOK407-M2",name:"Genetics & Evolution",moduleNumber:2,order:2,topics:[{id:"BBOK407-M2-T1",name:"Genetics Basics",order:1,description:"DNA, RNA, protein synthesis, Mendelian genetics, mutations"}]},{id:"BBOK407-M3",name:"Biomolecules",moduleNumber:3,order:3,topics:[{id:"BBOK407-M3-T1",name:"Biological Molecules",order:1,description:"Carbohydrates, lipids, proteins, nucleic acids and their engineering applications"}]},{id:"BBOK407-M4",name:"Biological Systems & Engineering",moduleNumber:4,order:4,topics:[{id:"BBOK407-M4-T1",name:"Bio-Inspired Engineering",order:1,description:"Biomimetics, biomedical devices, biosensors, bioinformatics basics"}]},{id:"BBOK407-M5",name:"Biotechnology Applications",moduleNumber:5,order:5,topics:[{id:"BBOK407-M5-T1",name:"Modern Biotechnology",order:1,description:"Recombinant DNA, CRISPR, drug delivery systems, bioinformatics for CS"}]}]},{id:"BUHK408",name:"Universal Human Values Course",code:"BUHK408",credits:1,modules:[{id:"BUHK408-M1",name:"Introduction to Human Values",moduleNumber:1,order:1,topics:[{id:"BUHK408-M1-T1",name:"Value Education Purpose",order:1,description:"Need for value-based living, self-exploration, happiness and prosperity"}]},{id:"BUHK408-M2",name:"Harmony in Human Beings",moduleNumber:2,order:2,topics:[{id:"BUHK408-M2-T1",name:"Self and Body Harmony",order:1,description:"Understanding self: needs, feelings, right understanding; harmony within"}]},{id:"BUHK408-M3",name:"Harmony in Family & Society",moduleNumber:3,order:3,topics:[{id:"BUHK408-M3-T1",name:"Relationships & Feelings",order:1,description:"Relationships based on values, universal human order, societal harmony"}]},{id:"BUHK408-M4",name:"Harmony with Nature",moduleNumber:4,order:4,topics:[{id:"BUHK408-M4-T1",name:"Ecological Balance",order:1,description:"Human being as part of nature, sustainable living, co-existence"}]},{id:"BUHK408-M5",name:"Professional Ethics",moduleNumber:5,order:5,topics:[{id:"BUHK408-M5-T1",name:"Ethics in Profession",order:1,description:"Natural acceptance, ethical conduct in professional life, case studies"}]}]}]}]}]},Vx=eu((t,e)=>({completedTopics:{},isLoading:!1,markComplete:(n,i,s)=>t(o=>({completedTopics:{...o.completedTopics,[n]:{topicId:n,completedAt:Date.now(),mode:i,personaUsed:s}}})),isTopicCompleted:n=>!!e().completedTopics[n],getCompletedCount:()=>Object.keys(e().completedTopics).length,loadProgress:()=>{t({isLoading:!1})}}));function G8(t){return t?t.universityId?{universityId:t.universityId,branchId:t.branchId,schemeId:t.schemeId,semester:t.semester??3,createdAt:t.createdAt??Date.now(),updatedAt:t.updatedAt??Date.now()}:t.university||t.branch||t.scheme?{universityId:t.university??"vtu",branchId:t.branch??"cse",schemeId:t.scheme??"2022",semester:t.currentSemester??3,createdAt:t.updatedAt??Date.now(),updatedAt:Date.now()}:null:null}const ou=eu((t,e)=>({profile:null,isLoading:!1,error:null,fetchProfile:async n=>{var i;t({isLoading:!0,error:null});try{const s=Ol(jl,"users",n),u=(i=(await jx(s)).data())==null?void 0:i.academicProfile,h=G8(u);h&&u&&!u.universityId&&await hm(s,{academicProfile:h},{merge:!0}),t({profile:h,isLoading:!1})}catch(s){t({error:s instanceof Error?s.message:"Failed to load profile",isLoading:!1})}},saveProfile:async(n,i)=>{t({isLoading:!0,error:null});try{const s=Date.now(),o={...i,createdAt:i.createdAt||s,updatedAt:s};await hm(Ol(jl,"users",n),{academicProfile:o},{merge:!0}),t({profile:o,isLoading:!1})}catch(s){t({error:s instanceof Error?s.message:"Failed to save profile",isLoading:!1})}},updateSemester:async(n,i)=>{const s=e().profile;if(!s)return;const o={...s,semester:i,updatedAt:Date.now()};t({profile:o});try{await p8(Ol(jl,"users",n),{"academicProfile.semester":i,"academicProfile.updatedAt":Date.now()})}catch(u){t({profile:s}),t({error:u instanceof Error?u.message:"Update failed"})}},clearProfile:()=>t({profile:null,error:null})}));function dk(t){if(!t)return{universityName:"Unknown University",universityShortName:"",branchName:"Unknown Branch",branchShortName:"",schemeName:""};const e=t.universityId===zi.id?zi:null,n=(e==null?void 0:e.name)??t.universityId,i=(e==null?void 0:e.shortName)??t.universityId.toUpperCase(),s=e==null?void 0:e.branches.find(d=>d.id===t.branchId),o=(s==null?void 0:s.name)??t.branchId,u=(s==null?void 0:s.shortName)??t.branchId.toUpperCase(),h=`${t.schemeId} Scheme`;return{universityName:n,universityShortName:i,branchName:o,branchShortName:u,schemeName:h}}function fk(t){if(!t)return null;const e=t.semester;for(const n of zi.branches){if(n.id!==t.branchId)continue;const i=n.semesters.find(s=>s.number===e);if(i)return i}for(const n of zi.branches){const i=n.semesters.find(s=>s.number===e);if(i)return i}return null}function $8({onDismiss:t,onSetup:e}){return y.jsx(qe.div,{initial:{opacity:0,y:16,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:8,scale:.97},transition:{duration:.25},className:"fixed bottom-6 right-6 z-50 w-80 glass-card border border-white/10 p-4 shadow-2xl",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/[0.08] flex items-center justify-center flex-shrink-0 mt-0.5",children:y.jsx(bj,{className:"w-4 h-4 text-hils-accent-light"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-semibold text-hils-text mb-0.5",children:"Create your academic profile"}),y.jsx("p",{className:"text-xs text-hils-text-muted leading-relaxed mb-3",children:"Set up your University, Branch & Scheme to unlock your personalised syllabus."}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:e,className:"flex-1 py-1.5 rounded-lg bg-white text-black text-xs font-semibold hover:bg-white/90 transition-colors",children:"Set Up Now"}),y.jsx("button",{onClick:t,className:"py-1.5 px-3 rounded-lg border border-hils-border text-hils-text-muted text-xs hover:text-hils-text transition-colors",children:"Later"})]})]}),y.jsx("button",{onClick:t,className:"p-0.5 hover:bg-white/[0.06] rounded transition-colors flex-shrink-0",children:y.jsx(FA,{className:"w-3.5 h-3.5 text-hils-text-dim"})})]})})}function K8({onSetup:t}){var i;const{user:e}=di(),n=((i=e==null?void 0:e.displayName)==null?void 0:i.split(" ")[0])??"Student";return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-6 text-center",children:y.jsxs(qe.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.4},children:[y.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-8",children:[y.jsx("div",{className:"absolute inset-0 rounded-full bg-white/5 blur-xl scale-150"}),y.jsx("div",{className:"relative w-20 h-20 rounded-2xl bg-hils-surface border border-hils-border flex items-center justify-center",children:y.jsx(Hi,{className:"w-8 h-8 text-hils-text"})})]}),y.jsxs("h1",{className:"text-3xl font-bold text-hils-text mb-2",children:["Welcome, ",n," "]}),y.jsx("p",{className:"text-hils-text-muted max-w-sm mx-auto mb-2 leading-relaxed",children:"HILS helps you master your VTU syllabus with AI-powered explanations."}),y.jsx("p",{className:"text-hils-text-dim text-sm mb-10",children:"Start by setting up your academic profile  takes less than 30 seconds."}),y.jsx("div",{className:"flex items-center justify-center gap-3 mb-10",children:[{label:"Subjects",value:"8+"},{label:"Modules",value:"40+"},{label:"AI Modes",value:"4"}].map(s=>y.jsxs("div",{className:"glass-card px-5 py-3 text-center",children:[y.jsx("p",{className:"text-xl font-bold text-hils-text",children:s.value}),y.jsx("p",{className:"text-xs text-hils-text-muted mt-0.5",children:s.label})]},s.label))}),y.jsxs("button",{onClick:t,className:"btn-primary inline-flex items-center gap-2 text-sm px-6 py-3",children:[y.jsx(vo,{className:"w-4 h-4"}),"Set Up Academic Profile",y.jsx(kl,{className:"w-4 h-4"})]}),y.jsx("p",{className:"text-xs text-hils-text-dim mt-4",children:"You can always change this later from your profile settings."})]})})}function mc(){const t=Mi(),{subjectCode:e,moduleId:n}=F2(),{profile:i,isLoading:s}=ou(),{isTopicCompleted:o,completedTopics:u}=Vx(),[h,d]=P.useState(null),[f,g]=P.useState(null),[x,b]=P.useState(!1),S=P.useMemo(()=>dk(i),[i]),C=P.useMemo(()=>fk(i),[i]);P.useEffect(()=>{if(C)if(e){const F=C.subjects.find(I=>I.code===e);if(F)if(d(F.id),n){const I=F.modules.find(w=>w.id===n);I&&g(I.id)}else g(null);else d(null),g(null)}else d(null),g(null)},[e,n,C]);const R=f?"topics":h?"modules":"subjects",A=!!i,D=!A&&!s&&!x,q=P.useMemo(()=>{const I=Object.values(u).sort((w,M)=>M.completedAt-w.completedAt)[0];if(!I)return null;for(const w of zi.branches)for(const M of w.semesters)for(const B of M.subjects)for(const V of B.modules){const U=V.topics.findIndex(j=>j.id===I.topicId);if(U!==-1){const fe=V.topics[U+1]??V.topics[U];return{subjectCode:B.code,module:V.name,topicName:fe.name,topicId:fe.id}}}return null},[u]),L=C==null?void 0:C.subjects.find(F=>F.id===h),ee=L==null?void 0:L.modules.find(F=>F.id===f),J=P.useMemo(()=>{const F=[{label:`Sem ${(i==null?void 0:i.semester)??3}`,onClick:()=>{d(null),g(null)}}];return L&&F.push({label:L.code,onClick:()=>g(null)}),ee&&F.push({label:`Module ${ee.moduleNumber}`,onClick:()=>{}}),F},[i,L,ee]);return y.jsxs("div",{className:"relative",children:[!A&&!s&&y.jsx(K8,{onSetup:()=>t("/setup")}),A&&y.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[q&&R==="subjects"&&y.jsxs(qe.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},className:"mb-6 glass-card p-4 flex items-center justify-between gap-3 border border-white/10 group cursor-pointer",onClick:()=>t(`/topic/${q.topicId}`),children:[y.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[y.jsx("div",{className:"p-2 rounded-lg bg-white/[0.06] flex-shrink-0",children:y.jsx(zv,{className:"w-4 h-4 text-hils-accent-light"})}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"text-xs text-hils-text-muted mb-0.5",children:"Continue where you left off"}),y.jsx("p",{className:"text-sm font-semibold text-hils-text truncate",children:q.topicName}),y.jsxs("p",{className:"text-xs text-hils-text-dim truncate",children:[q.subjectCode,"  ",q.module]})]})]}),y.jsx(kl,{className:"w-4 h-4 text-hils-text-dim group-hover:text-hils-accent-light transition-colors flex-shrink-0"})]}),y.jsxs("div",{className:"mb-6",children:[R==="subjects"&&y.jsxs("div",{className:"mb-2",children:[y.jsx("h1",{className:"text-2xl font-bold text-hils-text",children:S.branchName}),y.jsxs("p",{className:"text-sm text-hils-text-muted mt-0.5",children:[S.universityShortName,"  ",S.schemeName,"  Semester ",i==null?void 0:i.semester]})]}),y.jsx("div",{className:"flex items-center gap-1.5 text-sm",children:J.map((F,I)=>y.jsxs("span",{className:"flex items-center gap-1.5",children:[I>0&&y.jsx(Hf,{className:"w-3.5 h-3.5 text-hils-text-dim"}),y.jsx("button",{onClick:F.onClick,className:`hover:text-hils-accent-light transition-colors ${I===J.length-1?"text-hils-text font-medium":"text-hils-text-muted"}`,children:F.label})]},I))})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[R==="subjects"&&(C==null?void 0:C.subjects.map((F,I)=>{const w=F.modules.reduce((V,U)=>V+U.topics.length,0),M=F.modules.reduce((V,U)=>V+U.topics.filter(j=>o(j.id)).length,0),B=w>0?Math.round(M/w*100):0;return y.jsxs(qe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:I*.04},onClick:()=>d(F.id),className:"glass-card-hover p-5 text-left group",children:[y.jsxs("div",{className:"flex items-start justify-between mb-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-hils-accent/10",children:y.jsx(yo,{className:"w-4 h-4 text-hils-accent-light"})}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[F.isElective&&y.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-white/[0.06] text-hils-text-dim border border-hils-border",children:"Elective"}),F.isLab&&y.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-white/[0.06] text-hils-text-dim border border-hils-border",children:"Lab"}),y.jsx("span",{className:"badge",children:F.code})]})]}),y.jsx("h3",{className:"text-sm font-semibold text-hils-text mb-0.5 leading-snug",children:F.name}),y.jsxs("p",{className:"text-xs text-hils-text-muted mb-3",children:[F.credits," credits  ",F.modules.length," modules  ",w," topics"]}),y.jsx("div",{className:"w-full h-1 bg-hils-border rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-hils-success rounded-full transition-all duration-500",style:{width:`${B}%`}})}),y.jsxs("p",{className:"text-[10px] text-hils-text-dim mt-1",children:[B,"% complete"]})]},F.id)})),R==="modules"&&(L==null?void 0:L.modules.map((F,I)=>{const w=F.topics.filter(M=>o(M.id)).length;return y.jsxs(qe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:I*.05},onClick:()=>g(F.id),className:"glass-card-hover p-5 text-left group",children:[y.jsxs("div",{className:"flex items-start justify-between mb-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-hils-accent/10",children:y.jsx(Uv,{className:"w-4 h-4 text-hils-accent-light"})}),y.jsxs("span",{className:"text-xs text-hils-text-dim",children:[w,"/",F.topics.length]})]}),y.jsxs("p",{className:"text-[10px] text-hils-text-dim mb-0.5 uppercase tracking-wider font-medium",children:["Module ",F.moduleNumber]}),y.jsx("h3",{className:"text-sm font-semibold text-hils-text mb-1",children:F.name}),y.jsxs("p",{className:"text-xs text-hils-text-muted",children:[F.topics.length," topics"]})]},F.id)})),R==="topics"&&(ee==null?void 0:ee.topics.map((F,I)=>{const w=o(F.id);return y.jsx(qe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:I*.05},onClick:()=>t(`/topic/${F.id}`),className:"glass-card-hover p-4 text-left group",children:y.jsxs("div",{className:"flex items-start gap-3",children:[w?y.jsx(Ri,{className:"w-4 h-4 text-hils-success mt-0.5 flex-shrink-0"}):y.jsx(PA,{className:"w-4 h-4 text-hils-text-dim mt-0.5 flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-hils-text mb-0.5",children:F.name}),F.description&&y.jsx("p",{className:"text-xs text-hils-text-muted leading-relaxed",children:F.description})]})]})},F.id)}))]}),!C&&y.jsxs("div",{className:"text-center py-20",children:[y.jsx(vo,{className:"w-12 h-12 text-hils-text-dim mx-auto mb-4"}),y.jsx("p",{className:"text-hils-text-muted",children:"No subjects found. Use the semester switcher to change semester."})]})]}),y.jsx(hh,{children:D&&y.jsx($8,{onDismiss:()=>b(!0),onSetup:()=>t("/setup")})})]})}const Y8="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent";function Q8(){throw new Error("VITE_GEMINI_API_KEY is not set in .env")}const X8={explain:4096,"deep-dive":4096,quiz:4096,summary:2048,exam_answer:2048,rapid_revision:1024,voice_teacher:4096,planner:1024,explain_v2:4096};function W8(t){const{topicName:e,subjectName:n,moduleName:i,mode:s,syllabusContext:o,personaModifier:u}=t,h=`Subject: ${n}
Module: ${i}
Topic: ${e}`,d=o?`
Syllabus context: ${o}`:"",f=u?`

Persona instructions: ${u}`:"";switch(s){case"planner":return`You are part of an AI-powered VTU engineering exam preparation system.
Your behavior depends strictly on the active tab: PLANNER MODE (Module-Level).

Context Provided:
- University: VTU
- Subject: ${n}
- Module: ${i}
- Topic: ${e}
${d}

GOAL:
Help student prioritize preparation for this module based on repetition frequency and marks weightage.

RULES:
- Do NOT explain full concepts.
- Do NOT generate exam answers.
- Do NOT reference specific user question.
- Provide strategic clarity only.

OUTPUT STRUCTURE:

### 1. Module Importance Snapshot
- 34 confident lines about scope and manageability.
- No explicit emotional language.
- Tone should naturally reduce anxiety through clarity.

### 2. High-Frequency Topics ()
- List topics repeated most in VTU QP.
- Mark numerical-heavy topics ().
- Mark theory-heavy topics ().

### 3. Priority Order
1  Must master
2  High scoring
3  Supporting
4  If time permits

### 4. Smart Study Allocation
- If 1 day left
- If 3 days left
- If 1 week left

Keep concise.
No deep explanations.
No persona storytelling.
Do NOT output JSON or wrap in markdown fences.`;case"explain_v2":return`You are part of an AI-powered VTU engineering exam preparation system.
Your behavior depends strictly on the active tab: EXPLANATION MODE.

Context Provided:
- University: VTU
- Subject: ${n}
- Module: ${i}
- Topic: ${e}
- Selected Persona: ${u||"Standard"}

You MUST generate TWO parallel outputs:

SECTION A  Persona-Based Concept Explanation  
SECTION B  VTU Structured Exam Answer  

Do not merge sections. Do not skip any subsection.

----------------------------------------------------
### SECTION A: Concept Explanation (Persona Tone Applies)
----------------------------------------------------

1. What the Topic Demands
   - Clarify command words (Define / Explain / Compare / Derive)

2. Core Concept
   - Short definition
   - Central idea

3. Stepwise Breakdown
   - Minimum 5 numbered steps
   - Max 4 lines per step

4. Example
   - At least 1 clear example

5. Key Takeaways
   - Minimum 5 concise bullets

Persona tone applies ONLY here.
Structure remains fixed.

----------------------------------------------------
### SECTION B: VTU Exam Answer Format
(Formal Academic Tone Only)
----------------------------------------------------

Title: Restate the topic exactly.

1. Definition  
2. Detailed Explanation (logically structured paragraphs)  
3. Diagram Placeholder (if applicable)
   - Write: [Draw diagram of ______]
4. Example  
5. Conclusion (23 lines max)

Rules:
- No persona tone.
- No motivational phrasing.
- Academic clarity.
- Suitable for direct writing in exam booklet.

----------------------------------------------------
### SECTION C: Writing Strategy
----------------------------------------------------

Provide 6 concise bullets covering:
- Ideal structure in answer booklet
- Approximate page length (5M vs 10M)
- Underlining strategy
- Time allocation
- Common mistakes students make

====================================================
GLOBAL ENFORCEMENT RULES
====================================================
- All sections are mandatory.
- Exact section headers must appear.
- Minimum structural depth: 5 numbered steps, 5 key takeaways.
- Paragraphs must not exceed 4 lines.
- No artificial word count enforcement.
- Stop only after completing all sections.
- Return ONLY the structured markdown text. DO NOT wrap in JSON.`;case"explain":case"voice_teacher":return`You are an expert VTU engineering professor.${f}

${h}${d}

Provide a thorough, exam-focused explanation of this topic. Structure your response as JSON with these fields:
- "explanation": A structured explanation following this format (use markdown formatting, **bold** keywords):

  **Definition:** [Clear 2-3 line definition]

  **Core Concept:** [Fundamental idea behind this topic]

  **Stepwise Explanation:**
  1. [Step 1]
  2. [Step 2]
  ...

  **Formula (if applicable):** [Formula with units]

  **Example:** [Practical example, use code blocks if relevant]

  **Common Mistakes:** [Bullet list of common errors students make]

  **Where Asked in Exams:** [Which types of exam questions typically cover this]

- "analogy": A memorable real-world analogy that makes this concept click
- "example": A practical example with code/diagram if applicable (use markdown code blocks)
- "examQuestion": A likely VTU exam question with a model answer
- "summary": A 2-3 sentence summary of the key takeaway

Respond ONLY with valid JSON, no markdown fences.`;case"exam_answer":return`Use this ONLY in Exam Answer tab:

You are generating a VTU university exam answer.

This tab MUST ignore any selected persona.
Do NOT use storytelling, conversational tone, or explanatory style.
Use strict academic, point-wise format.

Context:
- University: VTU
- Semester: {semester}
- Subject: {subject}
- Module: {module}
- Question: {user_question}
- Marks: Infer 5M or 10M from wording.

GOAL:
Generate a high-scoring, evaluator-friendly, point-wise answer that is easy to recall and write in exam.

CRITICAL RULES:
- No persona tone.
- No long paragraphs.
- No markdown symbols.
- No bold styling.
- No decorative language.
- No conversational phrases.
- Use precise syllabus terminology.
- Every major idea must be in a numbered point.
- Maximum 34 lines per point.
- Optimized for underlining keywords.

====================================
STRUCTURE (STRICT)
====================================

Write the Question as Title.

Leave one line space.

1. Definition:
- One precise academic definition.
- Use key terms in CAPITAL LETTERS.

Leave one line space.

2. Key Concepts / Explanation:
- Use numbered points.
- Each point must contain:
   Term
   Short explanation (23 lines max)
- Use syllabus terminology.

Leave one line space.

3. Important Terminology:
- List 46 key terms relevant to topic.
- Each in separate point.

Leave one line space.

4. Example (if applicable):
- Short structured example.
- Use formula if relevant.

Leave one line space.

5. Diagram:
If applicable:
[Draw neat and labelled diagram of ______]

If not applicable:
Skip this section.

Leave one line space.

6. Conclusion:
- 2 concise points summarizing importance.

====================================
MARKS ADAPTATION
====================================

If 5 Marks:
- 46 main points only.
- Short explanation.
- Example optional.
- No extended discussion.

If 10 Marks:
- 812 structured points.
- Include example.
- Include diagram placeholder if relevant.
- Include terminology section.

====================================
SCORING OPTIMIZATION RULES
====================================

- Each point should be independently scorable.
- Avoid merging multiple ideas in one paragraph.
- Maintain logical flow.
- Focus on DEFINITIONS, PROPERTIES, TYPES, FORMULAS, ADVANTAGES, LIMITATIONS if relevant.
- Avoid narrative explanation.

Stop only after completing full structured answer.`;case"rapid_revision":return`You are an expert VTU exam revision coach. Create ultra-compressed revision notes.${f}

${h}${d}

Create rapid revision notes designed for a 10-minute glance. Structure as JSON:
- "explanation": Compressed revision content in this EXACT format (use markdown):

  ** Key Terms:**
  - [Keyword 1]: [One-line definition]
  - [Keyword 2]: [One-line definition]
  ...

  ** Formulas:**
  - [Formula 1 with units]
  - [Formula 2 with units]
  ...

  ** Diagrams to Draw:**
  - [Diagram 1 name]
  - [Diagram 2 name]
  ...

  ** 5 Probable Viva Questions:**
  1. [Question 1]
  2. [Question 2]
  3. [Question 3]
  4. [Question 4]
  5. [Question 5]

  ** Memory Triggers:**
  - [Mnemonic or memory hook 1]
  - [Mnemonic or memory hook 2]
  ...

- "analogy": One-line memory hook for the entire topic
- "example": Leave empty string
- "examQuestion": Most likely exam question on this topic
- "summary": Absolute minimum someone needs to know (1-2 sentences)

Keep it EXTREMELY concise. Bullet points only. No paragraphs.

Respond ONLY with valid JSON, no markdown fences.`;case"deep-dive":return`You are an expert VTU engineering professor giving an in-depth lecture.${f}

${h}${d}

Provide an exhaustive deep dive into this topic. Structure your response as JSON:
- "explanation": A comprehensive, detailed explanation covering all subtleties, edge cases, and advanced aspects (4-6 paragraphs, use markdown)
- "analogy": An extended analogy that covers multiple aspects of the concept
- "example": Multiple examples ranging from basic to advanced (use markdown code blocks)
- "examQuestion": 2-3 exam-style questions with detailed model answers
- "summary": Key points and relationships to other topics

Respond ONLY with valid JSON, no markdown fences.`;case"quiz":return`You are an expert VTU exam preparation coach.${f}

${h}${d}

Generate a quiz to test understanding. Structure as JSON:
- "explanation": 5-6 quiz questions in this format: "Q1: [question]\\nA) option\\nB) option\\nC) option\\nD) option\\n\\nQ2: ..."  mix MCQ, true/false, and short answer
- "analogy": Tips and tricks for remembering key concepts for exams
- "example": Worked-out solutions for each quiz question
- "examQuestion": A challenging VTU-style question that combines multiple concepts
- "summary": Key formulas/definitions to memorize

Respond ONLY with valid JSON, no markdown fences.`;case"summary":return`You are an expert academic summarizer.${f}

${h}${d}

Create a concise, exam-ready summary. Structure as JSON:
- "explanation": A crisp summary covering all key points in bullet form (use markdown lists)
- "analogy": One-line memory hooks for each key concept
- "example": Quick reference table or comparison if applicable (markdown table)
- "examQuestion": Most important definitions and formulas to remember
- "summary": The absolute minimum someone needs to know (2-3 sentences)

Respond ONLY with valid JSON, no markdown fences.`;default:return`Explain the topic: ${e}. Respond as JSON with fields: explanation, analogy, example, examQuestion, summary.`}}const J8={async fetchExplanation(t,e){var f,g,x,b,S,C;const n=Q8(),i=W8(t),s=X8[t.mode]??4096,o=t.mode==="planner"||t.mode==="explain_v2"||t.mode==="exam_answer",u=await fetch(`${Y8}?key=${n}`,{method:"POST",headers:{"Content-Type":"application/json"},signal:e,body:JSON.stringify({contents:[{parts:[{text:i}]}],generationConfig:{temperature:.7,maxOutputTokens:s,responseMimeType:o?"text/plain":"application/json"}})});if(!u.ok){const R=await u.json().catch(()=>({})),A=((f=R==null?void 0:R.error)==null?void 0:f.message)||u.statusText;throw new Error(`Gemini API error: ${A}`)}const h=await u.json(),d=(C=(S=(b=(x=(g=h==null?void 0:h.candidates)==null?void 0:g[0])==null?void 0:x.content)==null?void 0:b.parts)==null?void 0:S[0])==null?void 0:C.text;if(!d)throw new Error("Empty response from Gemini API");if(o)return{explanation:d,analogy:"",example:"",examQuestion:"",summary:"",sections:[],generatedAt:Date.now()};try{const R=JSON.parse(d);return{explanation:R.explanation||"",analogy:R.analogy||"",example:R.example||"",examQuestion:R.examQuestion||"",summary:R.summary||"",sections:[],generatedAt:Date.now()}}catch{return{explanation:d,analogy:"",example:"",examQuestion:"",summary:"",sections:[],generatedAt:Date.now()}}}},mk=eu((t,e)=>({activeMode:"planner",currentTopicId:null,response:null,responseCache:{},isLoading:!1,loadingMode:null,error:null,_abortController:null,setMode:n=>t({activeMode:n}),setTopic:n=>t({currentTopicId:n,response:null}),setResponse:n=>t({response:n,isLoading:!1,loadingMode:null,error:null}),setLoading:n=>t({isLoading:n}),setError:n=>t({error:n,isLoading:!1,loadingMode:null}),getCachedResponse:n=>e().responseCache[n],cacheResponse:(n,i)=>t(s=>({responseCache:{...s.responseCache,[n]:i}})),clearCache:()=>t({responseCache:{}}),generateExplanation:async n=>{const i=`${n.topicId}:${n.mode}:${n.personaId}`,s=e().getCachedResponse(i);if(s){t({response:s,isLoading:!1,loadingMode:null,error:null});return}const o=e()._abortController;o&&o.abort();const u=new AbortController;t({isLoading:!0,loadingMode:n.mode,error:null,response:null,_abortController:u});try{const h=await J8.fetchExplanation(n,u.signal);u.signal.aborted||(e().cacheResponse(i,h),t({response:h,isLoading:!1,loadingMode:null,error:null,_abortController:null}))}catch(h){if(h instanceof DOMException&&h.name==="AbortError")return;const d=h instanceof Error?h.message:"Failed to generate explanation";t({error:d,isLoading:!1,loadingMode:null,_abortController:null})}}})),Hw=[{id:"prof-clarity",name:"Prof. Clarity",emoji:"",style:"formal",tone:"Clear, structured, and academic",promptModifier:"Explain like a university professor who values clarity and precision. Use proper terminology but make it accessible.",description:"Clear, structured academic explanations"},{id:"buddy-dev",name:"Buddy Dev",emoji:"",style:"casual",tone:"Friendly, relatable, with real-world examples",promptModifier:"Explain like a friendly senior developer mentoring a junior. Use casual language, real-world analogies, and code examples when relevant.",description:"Your friendly coding mentor"},{id:"story-sage",name:"Story Sage",emoji:"",style:"storyteller",tone:"Narrative-driven, engaging, memorable",promptModifier:"Explain through stories and narratives. Create memorable analogies. Make dry topics come alive with vivid scenarios.",description:"Learns through stories and analogies"},{id:"socra-tech",name:"Socra-Tech",emoji:"",style:"socratic",tone:"Question-driven, thought-provoking",promptModifier:"Use the Socratic method. Ask guiding questions that lead the student to understand the concept themselves. Challenge assumptions.",description:"Guides you through questions"},{id:"exam-ace",name:"Exam Ace",emoji:"",style:"mentor",tone:"Exam-focused, strategic, key-point driven",promptModifier:"Focus on what is most likely to appear in exams. Highlight key definitions, important distinctions, and common exam patterns. Include practice questions.",description:"Exam-focused preparation expert"}],Bx=eu((t,e)=>({activePersona:Hw[0],personas:Hw,setPersona:n=>{const i=e().personas.find(s=>s.id===n);i&&t({activePersona:i})}})),Z8=[{key:"explanation",title:"Explanation",icon:yo,color:"text-blue-400",bg:"bg-blue-400/10",border:"border-blue-400/20"},{key:"analogy",title:"Analogy",icon:jA,color:"text-yellow-400",bg:"bg-yellow-400/10",border:"border-yellow-400/20"},{key:"example",title:"Example",icon:Nj,color:"text-green-400",bg:"bg-green-400/10",border:"border-green-400/20"},{key:"examQuestion",title:"Exam Question",icon:Aj,color:"text-red-400",bg:"bg-red-400/10",border:"border-red-400/20"},{key:"summary",title:"Summary",icon:Bv,color:"text-gray-400",bg:"bg-white/10",border:"border-white/10"}];function eF({response:t}){return y.jsx("div",{className:"space-y-4",children:Z8.map((e,n)=>{const i=t[e.key];if(!i)return null;const s=e.icon;return y.jsxs(qe.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.3,delay:n*.08},className:`glass-card p-5 border ${e.border}`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y.jsx("div",{className:`p-1.5 rounded-lg ${e.bg}`,children:y.jsx(s,{className:`w-4 h-4 ${e.color}`})}),y.jsx("h3",{className:`text-sm font-semibold ${e.color} uppercase tracking-wider`,children:e.title})]}),y.jsx("div",{className:"text-hils-text text-sm leading-relaxed whitespace-pre-wrap",children:i})]},e.key)})})}function tF(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const nF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,iF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rF={};function qw(t,e){return(rF.jsx?iF:nF).test(t)}const sF=/[ \t\n\f\r]/g;function aF(t){return typeof t=="object"?t.type==="text"?Gw(t.value):!1:Gw(t)}function Gw(t){return t.replace(sF,"")===""}class Ah{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Ah.prototype.normal={};Ah.prototype.property={};Ah.prototype.space=void 0;function pk(t,e){const n={},i={};for(const s of t)Object.assign(n,s.property),Object.assign(i,s.normal);return new Ah(n,i,e)}function U0(t){return t.toLowerCase()}class Wn{constructor(e,n){this.attribute=n,this.property=e}}Wn.prototype.attribute="";Wn.prototype.booleanish=!1;Wn.prototype.boolean=!1;Wn.prototype.commaOrSpaceSeparated=!1;Wn.prototype.commaSeparated=!1;Wn.prototype.defined=!1;Wn.prototype.mustUseProperty=!1;Wn.prototype.number=!1;Wn.prototype.overloadedBoolean=!1;Wn.prototype.property="";Wn.prototype.spaceSeparated=!1;Wn.prototype.space=void 0;let oF=0;const Ue=ko(),Gt=ko(),z0=ko(),me=ko(),yt=ko(),Ll=ko(),li=ko();function ko(){return 2**++oF}const F0=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ue,booleanish:Gt,commaOrSpaceSeparated:li,commaSeparated:Ll,number:me,overloadedBoolean:z0,spaceSeparated:yt},Symbol.toStringTag,{value:"Module"})),Iy=Object.keys(F0);class Ux extends Wn{constructor(e,n,i,s){let o=-1;if(super(e,n),$w(this,"space",s),typeof i=="number")for(;++o<Iy.length;){const u=Iy[o];$w(this,Iy[o],(i&F0[u])===F0[u])}}}Ux.prototype.defined=!0;function $w(t,e,n){n&&(t[e]=n)}function lu(t){const e={},n={};for(const[i,s]of Object.entries(t.properties)){const o=new Ux(i,t.transform(t.attributes||{},i),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),e[i]=o,n[U0(i)]=i,n[U0(o.attribute)]=i}return new Ah(e,n,t.space)}const gk=lu({properties:{ariaActiveDescendant:null,ariaAtomic:Gt,ariaAutoComplete:null,ariaBusy:Gt,ariaChecked:Gt,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:yt,ariaCurrent:null,ariaDescribedBy:yt,ariaDetails:null,ariaDisabled:Gt,ariaDropEffect:yt,ariaErrorMessage:null,ariaExpanded:Gt,ariaFlowTo:yt,ariaGrabbed:Gt,ariaHasPopup:null,ariaHidden:Gt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yt,ariaLevel:me,ariaLive:null,ariaModal:Gt,ariaMultiLine:Gt,ariaMultiSelectable:Gt,ariaOrientation:null,ariaOwns:yt,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:Gt,ariaReadOnly:Gt,ariaRelevant:null,ariaRequired:Gt,ariaRoleDescription:yt,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:Gt,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function yk(t,e){return e in t?t[e]:e}function vk(t,e){return yk(t,e.toLowerCase())}const lF=lu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ll,acceptCharset:yt,accessKey:yt,action:null,allow:null,allowFullScreen:Ue,allowPaymentRequest:Ue,allowUserMedia:Ue,alt:null,as:null,async:Ue,autoCapitalize:null,autoComplete:yt,autoFocus:Ue,autoPlay:Ue,blocking:yt,capture:null,charSet:null,checked:Ue,cite:null,className:yt,cols:me,colSpan:null,content:null,contentEditable:Gt,controls:Ue,controlsList:yt,coords:me|Ll,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ue,defer:Ue,dir:null,dirName:null,disabled:Ue,download:z0,draggable:Gt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ue,formTarget:null,headers:yt,height:me,hidden:z0,high:me,href:null,hrefLang:null,htmlFor:yt,httpEquiv:yt,id:null,imageSizes:null,imageSrcSet:null,inert:Ue,inputMode:null,integrity:null,is:null,isMap:Ue,itemId:null,itemProp:yt,itemRef:yt,itemScope:Ue,itemType:yt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ue,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:Ue,muted:Ue,name:null,nonce:null,noModule:Ue,noValidate:Ue,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ue,optimum:me,pattern:null,ping:yt,placeholder:null,playsInline:Ue,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ue,referrerPolicy:null,rel:yt,required:Ue,reversed:Ue,rows:me,rowSpan:me,sandbox:yt,scope:null,scoped:Ue,seamless:Ue,selected:Ue,shadowRootClonable:Ue,shadowRootDelegatesFocus:Ue,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:Gt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:Ue,useMap:null,value:Gt,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yt,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ue,declare:Ue,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:Ue,noHref:Ue,noShade:Ue,noWrap:Ue,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:Gt,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ue,disableRemotePlayback:Ue,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:vk}),uF=lu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:li,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:yt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:Ue,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ll,g2:Ll,glyphName:Ll,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:li,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:li,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:li,rev:li,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:li,requiredFeatures:li,requiredFonts:li,requiredFormats:li,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:li,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:li,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:li,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:yk}),xk=lu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),bk=lu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:vk}),_k=lu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),cF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hF=/[A-Z]/g,Kw=/-[a-z]/g,dF=/^data[-\w.:]+$/i;function fF(t,e){const n=U0(e);let i=e,s=Wn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&dF.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Kw,pF);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Kw.test(o)){let u=o.replace(hF,mF);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=Ux}return new s(i,e)}function mF(t){return"-"+t.toLowerCase()}function pF(t){return t.charAt(1).toUpperCase()}const gF=pk([gk,lF,xk,bk,_k],"html"),zx=pk([gk,uF,xk,bk,_k],"svg");function yF(t){return t.join(" ").trim()}var xl={},My,Yw;function vF(){if(Yw)return My;Yw=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,d=`
`,f="/",g="*",x="",b="comment",S="declaration";function C(A,D){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];D=D||{};var q=1,L=1;function ee(fe){var ce=fe.match(e);ce&&(q+=ce.length);var Q=fe.lastIndexOf(d);L=~Q?fe.length-Q:L+fe.length}function J(){var fe={line:q,column:L};return function(ce){return ce.position=new F(fe),M(),ce}}function F(fe){this.start=fe,this.end={line:q,column:L},this.source=D.source}F.prototype.content=A;function I(fe){var ce=new Error(D.source+":"+q+":"+L+": "+fe);if(ce.reason=fe,ce.filename=D.source,ce.line=q,ce.column=L,ce.source=A,!D.silent)throw ce}function w(fe){var ce=fe.exec(A);if(ce){var Q=ce[0];return ee(Q),A=A.slice(Q.length),ce}}function M(){w(n)}function B(fe){var ce;for(fe=fe||[];ce=V();)ce!==!1&&fe.push(ce);return fe}function V(){var fe=J();if(!(f!=A.charAt(0)||g!=A.charAt(1))){for(var ce=2;x!=A.charAt(ce)&&(g!=A.charAt(ce)||f!=A.charAt(ce+1));)++ce;if(ce+=2,x===A.charAt(ce-1))return I("End of comment missing");var Q=A.slice(2,ce-2);return L+=2,ee(Q),A=A.slice(ce),L+=2,fe({type:b,comment:Q})}}function U(){var fe=J(),ce=w(i);if(ce){if(V(),!w(s))return I("property missing ':'");var Q=w(o),ae=fe({type:S,property:R(ce[0].replace(t,x)),value:Q?R(Q[0].replace(t,x)):x});return w(u),ae}}function j(){var fe=[];B(fe);for(var ce;ce=U();)ce!==!1&&(fe.push(ce),B(fe));return fe}return M(),j()}function R(A){return A?A.replace(h,x):x}return My=C,My}var Qw;function xF(){if(Qw)return xl;Qw=1;var t=xl&&xl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xl,"__esModule",{value:!0}),xl.default=n;const e=t(vF());function n(i,s){let o=null;if(!i||typeof i!="string")return o;const u=(0,e.default)(i),h=typeof s=="function";return u.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:g}=d;h?s(f,g,d):g&&(o=o||{},o[f]=g)}),o}return xl}var pc={},Xw;function bF(){if(Xw)return pc;Xw=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(f){return!f||n.test(f)||t.test(f)},u=function(f,g){return g.toUpperCase()},h=function(f,g){return"".concat(g,"-")},d=function(f,g){return g===void 0&&(g={}),o(f)?f:(f=f.toLowerCase(),g.reactCompat?f=f.replace(s,h):f=f.replace(i,h),f.replace(e,u))};return pc.camelCase=d,pc}var gc,Ww;function _F(){if(Ww)return gc;Ww=1;var t=gc&&gc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(xF()),n=bF();function i(s,o){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(h,d){h&&d&&(u[(0,n.camelCase)(h,o)]=d)}),u}return i.default=i,gc=i,gc}var SF=_F();const EF=X0(SF),Sk=Ek("end"),Fx=Ek("start");function Ek(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function TF(t){const e=Fx(t),n=Sk(t);if(e&&n)return{start:e,end:n}}function zc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Jw(t.position):"start"in t||"end"in t?Jw(t):"line"in t||"column"in t?H0(t):""}function H0(t){return Zw(t&&t.line)+":"+Zw(t&&t.column)}function Jw(t){return H0(t&&t.start)+"-"+H0(t&&t.end)}function Zw(t){return t&&typeof t=="number"?t:1}class Nn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?s=e:!o.cause&&e&&(u=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof i=="string"){const d=i.indexOf(":");d===-1?o.ruleId=i:(o.source=i.slice(0,d),o.ruleId=i.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=h?h.line:void 0,this.name=zc(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Nn.prototype.file="";Nn.prototype.name="";Nn.prototype.reason="";Nn.prototype.message="";Nn.prototype.stack="";Nn.prototype.column=void 0;Nn.prototype.line=void 0;Nn.prototype.ancestors=void 0;Nn.prototype.cause=void 0;Nn.prototype.fatal=void 0;Nn.prototype.place=void 0;Nn.prototype.ruleId=void 0;Nn.prototype.source=void 0;const Hx={}.hasOwnProperty,wF=new Map,CF=/[A-Z]/g,AF=new Set(["table","tbody","thead","tfoot","tr"]),NF=new Set(["td","th"]),Tk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function RF(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=LF(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=jF(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?zx:gF,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=wk(s,t,void 0);return o&&typeof o!="string"?o:s.create(t,s.Fragment,{children:o||void 0},void 0)}function wk(t,e,n){if(e.type==="element")return kF(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return IF(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return DF(t,e,n);if(e.type==="mdxjsEsm")return MF(t,e);if(e.type==="root")return PF(t,e,n);if(e.type==="text")return OF(t,e)}function kF(t,e,n){const i=t.schema;let s=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=zx,t.schema=s),t.ancestors.push(e);const o=Ak(t,e.tagName,!1),u=VF(t,e);let h=Gx(t,e);return AF.has(e.tagName)&&(h=h.filter(function(d){return typeof d=="string"?!aF(d):!0})),Ck(t,u,o,e),qx(u,h),t.ancestors.pop(),t.schema=i,t.create(e,o,u,n)}function IF(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}ah(t,e.position)}function MF(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);ah(t,e.position)}function DF(t,e,n){const i=t.schema;let s=i;e.name==="svg"&&i.space==="html"&&(s=zx,t.schema=s),t.ancestors.push(e);const o=e.name===null?t.Fragment:Ak(t,e.name,!0),u=BF(t,e),h=Gx(t,e);return Ck(t,u,o,e),qx(u,h),t.ancestors.pop(),t.schema=i,t.create(e,o,u,n)}function PF(t,e,n){const i={};return qx(i,Gx(t,e)),t.create(e,t.Fragment,i,n)}function OF(t,e){return e.value}function Ck(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function qx(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function jF(t,e,n){return i;function i(s,o,u,h){const f=Array.isArray(u.children)?n:e;return h?f(o,u,h):f(o,u)}}function LF(t,e){return n;function n(i,s,o,u){const h=Array.isArray(o.children),d=Fx(i);return e(s,o,u,h,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function VF(t,e){const n={};let i,s;for(s in e.properties)if(s!=="children"&&Hx.call(e.properties,s)){const o=UF(t,s,e.properties[s]);if(o){const[u,h]=o;t.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&NF.has(e.tagName)?i=h:n[u]=h}}if(i){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function BF(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const o=i.data.estree.body[0];o.type;const u=o.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else ah(t,e.position);else{const s=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const h=i.value.data.estree.body[0];h.type,o=t.evaluater.evaluateExpression(h.expression)}else ah(t,e.position);else o=i.value===null?!0:i.value;n[s]=o}return n}function Gx(t,e){const n=[];let i=-1;const s=t.passKeys?new Map:wF;for(;++i<e.children.length;){const o=e.children[i];let u;if(t.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const f=s.get(d)||0;u=d+"-"+f,s.set(d,f+1)}}const h=wk(t,o,u);h!==void 0&&n.push(h)}return n}function UF(t,e,n){const i=fF(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?tF(n):yF(n)),i.property==="style"){let s=typeof n=="object"?n:zF(t,String(n));return t.stylePropertyNameCase==="css"&&(s=FF(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&i.space?cF[i.property]||i.property:i.attribute,n]}}function zF(t,e){try{return EF(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,s=new Nn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=Tk+"#cannot-parse-style-attribute",s}}function Ak(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,u;for(;++o<s.length;){const h=qw(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}i=u}else i=qw(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const s=i.value;return Hx.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(i);ah(t)}function ah(t,e){const n=new Nn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Tk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function FF(t){const e={};let n;for(n in t)Hx.call(t,n)&&(e[HF(n)]=t[n]);return e}function HF(t){let e=t.replace(CF,qF);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function qF(t){return"-"+t.toLowerCase()}const Dy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},GF={};function $F(t,e){const n=GF,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Nk(t,i,s)}function Nk(t,e,n){if(KF(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return e2(t.children,e,n)}return Array.isArray(t)?e2(t,e,n):""}function e2(t,e,n){const i=[];let s=-1;for(;++s<t.length;)i[s]=Nk(t[s],e,n);return i.join("")}function KF(t){return!!(t&&typeof t=="object")}const t2=document.createElement("i");function $x(t){const e="&"+t+";";t2.innerHTML=e;const n=t2.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Cr(t,e,n,i){const s=t.length;let o=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<i.length;)u=i.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function Ai(t,e){return t.length>0?(Cr(t,t.length,0,e),t):e}const n2={}.hasOwnProperty;function YF(t){const e={};let n=-1;for(;++n<t.length;)QF(e,t[n]);return e}function QF(t,e){let n;for(n in e){const s=(n2.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){n2.call(s,u)||(s[u]=[]);const h=o[u];XF(s[u],Array.isArray(h)?h:h?[h]:[])}}}function XF(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Cr(t,0,0,i)}function Rk(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Vl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const hr=Ia(/[A-Za-z]/),ci=Ia(/[\dA-Za-z]/),WF=Ia(/[#-'*+\--9=?A-Z^-~]/);function q0(t){return t!==null&&(t<32||t===127)}const G0=Ia(/\d/),JF=Ia(/[\dA-Fa-f]/),ZF=Ia(/[!-/:-@[-`{-~]/);function De(t){return t!==null&&t<-2}function Xn(t){return t!==null&&(t<0||t===32)}function st(t){return t===-2||t===-1||t===32}const e7=Ia(new RegExp("\\p{P}|\\p{S}","u")),t7=Ia(/\s/);function Ia(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function uu(t){const e=[];let n=-1,i=0,s=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&ci(t.charCodeAt(n+1))&&ci(t.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const h=t.charCodeAt(n+1);o<56320&&h>56319&&h<57344?(u=String.fromCharCode(o,h),s=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(i)}function vt(t,e,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(d){return st(d)?(t.enter(n),h(d)):e(d)}function h(d){return st(d)&&o++<s?(t.consume(d),h):(t.exit(n),e(d))}}const n7={tokenize:i7};function i7(t){const e=t.attempt(this.parser.constructs.contentInitial,i,s);let n;return e;function i(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),vt(t,e,"linePrefix")}function s(h){return t.enter("paragraph"),o(h)}function o(h){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,u(h)}function u(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return De(h)?(t.consume(h),t.exit("chunkText"),o):(t.consume(h),u)}}const r7={tokenize:s7},i2={tokenize:a7};function s7(t){const e=this,n=[];let i=0,s,o,u;return h;function h(L){if(i<n.length){const ee=n[i];return e.containerState=ee[1],t.attempt(ee[0].continuation,d,f)(L)}return f(L)}function d(L){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&q();const ee=e.events.length;let J=ee,F;for(;J--;)if(e.events[J][0]==="exit"&&e.events[J][1].type==="chunkFlow"){F=e.events[J][1].end;break}D(i);let I=ee;for(;I<e.events.length;)e.events[I][1].end={...F},I++;return Cr(e.events,J+1,0,e.events.slice(ee)),e.events.length=I,f(L)}return h(L)}function f(L){if(i===n.length){if(!s)return b(L);if(s.currentConstruct&&s.currentConstruct.concrete)return C(L);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(i2,g,x)(L)}function g(L){return s&&q(),D(i),b(L)}function x(L){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,C(L)}function b(L){return e.containerState={},t.attempt(i2,S,C)(L)}function S(L){return i++,n.push([e.currentConstruct,e.containerState]),b(L)}function C(L){if(L===null){s&&q(),D(0),t.consume(L);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),R(L)}function R(L){if(L===null){A(t.exit("chunkFlow"),!0),D(0),t.consume(L);return}return De(L)?(t.consume(L),A(t.exit("chunkFlow")),i=0,e.interrupt=void 0,h):(t.consume(L),R)}function A(L,ee){const J=e.sliceStream(L);if(ee&&J.push(null),L.previous=o,o&&(o.next=L),o=L,s.defineSkip(L.start),s.write(J),e.parser.lazy[L.start.line]){let F=s.events.length;for(;F--;)if(s.events[F][1].start.offset<u&&(!s.events[F][1].end||s.events[F][1].end.offset>u))return;const I=e.events.length;let w=I,M,B;for(;w--;)if(e.events[w][0]==="exit"&&e.events[w][1].type==="chunkFlow"){if(M){B=e.events[w][1].end;break}M=!0}for(D(i),F=I;F<e.events.length;)e.events[F][1].end={...B},F++;Cr(e.events,w+1,0,e.events.slice(I)),e.events.length=F}}function D(L){let ee=n.length;for(;ee-- >L;){const J=n[ee];e.containerState=J[1],J[0].exit.call(e,t)}n.length=L}function q(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function a7(t,e,n){return vt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function r2(t){if(t===null||Xn(t)||t7(t))return 1;if(e7(t))return 2}function Kx(t,e,n){const i=[];let s=-1;for(;++s<t.length;){const o=t[s].resolveAll;o&&!i.includes(o)&&(e=o(e,n),i.push(o))}return e}const $0={name:"attention",resolveAll:o7,tokenize:l7};function o7(t,e){let n=-1,i,s,o,u,h,d,f,g;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const x={...t[i][1].end},b={...t[n][1].start};s2(x,-d),s2(b,d),u={type:d>1?"strongSequence":"emphasisSequence",start:x,end:{...t[i][1].end}},h={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:b},o={type:d>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},t[i][1].end={...u.start},t[n][1].start={...h.end},f=[],t[i][1].end.offset-t[i][1].start.offset&&(f=Ai(f,[["enter",t[i][1],e],["exit",t[i][1],e]])),f=Ai(f,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",o,e]]),f=Ai(f,Kx(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),f=Ai(f,[["exit",o,e],["enter",h,e],["exit",h,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(g=2,f=Ai(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):g=0,Cr(t,i-1,n-i+3,f),n=i+f.length-g-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function l7(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=r2(i);let o;return u;function u(d){return o=d,t.enter("attentionSequence"),h(d)}function h(d){if(d===o)return t.consume(d),h;const f=t.exit("attentionSequence"),g=r2(d),x=!g||g===2&&s||n.includes(d),b=!s||s===2&&g||n.includes(i);return f._open=!!(o===42?x:x&&(s||!b)),f._close=!!(o===42?b:b&&(g||!x)),e(d)}}function s2(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const u7={name:"autolink",tokenize:c7};function c7(t,e,n){let i=0;return s;function s(S){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(S){return hr(S)?(t.consume(S),u):S===64?n(S):f(S)}function u(S){return S===43||S===45||S===46||ci(S)?(i=1,h(S)):f(S)}function h(S){return S===58?(t.consume(S),i=0,d):(S===43||S===45||S===46||ci(S))&&i++<32?(t.consume(S),h):(i=0,f(S))}function d(S){return S===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):S===null||S===32||S===60||q0(S)?n(S):(t.consume(S),d)}function f(S){return S===64?(t.consume(S),g):WF(S)?(t.consume(S),f):n(S)}function g(S){return ci(S)?x(S):n(S)}function x(S){return S===46?(t.consume(S),i=0,g):S===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):b(S)}function b(S){if((S===45||ci(S))&&i++<63){const C=S===45?b:x;return t.consume(S),C}return n(S)}}const $m={partial:!0,tokenize:h7};function h7(t,e,n){return i;function i(o){return st(o)?vt(t,s,"linePrefix")(o):s(o)}function s(o){return o===null||De(o)?e(o):n(o)}}const kk={continuation:{tokenize:f7},exit:m7,name:"blockQuote",tokenize:d7};function d7(t,e,n){const i=this;return s;function s(u){if(u===62){const h=i.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return st(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function f7(t,e,n){const i=this;return s;function s(u){return st(u)?vt(t,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(kk,e,n)(u)}}function m7(t){t.exit("blockQuote")}const Ik={name:"characterEscape",tokenize:p7};function p7(t,e,n){return i;function i(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),s}function s(o){return ZF(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const Mk={name:"characterReference",tokenize:g7};function g7(t,e,n){const i=this;let s=0,o,u;return h;function h(x){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(x),t.exit("characterReferenceMarker"),d}function d(x){return x===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(x),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,u=ci,g(x))}function f(x){return x===88||x===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(x),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=JF,g):(t.enter("characterReferenceValue"),o=7,u=G0,g(x))}function g(x){if(x===59&&s){const b=t.exit("characterReferenceValue");return u===ci&&!$x(i.sliceSerialize(b))?n(x):(t.enter("characterReferenceMarker"),t.consume(x),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(x)&&s++<o?(t.consume(x),g):n(x)}}const a2={partial:!0,tokenize:v7},o2={concrete:!0,name:"codeFenced",tokenize:y7};function y7(t,e,n){const i=this,s={partial:!0,tokenize:J};let o=0,u=0,h;return d;function d(F){return f(F)}function f(F){const I=i.events[i.events.length-1];return o=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,h=F,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g(F)}function g(F){return F===h?(u++,t.consume(F),g):u<3?n(F):(t.exit("codeFencedFenceSequence"),st(F)?vt(t,x,"whitespace")(F):x(F))}function x(F){return F===null||De(F)?(t.exit("codeFencedFence"),i.interrupt?e(F):t.check(a2,R,ee)(F)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),b(F))}function b(F){return F===null||De(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),x(F)):st(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),vt(t,S,"whitespace")(F)):F===96&&F===h?n(F):(t.consume(F),b)}function S(F){return F===null||De(F)?x(F):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),C(F))}function C(F){return F===null||De(F)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),x(F)):F===96&&F===h?n(F):(t.consume(F),C)}function R(F){return t.attempt(s,ee,A)(F)}function A(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),D}function D(F){return o>0&&st(F)?vt(t,q,"linePrefix",o+1)(F):q(F)}function q(F){return F===null||De(F)?t.check(a2,R,ee)(F):(t.enter("codeFlowValue"),L(F))}function L(F){return F===null||De(F)?(t.exit("codeFlowValue"),q(F)):(t.consume(F),L)}function ee(F){return t.exit("codeFenced"),e(F)}function J(F,I,w){let M=0;return B;function B(ce){return F.enter("lineEnding"),F.consume(ce),F.exit("lineEnding"),V}function V(ce){return F.enter("codeFencedFence"),st(ce)?vt(F,U,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):U(ce)}function U(ce){return ce===h?(F.enter("codeFencedFenceSequence"),j(ce)):w(ce)}function j(ce){return ce===h?(M++,F.consume(ce),j):M>=u?(F.exit("codeFencedFenceSequence"),st(ce)?vt(F,fe,"whitespace")(ce):fe(ce)):w(ce)}function fe(ce){return ce===null||De(ce)?(F.exit("codeFencedFence"),I(ce)):w(ce)}}}function v7(t,e,n){const i=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const Py={name:"codeIndented",tokenize:b7},x7={partial:!0,tokenize:_7};function b7(t,e,n){const i=this;return s;function s(f){return t.enter("codeIndented"),vt(t,o,"linePrefix",5)(f)}function o(f){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(f):n(f)}function u(f){return f===null?d(f):De(f)?t.attempt(x7,u,d)(f):(t.enter("codeFlowValue"),h(f))}function h(f){return f===null||De(f)?(t.exit("codeFlowValue"),u(f)):(t.consume(f),h)}function d(f){return t.exit("codeIndented"),e(f)}}function _7(t,e,n){const i=this;return s;function s(u){return i.parser.lazy[i.now().line]?n(u):De(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):vt(t,o,"linePrefix",5)(u)}function o(u){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):De(u)?s(u):n(u)}}const S7={name:"codeText",previous:T7,resolve:E7,tokenize:w7};function E7(t){let e=t.length-4,n=3,i,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)s===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(s=i):(i===e||t[i][1].type==="lineEnding")&&(t[s][1].type="codeTextData",i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),e-=i-s-2,i=s+2),s=void 0);return t}function T7(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function w7(t,e,n){let i=0,s,o;return u;function u(x){return t.enter("codeText"),t.enter("codeTextSequence"),h(x)}function h(x){return x===96?(t.consume(x),i++,h):(t.exit("codeTextSequence"),d(x))}function d(x){return x===null?n(x):x===32?(t.enter("space"),t.consume(x),t.exit("space"),d):x===96?(o=t.enter("codeTextSequence"),s=0,g(x)):De(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),d):(t.enter("codeTextData"),f(x))}function f(x){return x===null||x===32||x===96||De(x)?(t.exit("codeTextData"),d(x)):(t.consume(x),f)}function g(x){return x===96?(t.consume(x),s++,g):s===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(x)):(o.type="codeTextData",f(x))}}class C7{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const s=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&yc(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),yc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),yc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);yc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);yc(this.left,n.reverse())}}}function yc(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Dk(t){const e={};let n=-1,i,s,o,u,h,d,f;const g=new C7(t);for(;++n<g.length;){for(;n in e;)n=e[n];if(i=g.get(n),n&&i[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,A7(g,n)),n=e[n],f=!0);else if(i[1]._container){for(o=n,s=void 0;o--;)if(u=g.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(g.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(i[1].end={...g.get(s)[1].start},h=g.slice(s,n),h.unshift(i),g.splice(s,n-s+1,h))}}return Cr(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!f}function A7(t,e){const n=t.get(e)[1],i=t.get(e)[2];let s=e-1;const o=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,d=[],f={};let g,x,b=-1,S=n,C=0,R=0;const A=[R];for(;S;){for(;t.get(++s)[1]!==S;);o.push(s),S._tokenizer||(g=i.sliceStream(S),S.next||g.push(null),x&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),x=S,S=S.next}for(S=n;++b<h.length;)h[b][0]==="exit"&&h[b-1][0]==="enter"&&h[b][1].type===h[b-1][1].type&&h[b][1].start.line!==h[b][1].end.line&&(R=b+1,A.push(R),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):A.pop(),b=A.length;b--;){const D=h.slice(A[b],A[b+1]),q=o.pop();d.push([q,q+D.length-1]),t.splice(q,2,D)}for(d.reverse(),b=-1;++b<d.length;)f[C+d[b][0]]=C+d[b][1],C+=d[b][1]-d[b][0]-1;return f}const N7={resolve:k7,tokenize:I7},R7={partial:!0,tokenize:M7};function k7(t){return Dk(t),t}function I7(t,e){let n;return i;function i(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(h)}function s(h){return h===null?o(h):De(h)?t.check(R7,u,o)(h):(t.consume(h),s)}function o(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function u(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function M7(t,e,n){const i=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),vt(t,o,"linePrefix")}function o(u){if(u===null||De(u))return n(u);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function Pk(t,e,n,i,s,o,u,h,d){const f=d||Number.POSITIVE_INFINITY;let g=0;return x;function x(D){return D===60?(t.enter(i),t.enter(s),t.enter(o),t.consume(D),t.exit(o),b):D===null||D===32||D===41||q0(D)?n(D):(t.enter(i),t.enter(u),t.enter(h),t.enter("chunkString",{contentType:"string"}),R(D))}function b(D){return D===62?(t.enter(o),t.consume(D),t.exit(o),t.exit(s),t.exit(i),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),S(D))}function S(D){return D===62?(t.exit("chunkString"),t.exit(h),b(D)):D===null||D===60||De(D)?n(D):(t.consume(D),D===92?C:S)}function C(D){return D===60||D===62||D===92?(t.consume(D),S):S(D)}function R(D){return!g&&(D===null||D===41||Xn(D))?(t.exit("chunkString"),t.exit(h),t.exit(u),t.exit(i),e(D)):g<f&&D===40?(t.consume(D),g++,R):D===41?(t.consume(D),g--,R):D===null||D===32||D===40||q0(D)?n(D):(t.consume(D),D===92?A:R)}function A(D){return D===40||D===41||D===92?(t.consume(D),R):R(D)}}function Ok(t,e,n,i,s,o){const u=this;let h=0,d;return f;function f(S){return t.enter(i),t.enter(s),t.consume(S),t.exit(s),t.enter(o),g}function g(S){return h>999||S===null||S===91||S===93&&!d||S===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(t.exit(o),t.enter(s),t.consume(S),t.exit(s),t.exit(i),e):De(S)?(t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===null||S===91||S===93||De(S)||h++>999?(t.exit("chunkString"),g(S)):(t.consume(S),d||(d=!st(S)),S===92?b:x)}function b(S){return S===91||S===92||S===93?(t.consume(S),h++,x):x(S)}}function jk(t,e,n,i,s,o){let u;return h;function h(b){return b===34||b===39||b===40?(t.enter(i),t.enter(s),t.consume(b),t.exit(s),u=b===40?41:b,d):n(b)}function d(b){return b===u?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),e):(t.enter(o),f(b))}function f(b){return b===u?(t.exit(o),d(u)):b===null?n(b):De(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),vt(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===u||b===null||De(b)?(t.exit("chunkString"),f(b)):(t.consume(b),b===92?x:g)}function x(b){return b===u||b===92?(t.consume(b),g):g(b)}}function Fc(t,e){let n;return i;function i(s){return De(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,i):st(s)?vt(t,i,n?"linePrefix":"lineSuffix")(s):e(s)}}const D7={name:"definition",tokenize:O7},P7={partial:!0,tokenize:j7};function O7(t,e,n){const i=this;let s;return o;function o(S){return t.enter("definition"),u(S)}function u(S){return Ok.call(i,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function h(S){return s=Vl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),d):n(S)}function d(S){return Xn(S)?Fc(t,f)(S):f(S)}function f(S){return Pk(t,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function g(S){return t.attempt(P7,x,x)(S)}function x(S){return st(S)?vt(t,b,"whitespace")(S):b(S)}function b(S){return S===null||De(S)?(t.exit("definition"),i.parser.defined.push(s),e(S)):n(S)}}function j7(t,e,n){return i;function i(h){return Xn(h)?Fc(t,s)(h):n(h)}function s(h){return jk(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return st(h)?vt(t,u,"whitespace")(h):u(h)}function u(h){return h===null||De(h)?e(h):n(h)}}const L7={name:"hardBreakEscape",tokenize:V7};function V7(t,e,n){return i;function i(o){return t.enter("hardBreakEscape"),t.consume(o),s}function s(o){return De(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const B7={name:"headingAtx",resolve:U7,tokenize:z7};function U7(t,e){let n=t.length-2,i=3,s,o;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},o={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Cr(t,i,n-i+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),t}function z7(t,e,n){let i=0;return s;function s(g){return t.enter("atxHeading"),o(g)}function o(g){return t.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&i++<6?(t.consume(g),u):g===null||Xn(g)?(t.exit("atxHeadingSequence"),h(g)):n(g)}function h(g){return g===35?(t.enter("atxHeadingSequence"),d(g)):g===null||De(g)?(t.exit("atxHeading"),e(g)):st(g)?vt(t,h,"whitespace")(g):(t.enter("atxHeadingText"),f(g))}function d(g){return g===35?(t.consume(g),d):(t.exit("atxHeadingSequence"),h(g))}function f(g){return g===null||g===35||Xn(g)?(t.exit("atxHeadingText"),h(g)):(t.consume(g),f)}}const F7=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],l2=["pre","script","style","textarea"],H7={concrete:!0,name:"htmlFlow",resolveTo:$7,tokenize:K7},q7={partial:!0,tokenize:Q7},G7={partial:!0,tokenize:Y7};function $7(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function K7(t,e,n){const i=this;let s,o,u,h,d;return f;function f(O){return g(O)}function g(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),x}function x(O){return O===33?(t.consume(O),b):O===47?(t.consume(O),o=!0,R):O===63?(t.consume(O),s=3,i.interrupt?e:z):hr(O)?(t.consume(O),u=String.fromCharCode(O),A):n(O)}function b(O){return O===45?(t.consume(O),s=2,S):O===91?(t.consume(O),s=5,h=0,C):hr(O)?(t.consume(O),s=4,i.interrupt?e:z):n(O)}function S(O){return O===45?(t.consume(O),i.interrupt?e:z):n(O)}function C(O){const ye="CDATA[";return O===ye.charCodeAt(h++)?(t.consume(O),h===ye.length?i.interrupt?e:U:C):n(O)}function R(O){return hr(O)?(t.consume(O),u=String.fromCharCode(O),A):n(O)}function A(O){if(O===null||O===47||O===62||Xn(O)){const ye=O===47,Te=u.toLowerCase();return!ye&&!o&&l2.includes(Te)?(s=1,i.interrupt?e(O):U(O)):F7.includes(u.toLowerCase())?(s=6,ye?(t.consume(O),D):i.interrupt?e(O):U(O)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(O):o?q(O):L(O))}return O===45||ci(O)?(t.consume(O),u+=String.fromCharCode(O),A):n(O)}function D(O){return O===62?(t.consume(O),i.interrupt?e:U):n(O)}function q(O){return st(O)?(t.consume(O),q):B(O)}function L(O){return O===47?(t.consume(O),B):O===58||O===95||hr(O)?(t.consume(O),ee):st(O)?(t.consume(O),L):B(O)}function ee(O){return O===45||O===46||O===58||O===95||ci(O)?(t.consume(O),ee):J(O)}function J(O){return O===61?(t.consume(O),F):st(O)?(t.consume(O),J):L(O)}function F(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),d=O,I):st(O)?(t.consume(O),F):w(O)}function I(O){return O===d?(t.consume(O),d=null,M):O===null||De(O)?n(O):(t.consume(O),I)}function w(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Xn(O)?J(O):(t.consume(O),w)}function M(O){return O===47||O===62||st(O)?L(O):n(O)}function B(O){return O===62?(t.consume(O),V):n(O)}function V(O){return O===null||De(O)?U(O):st(O)?(t.consume(O),V):n(O)}function U(O){return O===45&&s===2?(t.consume(O),Q):O===60&&s===1?(t.consume(O),ae):O===62&&s===4?(t.consume(O),G):O===63&&s===3?(t.consume(O),z):O===93&&s===5?(t.consume(O),Re):De(O)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(q7,re,j)(O)):O===null||De(O)?(t.exit("htmlFlowData"),j(O)):(t.consume(O),U)}function j(O){return t.check(G7,fe,re)(O)}function fe(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),ce}function ce(O){return O===null||De(O)?j(O):(t.enter("htmlFlowData"),U(O))}function Q(O){return O===45?(t.consume(O),z):U(O)}function ae(O){return O===47?(t.consume(O),u="",ge):U(O)}function ge(O){if(O===62){const ye=u.toLowerCase();return l2.includes(ye)?(t.consume(O),G):U(O)}return hr(O)&&u.length<8?(t.consume(O),u+=String.fromCharCode(O),ge):U(O)}function Re(O){return O===93?(t.consume(O),z):U(O)}function z(O){return O===62?(t.consume(O),G):O===45&&s===2?(t.consume(O),z):U(O)}function G(O){return O===null||De(O)?(t.exit("htmlFlowData"),re(O)):(t.consume(O),G)}function re(O){return t.exit("htmlFlow"),e(O)}}function Y7(t,e,n){const i=this;return s;function s(u){return De(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function Q7(t,e,n){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt($m,e,n)}}const X7={name:"htmlText",tokenize:W7};function W7(t,e,n){const i=this;let s,o,u;return h;function h(z){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(z),d}function d(z){return z===33?(t.consume(z),f):z===47?(t.consume(z),J):z===63?(t.consume(z),L):hr(z)?(t.consume(z),w):n(z)}function f(z){return z===45?(t.consume(z),g):z===91?(t.consume(z),o=0,C):hr(z)?(t.consume(z),q):n(z)}function g(z){return z===45?(t.consume(z),S):n(z)}function x(z){return z===null?n(z):z===45?(t.consume(z),b):De(z)?(u=x,ae(z)):(t.consume(z),x)}function b(z){return z===45?(t.consume(z),S):x(z)}function S(z){return z===62?Q(z):z===45?b(z):x(z)}function C(z){const G="CDATA[";return z===G.charCodeAt(o++)?(t.consume(z),o===G.length?R:C):n(z)}function R(z){return z===null?n(z):z===93?(t.consume(z),A):De(z)?(u=R,ae(z)):(t.consume(z),R)}function A(z){return z===93?(t.consume(z),D):R(z)}function D(z){return z===62?Q(z):z===93?(t.consume(z),D):R(z)}function q(z){return z===null||z===62?Q(z):De(z)?(u=q,ae(z)):(t.consume(z),q)}function L(z){return z===null?n(z):z===63?(t.consume(z),ee):De(z)?(u=L,ae(z)):(t.consume(z),L)}function ee(z){return z===62?Q(z):L(z)}function J(z){return hr(z)?(t.consume(z),F):n(z)}function F(z){return z===45||ci(z)?(t.consume(z),F):I(z)}function I(z){return De(z)?(u=I,ae(z)):st(z)?(t.consume(z),I):Q(z)}function w(z){return z===45||ci(z)?(t.consume(z),w):z===47||z===62||Xn(z)?M(z):n(z)}function M(z){return z===47?(t.consume(z),Q):z===58||z===95||hr(z)?(t.consume(z),B):De(z)?(u=M,ae(z)):st(z)?(t.consume(z),M):Q(z)}function B(z){return z===45||z===46||z===58||z===95||ci(z)?(t.consume(z),B):V(z)}function V(z){return z===61?(t.consume(z),U):De(z)?(u=V,ae(z)):st(z)?(t.consume(z),V):M(z)}function U(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(t.consume(z),s=z,j):De(z)?(u=U,ae(z)):st(z)?(t.consume(z),U):(t.consume(z),fe)}function j(z){return z===s?(t.consume(z),s=void 0,ce):z===null?n(z):De(z)?(u=j,ae(z)):(t.consume(z),j)}function fe(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||Xn(z)?M(z):(t.consume(z),fe)}function ce(z){return z===47||z===62||Xn(z)?M(z):n(z)}function Q(z){return z===62?(t.consume(z),t.exit("htmlTextData"),t.exit("htmlText"),e):n(z)}function ae(z){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),ge}function ge(z){return st(z)?vt(t,Re,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):Re(z)}function Re(z){return t.enter("htmlTextData"),u(z)}}const Yx={name:"labelEnd",resolveAll:tH,resolveTo:nH,tokenize:iH},J7={tokenize:rH},Z7={tokenize:sH},eH={tokenize:aH};function tH(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",e+=s}}return t.length!==n.length&&Cr(t,0,t.length,n),t}function nH(t,e){let n=t.length,i=0,s,o,u,h;for(;n--;)if(s=t[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(u=n);const d={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},g={type:"labelText",start:{...t[o+i+2][1].end},end:{...t[u-2][1].start}};return h=[["enter",d,e],["enter",f,e]],h=Ai(h,t.slice(o+1,o+i+3)),h=Ai(h,[["enter",g,e]]),h=Ai(h,Kx(e.parser.constructs.insideSpan.null,t.slice(o+i+4,u-3),e)),h=Ai(h,[["exit",g,e],t[u-2],t[u-1],["exit",f,e]]),h=Ai(h,t.slice(u+1)),h=Ai(h,[["exit",d,e]]),Cr(t,o,t.length,h),t}function iH(t,e,n){const i=this;let s=i.events.length,o,u;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){o=i.events[s][1];break}return h;function h(b){return o?o._inactive?x(b):(u=i.parser.defined.includes(Vl(i.sliceSerialize({start:o.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(b),t.exit("labelMarker"),t.exit("labelEnd"),d):n(b)}function d(b){return b===40?t.attempt(J7,g,u?g:x)(b):b===91?t.attempt(Z7,g,u?f:x)(b):u?g(b):x(b)}function f(b){return t.attempt(eH,g,x)(b)}function g(b){return e(b)}function x(b){return o._balanced=!0,n(b)}}function rH(t,e,n){return i;function i(x){return t.enter("resource"),t.enter("resourceMarker"),t.consume(x),t.exit("resourceMarker"),s}function s(x){return Xn(x)?Fc(t,o)(x):o(x)}function o(x){return x===41?g(x):Pk(t,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function u(x){return Xn(x)?Fc(t,d)(x):g(x)}function h(x){return n(x)}function d(x){return x===34||x===39||x===40?jk(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):g(x)}function f(x){return Xn(x)?Fc(t,g)(x):g(x)}function g(x){return x===41?(t.enter("resourceMarker"),t.consume(x),t.exit("resourceMarker"),t.exit("resource"),e):n(x)}}function sH(t,e,n){const i=this;return s;function s(h){return Ok.call(i,t,o,u,"reference","referenceMarker","referenceString")(h)}function o(h){return i.parser.defined.includes(Vl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function u(h){return n(h)}}function aH(t,e,n){return i;function i(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),s}function s(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const oH={name:"labelStartImage",resolveAll:Yx.resolveAll,tokenize:lH};function lH(t,e,n){const i=this;return s;function s(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),o}function o(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(h):e(h)}}const uH={name:"labelStartLink",resolveAll:Yx.resolveAll,tokenize:cH};function cH(t,e,n){const i=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const Oy={name:"lineEnding",tokenize:hH};function hH(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),vt(t,e,"linePrefix")}}const Pf={name:"thematicBreak",tokenize:dH};function dH(t,e,n){let i=0,s;return o;function o(f){return t.enter("thematicBreak"),u(f)}function u(f){return s=f,h(f)}function h(f){return f===s?(t.enter("thematicBreakSequence"),d(f)):i>=3&&(f===null||De(f))?(t.exit("thematicBreak"),e(f)):n(f)}function d(f){return f===s?(t.consume(f),i++,d):(t.exit("thematicBreakSequence"),st(f)?vt(t,h,"whitespace")(f):h(f))}}const $n={continuation:{tokenize:gH},exit:vH,name:"list",tokenize:pH},fH={partial:!0,tokenize:xH},mH={partial:!0,tokenize:yH};function pH(t,e,n){const i=this,s=i.events[i.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return h;function h(S){const C=i.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!i.containerState.marker||S===i.containerState.marker:G0(S)){if(i.containerState.type||(i.containerState.type=C,t.enter(C,{_container:!0})),C==="listUnordered")return t.enter("listItemPrefix"),S===42||S===45?t.check(Pf,n,f)(S):f(S);if(!i.interrupt||S===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(S)}return n(S)}function d(S){return G0(S)&&++u<10?(t.consume(S),d):(!i.interrupt||u<2)&&(i.containerState.marker?S===i.containerState.marker:S===41||S===46)?(t.exit("listItemValue"),f(S)):n(S)}function f(S){return t.enter("listItemMarker"),t.consume(S),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||S,t.check($m,i.interrupt?n:g,t.attempt(fH,b,x))}function g(S){return i.containerState.initialBlankLine=!0,o++,b(S)}function x(S){return st(S)?(t.enter("listItemPrefixWhitespace"),t.consume(S),t.exit("listItemPrefixWhitespace"),b):n(S)}function b(S){return i.containerState.size=o+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(S)}}function gH(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check($m,s,o);function s(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,vt(t,e,"listItemIndent",i.containerState.size+1)(h)}function o(h){return i.containerState.furtherBlankLines||!st(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(mH,e,u)(h))}function u(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,vt(t,t.attempt($n,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function yH(t,e,n){const i=this;return vt(t,s,"listItemIndent",i.containerState.size+1);function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(o):n(o)}}function vH(t){t.exit(this.containerState.type)}function xH(t,e,n){const i=this;return vt(t,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=i.events[i.events.length-1];return!st(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const u2={name:"setextUnderline",resolveTo:bH,tokenize:_H};function bH(t,e){let n=t.length,i,s,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",o?(t.splice(s,0,["enter",u,e]),t.splice(o+1,0,["exit",t[i][1],e]),t[i][1].end={...t[o][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function _H(t,e,n){const i=this;let s;return o;function o(f){let g=i.events.length,x;for(;g--;)if(i.events[g][1].type!=="lineEnding"&&i.events[g][1].type!=="linePrefix"&&i.events[g][1].type!=="content"){x=i.events[g][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||x)?(t.enter("setextHeadingLine"),s=f,u(f)):n(f)}function u(f){return t.enter("setextHeadingLineSequence"),h(f)}function h(f){return f===s?(t.consume(f),h):(t.exit("setextHeadingLineSequence"),st(f)?vt(t,d,"lineSuffix")(f):d(f))}function d(f){return f===null||De(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const SH={tokenize:EH};function EH(t){const e=this,n=t.attempt($m,i,t.attempt(this.parser.constructs.flowInitial,s,vt(t,t.attempt(this.parser.constructs.flow,s,t.attempt(N7,s)),"linePrefix")));return n;function i(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const TH={resolveAll:Vk()},wH=Lk("string"),CH=Lk("text");function Lk(t){return{resolveAll:Vk(t==="text"?AH:void 0),tokenize:e};function e(n){const i=this,s=this.parser.constructs[t],o=n.attempt(s,u,h);return u;function u(g){return f(g)?o(g):h(g)}function h(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),d}function d(g){return f(g)?(n.exit("data"),o(g)):(n.consume(g),d)}function f(g){if(g===null)return!0;const x=s[g];let b=-1;if(x)for(;++b<x.length;){const S=x[b];if(!S.previous||S.previous.call(i,i.previous))return!0}return!1}}}function Vk(t){return e;function e(n,i){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return t?t(n,i):n}}function AH(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],s=e.sliceStream(i);let o=s.length,u=-1,h=0,d;for(;o--;){const f=s[o];if(typeof f=="string"){for(u=f.length;f.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(f===-2)d=!0,h++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const f={type:n===t.length||d||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:i.start._bufferIndex+u,_index:i.start._index+o,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...f.start},i.start.offset===i.end.offset?Object.assign(i,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const NH={42:$n,43:$n,45:$n,48:$n,49:$n,50:$n,51:$n,52:$n,53:$n,54:$n,55:$n,56:$n,57:$n,62:kk},RH={91:D7},kH={[-2]:Py,[-1]:Py,32:Py},IH={35:B7,42:Pf,45:[u2,Pf],60:H7,61:u2,95:Pf,96:o2,126:o2},MH={38:Mk,92:Ik},DH={[-5]:Oy,[-4]:Oy,[-3]:Oy,33:oH,38:Mk,42:$0,60:[u7,X7],91:uH,92:[L7,Ik],93:Yx,95:$0,96:S7},PH={null:[$0,TH]},OH={null:[42,95]},jH={null:[]},LH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:OH,contentInitial:RH,disable:jH,document:NH,flow:IH,flowInitial:kH,insideSpan:PH,string:MH,text:DH},Symbol.toStringTag,{value:"Module"}));function VH(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let u=[],h=[];const d={attempt:I(J),check:I(F),consume:q,enter:L,exit:ee,interrupt:I(F,{interrupt:!0})},f={code:null,containerState:{},defineSkip:R,events:[],now:C,parser:t,previous:null,sliceSerialize:b,sliceStream:S,write:x};let g=e.tokenize.call(f,d);return e.resolveAll&&o.push(e),f;function x(V){return u=Ai(u,V),A(),u[u.length-1]!==null?[]:(w(e,0),f.events=Kx(o,f.events,f),f.events)}function b(V,U){return UH(S(V),U)}function S(V){return BH(u,V)}function C(){const{_bufferIndex:V,_index:U,line:j,column:fe,offset:ce}=i;return{_bufferIndex:V,_index:U,line:j,column:fe,offset:ce}}function R(V){s[V.line]=V.column,B()}function A(){let V;for(;i._index<u.length;){const U=u[i._index];if(typeof U=="string")for(V=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===V&&i._bufferIndex<U.length;)D(U.charCodeAt(i._bufferIndex));else D(U)}}function D(V){g=g(V)}function q(V){De(V)?(i.line++,i.column=1,i.offset+=V===-3?2:1,B()):V!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=V}function L(V,U){const j=U||{};return j.type=V,j.start=C(),f.events.push(["enter",j,f]),h.push(j),j}function ee(V){const U=h.pop();return U.end=C(),f.events.push(["exit",U,f]),U}function J(V,U){w(V,U.from)}function F(V,U){U.restore()}function I(V,U){return j;function j(fe,ce,Q){let ae,ge,Re,z;return Array.isArray(fe)?re(fe):"tokenize"in fe?re([fe]):G(fe);function G(Ee){return Ve;function Ve(gt){const at=gt!==null&&Ee[gt],cn=gt!==null&&Ee.null,Vn=[...Array.isArray(at)?at:at?[at]:[],...Array.isArray(cn)?cn:cn?[cn]:[]];return re(Vn)(gt)}}function re(Ee){return ae=Ee,ge=0,Ee.length===0?Q:O(Ee[ge])}function O(Ee){return Ve;function Ve(gt){return z=M(),Re=Ee,Ee.partial||(f.currentConstruct=Ee),Ee.name&&f.parser.constructs.disable.null.includes(Ee.name)?Te():Ee.tokenize.call(U?Object.assign(Object.create(f),U):f,d,ye,Te)(gt)}}function ye(Ee){return V(Re,z),ce}function Te(Ee){return z.restore(),++ge<ae.length?O(ae[ge]):Q}}}function w(V,U){V.resolveAll&&!o.includes(V)&&o.push(V),V.resolve&&Cr(f.events,U,f.events.length-U,V.resolve(f.events.slice(U),f)),V.resolveTo&&(f.events=V.resolveTo(f.events,f))}function M(){const V=C(),U=f.previous,j=f.currentConstruct,fe=f.events.length,ce=Array.from(h);return{from:fe,restore:Q};function Q(){i=V,f.previous=U,f.currentConstruct=j,f.events.length=fe,h=ce,B()}}function B(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function BH(t,e){const n=e.start._index,i=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(i,o)];else{if(u=t.slice(n,s),i>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(i):u.shift()}o>0&&u.push(t[s].slice(0,o))}return u}function UH(t,e){let n=-1;const i=[];let s;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,i.push(u)}return i.join("")}function zH(t){const i={constructs:YF([LH,...(t||{}).extensions||[]]),content:s(n7),defined:[],document:s(r7),flow:s(SH),lazy:{},string:s(wH),text:s(CH)};return i;function s(o){return u;function u(h){return VH(i,o,h)}}}function FH(t){for(;!Dk(t););return t}const c2=/[\0\t\n\r]/g;function HH(){let t=1,e="",n=!0,i;return s;function s(o,u,h){const d=[];let f,g,x,b,S;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),x=0,e="",n&&(o.charCodeAt(0)===65279&&x++,n=void 0);x<o.length;){if(c2.lastIndex=x,f=c2.exec(o),b=f&&f.index!==void 0?f.index:o.length,S=o.charCodeAt(b),!f){e=o.slice(x);break}if(S===10&&x===b&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),x<b&&(d.push(o.slice(x,b)),t+=b-x),S){case 0:{d.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,d.push(-2);t++<g;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:i=!0,t=1}x=b+1}return h&&(i&&d.push(-5),e&&d.push(e),d.push(null)),d}}const qH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function GH(t){return t.replace(qH,$H)}function $H(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return Rk(n.slice(o?2:1),o?16:10)}return $x(n)||t}const Bk={}.hasOwnProperty;function KH(t,e,n){return e&&typeof e=="object"&&(n=e,e=void 0),YH(n)(FH(zH(n).document().write(HH()(t,e,!0))))}function YH(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(kr),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(Ki),blockQuote:o(cn),characterEscape:M,characterReference:M,codeFenced:o(Vn),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Vn,u),codeText:o(Nr,u),codeTextData:M,data:M,codeFlowValue:M,definition:o(vs),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(Jn),hardBreakEscape:o(Rr),hardBreakTrailing:o(Rr),htmlFlow:o(Io,u),htmlFlowData:M,htmlText:o(Io,u),htmlTextData:M,image:o(Mo),label:u,link:o(kr),listItem:o(xs),listItemValue:b,listOrdered:o(Yi,x),listUnordered:o(Yi),paragraph:o(cu),reference:O,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(Ki),strong:o(Ma),thematicBreak:o(Do)},exit:{atxHeading:d(),atxHeadingSequence:J,autolink:d(),autolinkEmail:at,autolinkProtocol:gt,blockQuote:d(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:Te,characterReferenceMarkerNumeric:Te,characterReferenceValue:Ee,characterReference:Ve,codeFenced:d(A),codeFencedFence:R,codeFencedFenceInfo:S,codeFencedFenceMeta:C,codeFlowValue:B,codeIndented:d(D),codeText:d(ce),codeTextData:B,data:B,definition:d(),definitionDestinationString:ee,definitionLabelString:q,definitionTitleString:L,emphasis:d(),hardBreakEscape:d(U),hardBreakTrailing:d(U),htmlFlow:d(j),htmlFlowData:B,htmlText:d(fe),htmlTextData:B,image:d(ae),label:Re,labelText:ge,lineEnding:V,link:d(Q),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ye,resourceDestinationString:z,resourceTitleString:G,resource:re,setextHeading:d(w),setextHeadingLineSequence:I,setextHeadingText:F,strong:d(),thematicBreak:d()}};Uk(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(ie){let de={type:"root",children:[]};const Ce={stack:[de],tokenStack:[],config:e,enter:h,exit:f,buffer:u,resume:g,data:n},ze=[];let Ze=-1;for(;++Ze<ie.length;)if(ie[Ze][1].type==="listOrdered"||ie[Ze][1].type==="listUnordered")if(ie[Ze][0]==="enter")ze.push(Ze);else{const Rn=ze.pop();Ze=s(ie,Rn,Ze)}for(Ze=-1;++Ze<ie.length;){const Rn=e[ie[Ze][0]];Bk.call(Rn,ie[Ze][1].type)&&Rn[ie[Ze][1].type].call(Object.assign({sliceSerialize:ie[Ze][2].sliceSerialize},Ce),ie[Ze][1])}if(Ce.tokenStack.length>0){const Rn=Ce.tokenStack[Ce.tokenStack.length-1];(Rn[1]||h2).call(Ce,void 0,Rn[0])}for(de.position={start:la(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:la(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<e.transforms.length;)de=e.transforms[Ze](de)||de;return de}function s(ie,de,Ce){let ze=de-1,Ze=-1,Rn=!1,kn,en,Nt,tn;for(;++ze<=Ce;){const ut=ie[ze];switch(ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ut[0]==="enter"?Ze++:Ze--,tn=void 0;break}case"lineEndingBlank":{ut[0]==="enter"&&(kn&&!tn&&!Ze&&!Nt&&(Nt=ze),tn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tn=void 0}if(!Ze&&ut[0]==="enter"&&ut[1].type==="listItemPrefix"||Ze===-1&&ut[0]==="exit"&&(ut[1].type==="listUnordered"||ut[1].type==="listOrdered")){if(kn){let Qi=ze;for(en=void 0;Qi--;){const In=ie[Qi];if(In[1].type==="lineEnding"||In[1].type==="lineEndingBlank"){if(In[0]==="exit")continue;en&&(ie[en][1].type="lineEndingBlank",Rn=!0),In[1].type="lineEnding",en=Qi}else if(!(In[1].type==="linePrefix"||In[1].type==="blockQuotePrefix"||In[1].type==="blockQuotePrefixWhitespace"||In[1].type==="blockQuoteMarker"||In[1].type==="listItemIndent"))break}Nt&&(!en||Nt<en)&&(kn._spread=!0),kn.end=Object.assign({},en?ie[en][1].start:ut[1].end),ie.splice(en||ze,0,["exit",kn,ut[2]]),ze++,Ce++}if(ut[1].type==="listItemPrefix"){const Qi={type:"listItem",_spread:!1,start:Object.assign({},ut[1].start),end:void 0};kn=Qi,ie.splice(ze,0,["enter",Qi,ut[2]]),ze++,Ce++,Nt=void 0,tn=!0}}}return ie[de][1]._spread=Rn,Ce}function o(ie,de){return Ce;function Ce(ze){h.call(this,ie(ze),ze),de&&de.call(this,ze)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(ie,de,Ce){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([de,Ce||void 0]),ie.position={start:la(de.start),end:void 0}}function d(ie){return de;function de(Ce){ie&&ie.call(this,Ce),f.call(this,Ce)}}function f(ie,de){const Ce=this.stack.pop(),ze=this.tokenStack.pop();if(ze)ze[0].type!==ie.type&&(de?de.call(this,ie,ze[0]):(ze[1]||h2).call(this,ie,ze[0]));else throw new Error("Cannot close `"+ie.type+"` ("+zc({start:ie.start,end:ie.end})+"): its not open");Ce.position.end=la(ie.end)}function g(){return $F(this.stack.pop())}function x(){this.data.expectingFirstListItemValue=!0}function b(ie){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function S(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.lang=ie}function C(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.meta=ie}function R(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function D(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.value=ie.replace(/(\r?\n|\r)$/g,"")}function q(ie){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=de,Ce.identifier=Vl(this.sliceSerialize(ie)).toLowerCase()}function L(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.title=ie}function ee(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.url=ie}function J(ie){const de=this.stack[this.stack.length-1];if(!de.depth){const Ce=this.sliceSerialize(ie).length;de.depth=Ce}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function I(ie){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function w(){this.data.setextHeadingSlurpLineEnding=void 0}function M(ie){const Ce=this.stack[this.stack.length-1].children;let ze=Ce[Ce.length-1];(!ze||ze.type!=="text")&&(ze=Yt(),ze.position={start:la(ie.start),end:void 0},Ce.push(ze)),this.stack.push(ze)}function B(ie){const de=this.stack.pop();de.value+=this.sliceSerialize(ie),de.position.end=la(ie.end)}function V(ie){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=de.children[de.children.length-1];Ce.position.end=la(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(de.type)&&(M.call(this,ie),B.call(this,ie))}function U(){this.data.atHardBreak=!0}function j(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.value=ie}function fe(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.value=ie}function ce(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.value=ie}function Q(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=de,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function ae(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=de,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function ge(ie){const de=this.sliceSerialize(ie),Ce=this.stack[this.stack.length-2];Ce.label=GH(de),Ce.identifier=Vl(de).toLowerCase()}function Re(){const ie=this.stack[this.stack.length-1],de=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const ze=ie.children;Ce.children=ze}else Ce.alt=de}function z(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.url=ie}function G(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.title=ie}function re(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function ye(ie){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=de,Ce.identifier=Vl(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function Te(ie){this.data.characterReferenceType=ie.type}function Ee(ie){const de=this.sliceSerialize(ie),Ce=this.data.characterReferenceType;let ze;Ce?(ze=Rk(de,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ze=$x(de);const Ze=this.stack[this.stack.length-1];Ze.value+=ze}function Ve(ie){const de=this.stack.pop();de.position.end=la(ie.end)}function gt(ie){B.call(this,ie);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(ie)}function at(ie){B.call(this,ie);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(ie)}function cn(){return{type:"blockquote",children:[]}}function Vn(){return{type:"code",lang:null,meta:null,value:""}}function Nr(){return{type:"inlineCode",value:""}}function vs(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Jn(){return{type:"emphasis",children:[]}}function Ki(){return{type:"heading",depth:0,children:[]}}function Rr(){return{type:"break"}}function Io(){return{type:"html",value:""}}function Mo(){return{type:"image",title:null,url:"",alt:null}}function kr(){return{type:"link",title:null,url:"",children:[]}}function Yi(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function xs(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function cu(){return{type:"paragraph",children:[]}}function Ma(){return{type:"strong",children:[]}}function Yt(){return{type:"text",value:""}}function Do(){return{type:"thematicBreak"}}}function la(t){return{line:t.line,column:t.column,offset:t.offset}}function Uk(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?Uk(t,i):QH(t,i)}}function QH(t,e){let n;for(n in e)if(Bk.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function h2(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+zc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+zc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+zc({start:e.start,end:e.end})+") is still open")}function XH(t){const e=this;e.parser=n;function n(i){return KH(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function WH(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function JH(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function ZH(t,e){const n=e.value?e.value+`
`:"",i={},s=e.lang?e.lang.split(/\s+/):[];s.length>0&&(i.className=["language-"+s[0]]);let o={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function eq(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tq(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function nq(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),s=uu(i.toLowerCase()),o=t.footnoteOrder.indexOf(i);let u,h=t.footnoteCounts.get(i);h===void 0?(h=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=o+1,h+=1,t.footnoteCounts.set(i,h);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,f),t.applyData(e,f)}function iq(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rq(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function zk(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const s=t.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=i:s.push({type:"text",value:i}),s}function sq(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return zk(t,e);const s={src:uu(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,o),t.applyData(e,o)}function aq(t,e){const n={src:uu(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function oq(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function lq(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return zk(t,e);const s={href:uu(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function uq(t,e){const n={href:uu(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function cq(t,e,n){const i=t.all(e),s=n?hq(n):Fk(e),o={},u=[];if(typeof e.checked=="boolean"){const g=i[0];let x;g&&g.type==="element"&&g.tagName==="p"?x=g:(x={type:"element",tagName:"p",properties:{},children:[]},i.unshift(x)),x.children.length>0&&x.children.unshift({type:"text",value:" "}),x.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const g=i[h];(s||h!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!s?u.push(...g.children):u.push(g)}const d=i[i.length-1];d&&(s||d.type!=="element"||d.tagName!=="p")&&u.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,f),t.applyData(e,f)}function hq(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=Fk(n[i])}return e}function Fk(t){const e=t.spread;return e??t.children.length>1}function dq(t,e){const n={},i=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<i.length;){const u=i[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function fq(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mq(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function pq(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function gq(t,e){const n=t.all(e),i=n.shift(),s=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=Fx(e.children[1]),d=Sk(e.children[e.children.length-1]);h&&d&&(u.position={start:h,end:d}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function yq(t,e,n){const i=n?n.children:void 0,o=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:e.children.length;let d=-1;const f=[];for(;++d<h;){const x=e.children[d],b={},S=u?u[d]:void 0;S&&(b.align=S);let C={type:"element",tagName:o,properties:b,children:[]};x&&(C.children=t.all(x),t.patch(x,C),C=t.applyData(x,C)),f.push(C)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,g),t.applyData(e,g)}function vq(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const d2=9,f2=32;function xq(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),s=0;const o=[];for(;i;)o.push(m2(e.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(e);return o.push(m2(e.slice(s),s>0,!1)),o.join("")}function m2(t,e,n){let i=0,s=t.length;if(e){let o=t.codePointAt(i);for(;o===d2||o===f2;)i++,o=t.codePointAt(i)}if(n){let o=t.codePointAt(s-1);for(;o===d2||o===f2;)s--,o=t.codePointAt(s-1)}return s>i?t.slice(i,s):""}function bq(t,e){const n={type:"text",value:xq(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function _q(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Sq={blockquote:WH,break:JH,code:ZH,delete:eq,emphasis:tq,footnoteReference:nq,heading:iq,html:rq,imageReference:sq,image:aq,inlineCode:oq,linkReference:lq,link:uq,listItem:cq,list:dq,paragraph:fq,root:mq,strong:pq,table:gq,tableCell:vq,tableRow:yq,text:bq,thematicBreak:_q,toml:mf,yaml:mf,definition:mf,footnoteDefinition:mf};function mf(){}const Hk=-1,Km=0,Hc=1,dm=2,Qx=3,Xx=4,Wx=5,Jx=6,qk=7,Gk=8,p2=typeof self=="object"?self:globalThis,Eq=(t,e)=>{const n=(s,o)=>(t.set(o,s),s),i=s=>{if(t.has(s))return t.get(s);const[o,u]=e[s];switch(o){case Km:case Hk:return n(u,s);case Hc:{const h=n([],s);for(const d of u)h.push(i(d));return h}case dm:{const h=n({},s);for(const[d,f]of u)h[i(d)]=i(f);return h}case Qx:return n(new Date(u),s);case Xx:{const{source:h,flags:d}=u;return n(new RegExp(h,d),s)}case Wx:{const h=n(new Map,s);for(const[d,f]of u)h.set(i(d),i(f));return h}case Jx:{const h=n(new Set,s);for(const d of u)h.add(i(d));return h}case qk:{const{name:h,message:d}=u;return n(new p2[h](d),s)}case Gk:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new p2[o](u),s)};return i},g2=t=>Eq(new Map,t)(0),bl="",{toString:Tq}={},{keys:wq}=Object,vc=t=>{const e=typeof t;if(e!=="object"||!t)return[Km,e];const n=Tq.call(t).slice(8,-1);switch(n){case"Array":return[Hc,bl];case"Object":return[dm,bl];case"Date":return[Qx,bl];case"RegExp":return[Xx,bl];case"Map":return[Wx,bl];case"Set":return[Jx,bl];case"DataView":return[Hc,n]}return n.includes("Array")?[Hc,n]:n.includes("Error")?[qk,n]:[dm,n]},pf=([t,e])=>t===Km&&(e==="function"||e==="symbol"),Cq=(t,e,n,i)=>{const s=(u,h)=>{const d=i.push(u)-1;return n.set(h,d),d},o=u=>{if(n.has(u))return n.get(u);let[h,d]=vc(u);switch(h){case Km:{let g=u;switch(d){case"bigint":h=Gk,g=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);g=null;break;case"undefined":return s([Hk],u)}return s([h,g],u)}case Hc:{if(d){let b=u;return d==="DataView"?b=new Uint8Array(u.buffer):d==="ArrayBuffer"&&(b=new Uint8Array(u)),s([d,[...b]],u)}const g=[],x=s([h,g],u);for(const b of u)g.push(o(b));return x}case dm:{if(d)switch(d){case"BigInt":return s([d,u.toString()],u);case"Boolean":case"Number":case"String":return s([d,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const g=[],x=s([h,g],u);for(const b of wq(u))(t||!pf(vc(u[b])))&&g.push([o(b),o(u[b])]);return x}case Qx:return s([h,u.toISOString()],u);case Xx:{const{source:g,flags:x}=u;return s([h,{source:g,flags:x}],u)}case Wx:{const g=[],x=s([h,g],u);for(const[b,S]of u)(t||!(pf(vc(b))||pf(vc(S))))&&g.push([o(b),o(S)]);return x}case Jx:{const g=[],x=s([h,g],u);for(const b of u)(t||!pf(vc(b)))&&g.push(o(b));return x}}const{message:f}=u;return s([h,{name:d,message:f}],u)};return o},y2=(t,{json:e,lossy:n}={})=>{const i=[];return Cq(!(e||n),!!e,new Map,i)(t),i},fm=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?g2(y2(t,e)):structuredClone(t):(t,e)=>g2(y2(t,e));function Aq(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Nq(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Rq(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Aq,i=t.options.footnoteBackLabel||Nq,s=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let d=-1;for(;++d<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[d]);if(!f)continue;const g=t.all(f),x=String(f.identifier).toUpperCase(),b=uu(x.toLowerCase());let S=0;const C=[],R=t.footnoteCounts.get(x);for(;R!==void 0&&++S<=R;){C.length>0&&C.push({type:"text",value:" "});let q=typeof n=="string"?n:n(d,S);typeof q=="string"&&(q={type:"text",value:q}),C.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+b+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(d,S),className:["data-footnote-backref"]},children:Array.isArray(q)?q:[q]})}const A=g[g.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const q=A.children[A.children.length-1];q&&q.type==="text"?q.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...C)}else g.push(...C);const D={type:"element",tagName:"li",properties:{id:e+"fn-"+b},children:t.wrap(g,!0)};t.patch(f,D),h.push(D)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...fm(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const $k=(function(t){if(t==null)return Dq;if(typeof t=="function")return Ym(t);if(typeof t=="object")return Array.isArray(t)?kq(t):Iq(t);if(typeof t=="string")return Mq(t);throw new Error("Expected function, string, or object as test")});function kq(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=$k(t[n]);return Ym(i);function i(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function Iq(t){const e=t;return Ym(n);function n(i){const s=i;let o;for(o in t)if(s[o]!==e[o])return!1;return!0}}function Mq(t){return Ym(e);function e(n){return n&&n.type===t}}function Ym(t){return e;function e(n,i,s){return!!(Pq(n)&&t.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function Dq(){return!0}function Pq(t){return t!==null&&typeof t=="object"&&"type"in t}const Kk=[],Oq=!0,v2=!1,jq="skip";function Lq(t,e,n,i){let s;typeof e=="function"&&typeof n!="function"?(i=n,n=e):s=e;const o=$k(s),u=i?-1:1;h(t,void 0,[])();function h(d,f,g){const x=d&&typeof d=="object"?d:{};if(typeof x.type=="string"){const S=typeof x.tagName=="string"?x.tagName:typeof x.name=="string"?x.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(d.type+(S?"<"+S+">":""))+")"})}return b;function b(){let S=Kk,C,R,A;if((!e||o(d,f,g[g.length-1]||void 0))&&(S=Vq(n(d,g)),S[0]===v2))return S;if("children"in d&&d.children){const D=d;if(D.children&&S[0]!==jq)for(R=(i?D.children.length:-1)+u,A=g.concat(D);R>-1&&R<D.children.length;){const q=D.children[R];if(C=h(q,R,A)(),C[0]===v2)return C;R=typeof C[1]=="number"?C[1]:R+u}}return S}}}function Vq(t){return Array.isArray(t)?t:typeof t=="number"?[Oq,t]:t==null?Kk:[t]}function Yk(t,e,n,i){let s,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,s=n):(o=e,u=n,s=i),Lq(t,o,h,s);function h(d,f){const g=f[f.length-1],x=g?g.children.indexOf(d):void 0;return u(d,x,g)}}const K0={}.hasOwnProperty,Bq={};function Uq(t,e){const n=e||Bq,i=new Map,s=new Map,o=new Map,u={...Sq,...n.handlers},h={all:f,applyData:Fq,definitionById:i,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:d,options:n,patch:zq,wrap:qq};return Yk(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const x=g.type==="definition"?i:s,b=String(g.identifier).toUpperCase();x.has(b)||x.set(b,g)}}),h;function d(g,x){const b=g.type,S=h.handlers[b];if(K0.call(h.handlers,b)&&S)return S(h,g,x);if(h.options.passThrough&&h.options.passThrough.includes(b)){if("children"in g){const{children:R,...A}=g,D=fm(A);return D.children=h.all(g),D}return fm(g)}return(h.options.unknownHandler||Hq)(h,g,x)}function f(g){const x=[];if("children"in g){const b=g.children;let S=-1;for(;++S<b.length;){const C=h.one(b[S],g);if(C){if(S&&b[S-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=x2(C.value)),!Array.isArray(C)&&C.type==="element")){const R=C.children[0];R&&R.type==="text"&&(R.value=x2(R.value))}Array.isArray(C)?x.push(...C):x.push(C)}}}return x}}function zq(t,e){t.position&&(e.position=TF(t))}function Fq(t,e){let n=e;if(t&&t.data){const i=t.data.hName,s=t.data.hChildren,o=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,fm(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function Hq(t,e){const n=e.data||{},i="value"in e&&!(K0.call(n,"hProperties")||K0.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function qq(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function x2(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function b2(t,e){const n=Uq(t,e),i=n.one(t,void 0),s=Rq(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function Gq(t,e){return t&&"run"in t?async function(n,i){const s=b2(n,{file:i,...e});await t.run(s,i)}:function(n,i){return b2(n,{file:i,...t||e})}}function _2(t){if(t)throw t}var jy,S2;function $q(){if(S2)return jy;S2=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},o=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var g=t.call(f,"constructor"),x=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!x)return!1;var b;for(b in f);return typeof b>"u"||t.call(f,b)},u=function(f,g){n&&g.name==="__proto__"?n(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},h=function(f,g){if(g==="__proto__")if(t.call(f,g)){if(i)return i(f,g).value}else return;return f[g]};return jy=function d(){var f,g,x,b,S,C,R=arguments[0],A=1,D=arguments.length,q=!1;for(typeof R=="boolean"&&(q=R,R=arguments[1]||{},A=2),(R==null||typeof R!="object"&&typeof R!="function")&&(R={});A<D;++A)if(f=arguments[A],f!=null)for(g in f)x=h(R,g),b=h(f,g),R!==b&&(q&&b&&(o(b)||(S=s(b)))?(S?(S=!1,C=x&&s(x)?x:[]):C=x&&o(x)?x:{},u(R,{name:g,newValue:d(q,C,b)})):typeof b<"u"&&u(R,{name:g,newValue:b}));return R},jy}var Kq=$q();const Ly=X0(Kq);function Y0(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Yq(){const t=[],e={run:n,use:i};return e;function n(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...s);function h(d,...f){const g=t[++o];let x=-1;if(d){u(d);return}for(;++x<s.length;)(f[x]===null||f[x]===void 0)&&(f[x]=s[x]);s=f,g?Qq(g,h)(...f):u(null,...f)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function Qq(t,e){let n;return i;function i(...u){const h=t.length>u.length;let d;h&&u.push(s);try{d=t.apply(this,u)}catch(f){const g=f;if(h&&n)throw g;return s(g)}h||(d&&d.then&&typeof d.then=="function"?d.then(o,s):d instanceof Error?s(d):o(d))}function s(u,...h){n||(n=!0,e(u,...h))}function o(u){s(null,u)}}const ur={basename:Xq,dirname:Wq,extname:Jq,join:Zq,sep:"/"};function Xq(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Nh(t);let n=0,i=-1,s=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else i<0&&(o=!0,i=s+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,h=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else u<0&&(o=!0,u=s+1),h>-1&&(t.codePointAt(s)===e.codePointAt(h--)?h<0&&(i=s):(h=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function Wq(t){if(Nh(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Jq(t){Nh(t);let e=t.length,n=-1,i=0,s=-1,o=0,u;for(;e--;){const h=t.codePointAt(e);if(h===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),h===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===i+1?"":t.slice(s,n)}function Zq(...t){let e=-1,n;for(;++e<t.length;)Nh(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":eG(n)}function eG(t){Nh(t);const e=t.codePointAt(0)===47;let n=tG(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function tG(t,e){let n="",i=0,s=-1,o=0,u=-1,h,d;for(;++u<=t.length;){if(u<t.length)h=t.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",i=0):(n=n.slice(0,d),i=n.length-1-n.lastIndexOf("/")),s=u,o=0;continue}}else if(n.length>0){n="",i=0,s=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),i=u-s-1;s=u,o=0}else h===46&&o>-1?o++:o=-1}return n}function Nh(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const nG={cwd:iG};function iG(){return"/"}function Q0(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function rG(t){if(typeof t=="string")t=new URL(t);else if(!Q0(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return sG(t)}function sG(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const Vy=["history","path","basename","stem","extname","dirname"];class Qk{constructor(e){let n;e?Q0(e)?n={path:e}:typeof e=="string"||aG(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":nG.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Vy.length;){const o=Vy[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)Vy.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?ur.basename(this.path):void 0}set basename(e){Uy(e,"basename"),By(e,"basename"),this.path=ur.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ur.dirname(this.path):void 0}set dirname(e){E2(this.basename,"dirname"),this.path=ur.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ur.extname(this.path):void 0}set extname(e){if(By(e,"extname"),E2(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ur.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Q0(e)&&(e=rG(e)),Uy(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ur.basename(this.path,this.extname):void 0}set stem(e){Uy(e,"stem"),By(e,"stem"),this.path=ur.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const s=this.message(e,n,i);throw s.fatal=!0,s}info(e,n,i){const s=this.message(e,n,i);return s.fatal=void 0,s}message(e,n,i){const s=new Nn(e,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function By(t,e){if(t&&t.includes(ur.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ur.sep+"`")}function Uy(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function E2(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function aG(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const oG=(function(t){const i=this.constructor.prototype,s=i[t],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,i),o}),lG={}.hasOwnProperty;class Zx extends oG{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Yq()}copy(){const e=new Zx;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(Ly(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Hy("data",this.frozen),this.namespace[e]=n,this):lG.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Hy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(e,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=gf(e),i=this.parser||this.Parser;return zy("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),zy("process",this.parser||this.Parser),Fy("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,u){const h=gf(e),d=i.parse(h);i.run(d,h,function(g,x,b){if(g||!x||!b)return f(g);const S=x,C=i.stringify(S,b);hG(C)?b.value=C:b.result=C,f(g,b)});function f(g,x){g||!x?u(g):o?o(x):n(void 0,x)}}}processSync(e){let n=!1,i;return this.freeze(),zy("processSync",this.parser||this.Parser),Fy("processSync",this.compiler||this.Compiler),this.process(e,s),w2("processSync","process",n),i;function s(o,u){n=!0,_2(o),i=u}}run(e,n,i){T2(e),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?o(void 0,i):new Promise(o);function o(u,h){const d=gf(n);s.run(e,d,f);function f(g,x,b){const S=x||e;g?h(g):u?u(S):i(void 0,S,b)}}}runSync(e,n){let i=!1,s;return this.run(e,n,o),w2("runSync","run",i),s;function o(u,h){_2(u),s=h,i=!0}}stringify(e,n){this.freeze();const i=gf(n),s=this.compiler||this.Compiler;return Fy("stringify",s),T2(e),s(e,i)}use(e,...n){const i=this.attachers,s=this.namespace;if(Hy("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[g,...x]=f;d(g,x)}else u(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function u(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(f.plugins),f.settings&&(s.settings=Ly(!0,s.settings,f.settings))}function h(f){let g=-1;if(f!=null)if(Array.isArray(f))for(;++g<f.length;){const x=f[g];o(x)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,g){let x=-1,b=-1;for(;++x<i.length;)if(i[x][0]===f){b=x;break}if(b===-1)i.push([f,...g]);else if(g.length>0){let[S,...C]=g;const R=i[b][1];Y0(R)&&Y0(S)&&(S=Ly(!0,R,S)),i[b]=[f,S,...C]}}}}const uG=new Zx().freeze();function zy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Fy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Hy(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function T2(t){if(!Y0(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function w2(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function gf(t){return cG(t)?t:new Qk(t)}function cG(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function hG(t){return typeof t=="string"||dG(t)}function dG(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const fG="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",C2=[],A2={allowDangerousHtml:!0},mG=/^(https?|ircs?|mailto|xmpp)$/i,pG=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function gG(t){const e=yG(t),n=vG(t);return xG(e.runSync(e.parse(n),n),t)}function yG(t){const e=t.rehypePlugins||C2,n=t.remarkPlugins||C2,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...A2}:A2;return uG().use(XH).use(n).use(Gq,i).use(e)}function vG(t){const e=t.children||"",n=new Qk;return typeof e=="string"&&(n.value=e),n}function xG(t,e){const n=e.allowedElements,i=e.allowElement,s=e.components,o=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,d=e.urlTransform||bG;for(const g of pG)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+fG+g.id,void 0);return Yk(t,f),RF(t,{Fragment:y.Fragment,components:s,ignoreInvalidStyle:!0,jsx:y.jsx,jsxs:y.jsxs,passKeys:!0,passNode:!0});function f(g,x,b){if(g.type==="raw"&&b&&typeof x=="number")return u?b.children.splice(x,1):b.children[x]={type:"text",value:g.value},x;if(g.type==="element"){let S;for(S in Dy)if(Object.hasOwn(Dy,S)&&Object.hasOwn(g.properties,S)){const C=g.properties[S],R=Dy[S];(R===null||R.includes(g.tagName))&&(g.properties[S]=d(String(C||""),S,g))}}if(g.type==="element"){let S=n?!n.includes(g.tagName):o?o.includes(g.tagName):!1;if(!S&&i&&typeof x=="number"&&(S=!i(g,x,b)),S&&b&&typeof x=="number")return h&&g.children?b.children.splice(x,1,...g.children):b.children.splice(x,1),x}}}function bG(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||i!==-1&&e>i||mG.test(t.slice(0,e))?t:""}function _G({response:t}){return t.explanation?y.jsx(qe.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.3},className:"glass-card p-6 border border-hils-accent/20",children:y.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-hils-text leading-relaxed",children:y.jsx(gG,{components:{p:({children:e})=>y.jsx("p",{className:"mb-4 last:mb-0",children:e}),h1:({children:e})=>y.jsx("h1",{className:"text-xl font-bold text-hils-accent mb-4 mt-6 first:mt-0",children:e}),h2:({children:e})=>y.jsx("h2",{className:"text-lg font-bold text-white mb-3 mt-5 first:mt-0",children:e}),h3:({children:e})=>y.jsx("h3",{className:"text-base font-semibold text-hils-text-muted mb-2 mt-4 first:mt-0",children:e}),ul:({children:e})=>y.jsx("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:e}),ol:({children:e})=>y.jsx("ol",{className:"list-decimal pl-5 mb-4 space-y-2",children:e}),li:({children:e})=>y.jsx("li",{className:"text-hils-text-muted pl-1",children:e}),strong:({children:e})=>y.jsx("strong",{className:"font-semibold text-white",children:e}),em:({children:e})=>y.jsx("em",{className:"italic text-hils-text-dim",children:e})},children:t.explanation})})}):null}function SG({explainResponse:t,topicContext:e,personaId:n,personaModifier:i}){const[s,o]=P.useState("idle"),[u,h]=P.useState(1),[d,f]=P.useState(""),[g,x]=P.useState(!1),b=P.useRef(null),{generateExplanation:S,isLoading:C,response:R}=mk();P.useEffect(()=>()=>{window.speechSynthesis.cancel()},[]);const A=P.useCallback(()=>t?[t.explanation,t.analogy?`
Analogy: ${t.analogy}`:"",t.example?`
Example: ${t.example}`:""].join(`
`).replace(/\*\*/g,"").replace(/#{1,6}\s/g,"").replace(/```[\s\S]*?```/g,"[code block omitted]").trim():"",[t]),D=P.useCallback(()=>{if(s==="paused"){window.speechSynthesis.resume(),o("playing");return}const I=A();if(!I)return;window.speechSynthesis.cancel();const w=new SpeechSynthesisUtterance(I);w.rate=u,w.onend=()=>o("idle"),w.onerror=()=>o("idle"),b.current=w,window.speechSynthesis.speak(w),o("playing")},[s,u,A]),q=P.useCallback(()=>{window.speechSynthesis.pause(),o("paused")},[]),L=P.useCallback(()=>{window.speechSynthesis.cancel(),o("idle")},[]),ee=P.useCallback(I=>{if(h(I),s==="playing"){window.speechSynthesis.cancel();const w=A();if(!w)return;const M=new SpeechSynthesisUtterance(w);M.rate=I,M.onend=()=>o("idle"),M.onerror=()=>o("idle"),b.current=M,window.speechSynthesis.speak(M)}},[s,A]),J=P.useCallback(async()=>{if(!(!d.trim()||!e)){x(!0);try{await S({topicId:e.topicId,topicName:`${e.topicName}  Quick Doubt: ${d.trim()}`,subjectName:e.subjectName,moduleName:e.moduleName,personaId:n,personaModifier:`${i||""}

IMPORTANT: Answer this doubt in 3-5 short sentences maximum. Be direct and concise.`.trim(),mode:"explain",syllabusContext:e.syllabusContext}),f("")}finally{x(!1)}}},[d,e,n,i,S]),F=[.8,.9,1,1.1,1.25];return t?y.jsxs(qe.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-5",children:[y.jsxs("div",{className:"glass-card p-6 border border-hils-border",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[y.jsx("div",{className:"p-1.5 rounded-lg bg-emerald-400/10",children:y.jsx(f0,{className:"w-4 h-4 text-emerald-400"})}),y.jsx("h3",{className:"text-sm font-semibold text-emerald-400 uppercase tracking-wider",children:"Voice Teacher"})]}),y.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[s==="playing"?y.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20 text-amber-400 hover:bg-amber-500/20 transition-all text-sm font-medium",children:[y.jsx(Lj,{className:"w-4 h-4"}),"Pause"]}):y.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 hover:bg-emerald-500/20 transition-all text-sm font-medium",children:[y.jsx(Bj,{className:"w-4 h-4"}),s==="paused"?"Resume":"Play"]}),y.jsxs("button",{onClick:L,disabled:s==="idle",className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 hover:bg-red-500/20 transition-all text-sm font-medium disabled:opacity-30 disabled:cursor-not-allowed",children:[y.jsx(qj,{className:"w-4 h-4"}),"Stop"]}),s!=="idle"&&y.jsx("span",{className:"text-xs text-hils-text-muted ml-2",children:s==="playing"?" Speaking...":" Paused"})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-xs text-hils-text-muted font-medium",children:"Speed:"}),y.jsx("div",{className:"flex items-center gap-1.5",children:F.map(I=>y.jsxs("button",{onClick:()=>ee(I),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-all
                                    ${u===I?"bg-white/10 border border-white/20 text-white":"text-hils-text-muted hover:bg-white/[0.04] hover:text-hils-text"}`,children:[I,"x"]},I))})]})]}),y.jsxs("div",{className:"glass-card p-6 border border-hils-border",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx("div",{className:"p-1.5 rounded-lg bg-blue-400/10",children:y.jsx(aT,{className:"w-4 h-4 text-blue-400"})}),y.jsx("h3",{className:"text-sm font-semibold text-blue-400 uppercase tracking-wider",children:"Quick Doubt"})]}),y.jsx("p",{className:"text-xs text-hils-text-muted mb-3",children:"Ask a short question about this topic. The answer will be brief and to the point."}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:d,onChange:I=>f(I.target.value),onKeyDown:I=>I.key==="Enter"&&J(),placeholder:"Type your doubt...",className:"flex-1 bg-white/[0.04] border border-hils-border rounded-lg px-3 py-2 text-sm text-hils-text placeholder-hils-text-dim focus:outline-none focus:border-white/20"}),y.jsx("button",{onClick:J,disabled:!d.trim()||g||C,className:"px-4 py-2 rounded-lg bg-blue-500/10 border border-blue-500/20 text-blue-400 hover:bg-blue-500/20 transition-all text-sm font-medium disabled:opacity-30 disabled:cursor-not-allowed flex items-center gap-2",children:g?y.jsxs(y.Fragment,{children:[y.jsx(mo,{className:"w-3.5 h-3.5 animate-spin"}),"Thinking..."]}):"Ask"})]})]}),R&&!g&&y.jsxs(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-5 border border-blue-400/20",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y.jsx("div",{className:"p-1.5 rounded-lg bg-blue-400/10",children:y.jsx(aT,{className:"w-4 h-4 text-blue-400"})}),y.jsx("h3",{className:"text-sm font-semibold text-blue-400 uppercase tracking-wider",children:"Answer"})]}),y.jsx("div",{className:"text-hils-text text-sm leading-relaxed whitespace-pre-wrap",children:R.explanation})]})]}):y.jsxs("div",{className:"glass-card p-8 text-center",children:[y.jsx(f0,{className:"w-12 h-12 text-hils-text-dim mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-semibold text-hils-text mb-2",children:"Voice Teacher"}),y.jsxs("p",{className:"text-sm text-hils-text-muted mb-4 max-w-md mx-auto",children:["First generate an explanation in the ",y.jsx("strong",{children:"Explain"})," tab, then come back here to listen to it read aloud."]})]})}function EG(){const{activePersona:t,personas:e,setPersona:n}=Bx(),[i,s]=P.useState(!1);return y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>s(!i),className:`flex items-center gap-2 px-3 py-2 rounded-lg bg-hils-surface border border-hils-border
                   hover:border-white/[0.15] transition-all duration-200`,children:[y.jsx("span",{className:"text-lg",children:t.emoji}),y.jsx("span",{className:"text-sm font-medium text-hils-text",children:t.name}),y.jsx(DA,{className:`w-3.5 h-3.5 text-hils-text-dim transition-transform duration-200 ${i?"rotate-180":""}`})]}),y.jsx(hh,{children:i&&y.jsx(qe.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.15},className:"absolute top-full mt-2 left-0 w-72 glass-card p-2 z-50 shadow-xl",children:e.map(o=>y.jsxs("button",{onClick:()=>{n(o.id),s(!1)},className:`w-full flex items-start gap-3 p-3 rounded-lg transition-all duration-150
                  ${t.id===o.id?"bg-white/[0.08] border border-white/[0.12]":"hover:bg-hils-surface border border-transparent"}`,children:[y.jsx("span",{className:"text-xl mt-0.5",children:o.emoji}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"text-sm font-medium text-hils-text",children:o.name}),y.jsx("p",{className:"text-xs text-hils-text-dim mt-0.5",children:o.description})]})]},o.id))})})]})}const TG=[{mode:"planner",label:"Planner",icon:yo},{mode:"explain_v2",label:"Explanation",icon:yo},{mode:"exam_answer",label:"Exam Answer",icon:Bv},{mode:"rapid_revision",label:"Rapid Revision",icon:zv},{mode:"voice_teacher",label:"Voice Teacher",icon:f0}];function wG(){const{topicId:t}=F2(),e=Mi(),{activeMode:n,setMode:i,isLoading:s,error:o,setTopic:u,generateExplanation:h,responseCache:d}=mk(),{activePersona:f}=Bx(),{isTopicCompleted:g,markComplete:x}=Vx(),b=P.useMemo(()=>TG,[]),S=P.useMemo(()=>{for(const fe of zi.branches)for(const ce of fe.semesters)for(const Q of ce.subjects)for(const ae of Q.modules){const ge=ae.topics.findIndex(Re=>Re.id===t);if(ge!==-1){const Re=ae.topics[ge],z=ae.topics[ge-1]??null,G=ae.topics[ge+1]??null;return{topic:Re,module:ae,subject:Q,semester:ce,prevTopic:z,nextTopic:G,totalInModule:ae.topics.length,positionInModule:ge+1}}}return null},[t]);if(P.useEffect(()=>{t&&u(t)},[t,u]),!S)return y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center p-6",children:[y.jsx(d0,{className:"w-12 h-12 text-hils-warning mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-hils-text mb-2",children:"Topic not found"}),y.jsx("p",{className:"text-hils-text-muted mb-6",children:"The topic you're looking for doesn't exist."}),y.jsx("button",{onClick:()=>e("/dashboard"),className:"btn-primary",children:"Back to Dashboard"})]});const{topic:C,module:R,subject:A,semester:D,prevTopic:q,nextTopic:L,totalInModule:ee,positionInModule:J}=S,F=g(C.id),I=()=>{x(C.id,n,f.id)},w=()=>{if(!S)return;const{topic:fe,subject:ce,module:Q}=S;h({topicId:fe.id,topicName:fe.name,subjectName:ce.name,moduleName:Q.name,personaId:f.id,personaModifier:f.promptModifier,mode:n,syllabusContext:fe.description})},M=`${C.id}:${n}:${f.id}`,B=d[M]??null,V=`${C.id}:explain:${f.id}`,U=d[V]??null,j=()=>{switch(n){case"planner":return"Generate Plan";case"explain_v2":return"Generate Explanation";case"quiz":return"Generate Quiz";case"summary":return"Generate Summary";case"deep-dive":return"Generate Deep Dive";case"exam_answer":return"Generate Exam Answer";case"rapid_revision":return"Generate Revision Notes";case"voice_teacher":return"Generate Explanation";default:return"Generate Explanation"}};return y.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[y.jsx("div",{className:"flex items-center gap-2 mb-6 text-xs text-hils-text-muted overflow-x-auto whitespace-nowrap pb-1 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[{label:zi==null?void 0:zi.shortName,path:`/university/${zi.id}`},{label:D!=null&&D.number?`Sem ${D.number}`:"",path:D!=null&&D.number?`/semester/${D.number}`:""},{label:A==null?void 0:A.code,path:A!=null&&A.code?`/subject/${A.code}`:""},{label:R==null?void 0:R.name,path:A!=null&&A.code&&(R!=null&&R.id)?`/subject/${A.code}/module/${R.id}`:""},{label:C==null?void 0:C.name,path:"",isActive:!0}].filter(fe=>fe.label).map((fe,ce)=>y.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[ce>0&&y.jsx("span",{className:"text-hils-text-dim",children:"/"}),fe.isActive?y.jsx("span",{className:"font-bold text-hils-accent",children:fe.label}):y.jsx("button",{onClick:()=>e(fe.path),className:"hover:text-hils-accent-light transition-colors cursor-pointer",children:fe.label})]},ce))}),y.jsxs(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6",children:[y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-hils-text mb-2",children:C.name}),C.description&&y.jsx("p",{className:"text-sm text-hils-text-muted",children:C.description})]}),F&&y.jsxs("span",{className:"flex items-center gap-1.5 text-hils-success text-sm font-medium shrink-0",children:[y.jsx(Ri,{className:"w-4 h-4"}),"Completed"]})]}),y.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-hils-text-dim",children:[y.jsxs("span",{children:["Topic ",J," of ",ee]}),y.jsx("div",{className:"flex-1 max-w-[120px] h-1 bg-hils-border rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-hils-accent rounded-full transition-all",style:{width:`${J/ee*100}%`}})})]})]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[y.jsx(EG,{}),y.jsx("div",{className:"flex items-center bg-hils-surface border border-hils-border rounded-lg p-1",children:b.map(({mode:fe,label:ce,icon:Q})=>y.jsxs("button",{onClick:()=>i(fe),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-150
                ${n===fe?"bg-transparent border border-[#9ca3af] text-white font-semibold":"bg-transparent border border-transparent text-hils-text-muted hover:bg-white/[0.04] hover:text-hils-text font-medium"}`,children:[y.jsx(Q,{className:"w-3.5 h-3.5"}),ce]},fe))})]}),y.jsx("div",{className:"mb-8",children:n==="voice_teacher"?y.jsx(SG,{explainResponse:U,topicContext:S?{topicId:C.id,topicName:C.name,subjectName:A.name,moduleName:R.name,syllabusContext:C.description}:null,personaId:f.id,personaModifier:f.promptModifier}):s?y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 glass-card",children:[y.jsx(mo,{className:"w-8 h-8 text-hils-accent animate-spin mb-4"}),y.jsxs("p",{className:"text-hils-text-muted text-sm",children:["Generating ",n==="exam_answer"?"exam answer":n==="rapid_revision"?"revision notes":"explanation","..."]}),y.jsxs("p",{className:"text-hils-text-dim text-xs mt-1",children:["Using ",f.name," persona"]})]}):o?y.jsxs("div",{className:"glass-card p-6 border border-hils-danger/20",children:[y.jsxs("div",{className:"flex items-center gap-2 text-hils-danger mb-2",children:[y.jsx(d0,{className:"w-4 h-4"}),y.jsx("span",{className:"font-medium text-sm",children:"Error"})]}),y.jsx("p",{className:"text-sm text-hils-text-muted",children:o})]}):B?n==="planner"||n==="explain_v2"||n==="exam_answer"?y.jsx(_G,{response:B}):y.jsx(eF,{response:B}):y.jsxs("div",{className:"glass-card flex flex-col items-center justify-center p-8 text-center min-h-[300px]",children:[y.jsx(h0,{className:"w-12 h-12 text-hils-text-dim mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-semibold text-hils-text mb-2",children:"Ready to learn"}),y.jsxs("p",{className:"text-sm text-hils-text-muted mb-6 max-w-md mx-auto",children:["Select a learning mode and click Generate to get an AI-powered explanation tailored by ",y.jsx("strong",{children:f.name}),"."]}),y.jsx("button",{className:"btn-primary",disabled:s,onClick:w,children:j()})]})}),y.jsxs("div",{className:"flex items-center justify-between border-t border-hils-border pt-6",children:[y.jsx("div",{children:q?y.jsxs("button",{onClick:()=>e(`/topic/${q.id}`),className:"btn-secondary flex items-center gap-2 text-sm",children:[y.jsx(Qc,{className:"w-3.5 h-3.5"}),q.name]}):y.jsx("div",{})}),!F&&y.jsxs("button",{onClick:I,className:"btn-primary flex items-center gap-2 text-sm",children:[y.jsx(Ri,{className:"w-4 h-4"}),"Mark Complete"]}),y.jsx("div",{children:L?y.jsxs("button",{onClick:()=>e(`/topic/${L.id}`),className:"btn-secondary flex items-center gap-2 text-sm",children:[L.name,y.jsx(kl,{className:"w-3.5 h-3.5"})]}):y.jsx("div",{})})]})]})}const e1=eu(t=>({userProfile:null,isLoading:!1,error:null,fetchUserProfile:async e=>{t({isLoading:!0,error:null});try{const i=(await jx(Ol(jl,"users",e))).data();t({userProfile:(i==null?void 0:i.userProfile)??null,isLoading:!1})}catch(n){t({error:n instanceof Error?n.message:"Failed to load profile",isLoading:!1})}},saveUserProfile:async(e,n)=>{t({isLoading:!0,error:null});try{const i={...n,uid:e,updatedAt:Date.now()};await hm(Ol(jl,"users",e),{userProfile:i},{merge:!0}),t({userProfile:i,isLoading:!1})}catch(i){t({error:i instanceof Error?i.message:"Failed to save profile",isLoading:!1})}},clearUserProfile:()=>t({userProfile:null,error:null})}));function qy({icon:t,label:e,value:n,sub:i}){return y.jsxs("div",{className:"glass-card p-4",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(t,{className:"w-4 h-4 text-hils-text-dim"}),y.jsx("span",{className:"text-xs text-hils-text-muted",children:e})]}),y.jsx("p",{className:"text-2xl font-bold text-hils-text",children:n}),i&&y.jsx("p",{className:"text-xs text-hils-text-dim mt-0.5",children:i})]})}function CG({label:t,done:e,total:n}){const i=n>0?Math.round(e/n*100):0;return y.jsxs("div",{className:"mb-3",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[y.jsx("span",{className:"text-hils-text-muted truncate mr-2",children:t}),y.jsxs("span",{className:"text-hils-text-dim flex-shrink-0",children:[e,"/",n]})]}),y.jsx("div",{className:"h-1.5 bg-hils-border rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-hils-success rounded-full transition-all duration-700",style:{width:`${i}%`}})})]})}function AG(){const t=Mi(),{user:e}=di(),{userProfile:n,isLoading:i,error:s,fetchUserProfile:o,saveUserProfile:u}=e1(),{profile:h}=ou(),{isTopicCompleted:d,completedTopics:f}=Vx(),[g,x]=P.useState(!1),[b,S]=P.useState({fullName:"",email:"",mobileNumber:"",collegeName:""}),[C,R]=P.useState(!1);P.useEffect(()=>{e&&!n&&o(e.uid)},[e,n,o]),P.useEffect(()=>{n?S({fullName:n.fullName??"",email:n.email??(e==null?void 0:e.email)??"",mobileNumber:n.mobileNumber??"",collegeName:n.collegeName??""}):e&&S(w=>({...w,fullName:e.displayName??"",email:e.email??""}))},[n,e]);const A=P.useMemo(()=>dk(h),[h]),D=P.useMemo(()=>fk(h),[h]),q=P.useMemo(()=>{if(!D)return{totalTopics:0,completedTopics:0,pct:0};const w=D.subjects.reduce((B,V)=>B+V.modules.reduce((U,j)=>U+j.topics.length,0),0),M=D.subjects.reduce((B,V)=>B+V.modules.reduce((U,j)=>U+j.topics.filter(fe=>d(fe.id)).length,0),0);return{totalTopics:w,completedTopics:M,pct:w>0?Math.round(M/w*100):0}},[D,d]),L=Object.keys(f).length,ee=async()=>{!e||!b.fullName.trim()||!b.email.trim()||(await u(e.uid,{fullName:b.fullName.trim(),email:b.email.trim(),mobileNumber:b.mobileNumber.trim(),collegeName:b.collegeName.trim()}),x(!1),R(!0),setTimeout(()=>R(!1),3e3))},J=(n==null?void 0:n.fullName)||(e==null?void 0:e.displayName)||"Student",F=(n==null?void 0:n.email)||(e==null?void 0:e.email)||"",I=J.split(" ").map(w=>w[0]).slice(0,2).join("").toUpperCase();return y.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-hils-text",children:"Profile"}),y.jsx("p",{className:"text-sm text-hils-text-muted mt-0.5",children:"Your account and academic progress"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[y.jsxs("div",{className:"glass-card p-5 text-center",children:[y.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/[0.08] border border-hils-border flex items-center justify-center mx-auto mb-3",children:y.jsx("span",{className:"text-xl font-bold text-hils-text",children:I})}),y.jsx("p",{className:"font-semibold text-hils-text",children:J}),y.jsx("p",{className:"text-xs text-hils-text-muted mt-0.5 truncate",children:F}),!g&&y.jsxs("button",{onClick:()=>x(!0),className:"mt-3 flex items-center gap-1.5 text-xs text-hils-text-muted hover:text-hils-text transition-colors mx-auto",children:[y.jsx(oT,{className:"w-3 h-3"})," Edit Profile"]})]}),y.jsxs("div",{className:"glass-card p-5",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"text-sm font-semibold text-hils-text",children:"Personal Details"}),!g&&y.jsx("button",{onClick:()=>x(!0),className:"p-1.5 rounded-lg hover:bg-hils-card transition-colors",children:y.jsx(oT,{className:"w-3.5 h-3.5 text-hils-text-dim"})})]}),g?y.jsxs("div",{className:"space-y-3",children:[[{key:"fullName",label:"Full Name *",placeholder:"Your full name",type:"text",required:!0},{key:"email",label:"Email ID *",placeholder:"your@email.com",type:"email",required:!0},{key:"mobileNumber",label:"Mobile Number",placeholder:"+91 XXXXX XXXXX",type:"tel",required:!1},{key:"collegeName",label:"College Name (Optional)",placeholder:"e.g. RV College of Engineering",type:"text",required:!1}].map(w=>y.jsxs("div",{children:[y.jsx("label",{className:"block text-[10px] text-hils-text-dim uppercase tracking-wider mb-1",children:w.label}),y.jsx("input",{type:w.type,value:b[w.key],onChange:M=>S(B=>({...B,[w.key]:M.target.value})),placeholder:w.placeholder,className:"w-full bg-hils-card border border-hils-border rounded-lg px-3 py-2 text-sm text-hils-text placeholder:text-hils-text-dim focus:outline-none focus:border-white/30 transition-colors"})]},w.key)),s&&y.jsxs("div",{className:"flex items-center gap-1.5 text-hils-danger text-xs",children:[y.jsx(Cj,{className:"w-3.5 h-3.5"})," ",s]}),y.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[y.jsxs("button",{onClick:ee,disabled:i||!b.fullName.trim(),className:"flex-1 py-2 rounded-lg bg-white text-black text-sm font-semibold hover:bg-white/90 transition-colors disabled:opacity-40 flex items-center justify-center gap-1.5",children:[i?y.jsx(mo,{className:"w-3.5 h-3.5 animate-spin"}):y.jsx(zj,{className:"w-3.5 h-3.5"}),i?"Saving...":"Save"]}),y.jsx("button",{onClick:()=>x(!1),className:"py-2 px-3 rounded-lg border border-hils-border text-hils-text-muted text-sm hover:text-hils-text transition-colors",children:"Cancel"})]})]}):y.jsxs("div",{className:"space-y-3",children:[[{icon:zA,label:"Full Name",value:(n==null?void 0:n.fullName)||""},{icon:zl,label:"Email",value:(n==null?void 0:n.email)||(e==null?void 0:e.email)||""},{icon:Vj,label:"Mobile",value:(n==null?void 0:n.mobileNumber)||""},{icon:Sj,label:"College",value:(n==null?void 0:n.collegeName)||""}].map(w=>y.jsxs("div",{className:"flex items-start gap-2.5",children:[y.jsx(w.icon,{className:"w-3.5 h-3.5 text-hils-text-dim mt-0.5 flex-shrink-0"}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"text-[10px] text-hils-text-dim uppercase tracking-wider",children:w.label}),y.jsx("p",{className:"text-sm text-hils-text truncate",children:w.value})]})]},w.label)),C&&y.jsxs("div",{className:"flex items-center gap-1.5 text-hils-success text-xs mt-2",children:[y.jsx(Ri,{className:"w-3.5 h-3.5"})," Saved successfully"]})]})]}),y.jsxs("div",{className:"glass-card p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(vo,{className:"w-4 h-4 text-hils-text-dim"}),y.jsx("span",{className:"text-sm font-medium text-hils-text",children:"Academic Profile"})]}),h&&y.jsx(Ri,{className:"w-4 h-4 text-hils-success"})]}),y.jsx("p",{className:"text-xs text-hils-text-muted mb-3",children:h?`${A.universityName}  ${A.branchName}  ${A.schemeName}  Sem ${h.semester}`:"Not configured yet"}),y.jsxs("button",{onClick:()=>t("/setup"),className:"w-full py-2 rounded-lg border border-hils-border text-hils-text-muted text-xs hover:text-hils-text hover:border-white/20 transition-colors flex items-center justify-center gap-1.5",children:[y.jsx(UA,{className:"w-3.5 h-3.5"}),h?"Update Academic Setup":"Configure Academic Profile"]})]})]}),y.jsxs("div",{className:"lg:col-span-2 space-y-5",children:[y.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[y.jsx(qy,{icon:yo,label:"Topics Completed",value:L,sub:"all time"}),y.jsx(qy,{icon:Ri,label:"This Semester",value:q.completedTopics,sub:`of ${q.totalTopics} topics`}),y.jsx(qy,{icon:$j,label:"Completion",value:`${q.pct}%`,sub:`Semester ${(h==null?void 0:h.semester)??""}`})]}),h&&D&&y.jsxs("div",{className:"glass-card p-5",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"text-sm font-semibold text-hils-text",children:["Semester ",h.semester," Progress"]}),y.jsxs("span",{className:"text-xs text-hils-text-dim",children:[q.pct,"% overall"]})]}),y.jsxs("div",{className:"mb-5",children:[y.jsx("div",{className:"h-2 bg-hils-border rounded-full overflow-hidden mb-1",children:y.jsx(qe.div,{initial:{width:0},animate:{width:`${q.pct}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-hils-success rounded-full"})}),y.jsxs("p",{className:"text-xs text-hils-text-dim",children:[q.completedTopics," of ",q.totalTopics," topics completed"]})]}),y.jsx("div",{className:"space-y-1",children:D.subjects.filter(w=>!w.isElective&&!w.isLab).map(w=>{const M=w.modules.reduce((V,U)=>V+U.topics.length,0),B=w.modules.reduce((V,U)=>V+U.topics.filter(j=>d(j.id)).length,0);return y.jsx(CG,{label:`${w.code}  ${w.name}`,done:B,total:M},w.id)})})]}),!h&&y.jsxs("div",{className:"glass-card p-8 text-center",children:[y.jsx(vo,{className:"w-10 h-10 text-hils-text-dim mx-auto mb-3"}),y.jsx("p",{className:"text-sm font-medium text-hils-text mb-1",children:"Academic profile not set up"}),y.jsx("p",{className:"text-xs text-hils-text-muted mb-4",children:"Set up your university, branch and scheme to see your progress dashboard."}),y.jsx("button",{onClick:()=>t("/setup"),className:"btn-primary text-sm",children:"Configure Academic Profile"})]})]})]})]})}const N2=[{id:"vtu",name:"Visvesvaraya Technological University",shortName:"VTU"}],NG=[{id:"cse",name:"Computer Science & Engineering",shortName:"CSE"},{id:"ise",name:"Information Science & Engineering",shortName:"ISE"},{id:"ece",name:"Electronics & Communication Engg.",shortName:"ECE"},{id:"me",name:"Mechanical Engineering",shortName:"ME"},{id:"cv",name:"Civil Engineering",shortName:"CV"},{id:"eee",name:"Electrical & Electronics Engg.",shortName:"EEE"}],RG=[{value:"2022",label:"2022 Scheme",description:"Current scheme for students admitted 2022 onwards"},{value:"2025",label:"2025 Scheme",description:"Latest scheme for students admitted 2025 onwards"}],kG=[1,2,3,4,5,6,7,8],Gy=[{id:1,label:"University",icon:vo},{id:2,label:"Branch",icon:kj},{id:3,label:"Scheme & Semester",icon:Ej}];function IG(){const t=Mi(),{user:e}=di(),{saveProfile:n,isLoading:i}=ou(),[s,o]=P.useState(1),[u,h]=P.useState(N2[0]),[d,f]=P.useState(null),[g,x]=P.useState("2022"),[b,S]=P.useState(3),C=s===1?!!u:s===2?!!d:!!g&&!!b,R=async()=>{if(!e||!d)return;const A=Date.now(),D={universityId:u.id,branchId:d.id,schemeId:g,semester:b,createdAt:A,updatedAt:A};await n(e.uid,D),t("/dashboard",{replace:!0})};return y.jsxs("div",{className:"min-h-screen bg-hils-bg flex flex-col items-center justify-center px-4",children:[y.jsxs("div",{className:"mb-10 text-center",children:[y.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mx-auto mb-4",children:y.jsx(vo,{className:"w-6 h-6 text-black"})}),y.jsx("h1",{className:"text-2xl font-bold text-hils-text",children:"Set Up Your Academic Profile"}),y.jsx("p",{className:"text-hils-text-muted text-sm mt-1",children:"We'll personalize your syllabus. This is done only once."})]}),y.jsx("div",{className:"flex items-center gap-3 mb-8",children:Gy.map((A,D)=>{const q=A.icon,L=s>A.id,ee=s===A.id;return y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-300
                                ${L?"bg-white/[0.12] text-hils-text":ee?"bg-white text-black":"bg-hils-card text-hils-text-dim"}`,children:[L?y.jsx(Ri,{className:"w-3.5 h-3.5"}):y.jsx(q,{className:"w-3.5 h-3.5"}),y.jsx("span",{children:A.label})]}),D<Gy.length-1&&y.jsx(Hf,{className:"w-3.5 h-3.5 text-hils-text-dim flex-shrink-0"})]},A.id)})}),y.jsxs("div",{className:"w-full max-w-lg",children:[y.jsx(hh,{mode:"wait",children:y.jsxs(qe.div,{initial:{opacity:0,x:24},animate:{opacity:1,x:0},exit:{opacity:0,x:-24},transition:{duration:.22},className:"glass-card p-6",children:[s===1&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-hils-text mb-1",children:"Select University"}),y.jsx("p",{className:"text-sm text-hils-text-muted mb-5",children:"More universities will be added soon."}),y.jsx("div",{className:"space-y-2",children:N2.map(A=>y.jsxs("button",{onClick:()=>h(A),className:`w-full flex items-center gap-4 p-4 rounded-xl border transition-all text-left
                                                ${u.id===A.id?"border-white/40 bg-white/[0.08]":"border-hils-border hover:border-white/20 hover:bg-hils-card"}`,children:[y.jsx("div",{className:"w-10 h-10 rounded-lg bg-hils-card border border-hils-border flex items-center justify-center flex-shrink-0",children:y.jsx("span",{className:"text-xs font-bold text-hils-text",children:A.shortName})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-semibold text-hils-text",children:A.shortName}),y.jsx("p",{className:"text-xs text-hils-text-muted",children:A.name})]}),u.id===A.id&&y.jsx(Ri,{className:"w-4 h-4 text-hils-success ml-auto"})]},A.id))})]}),s===2&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-hils-text mb-1",children:"Select Branch"}),y.jsx("p",{className:"text-sm text-hils-text-muted mb-5",children:"Choose your engineering branch."}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:NG.map(A=>y.jsxs("button",{onClick:()=>f(A),className:`flex flex-col items-start p-4 rounded-xl border transition-all text-left
                                                ${(d==null?void 0:d.id)===A.id?"border-white/40 bg-white/[0.08]":"border-hils-border hover:border-white/20 hover:bg-hils-card"}`,children:[y.jsx("span",{className:"text-sm font-bold text-hils-text mb-0.5",children:A.shortName}),y.jsx("span",{className:"text-xs text-hils-text-muted leading-snug",children:A.name})]},A.id))})]}),s===3&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-hils-text mb-1",children:"Scheme & Current Semester"}),y.jsx("p",{className:"text-sm text-hils-text-muted mb-5",children:"Select the VTU scheme you are studying under."}),y.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:RG.map(A=>y.jsxs("button",{onClick:()=>x(A.value),className:`p-4 rounded-xl border transition-all text-left
                                                ${g===A.value?"border-white/40 bg-white/[0.08]":"border-hils-border hover:border-white/20 hover:bg-hils-card"}`,children:[y.jsx("p",{className:"text-sm font-bold text-hils-text mb-1",children:A.label}),y.jsx("p",{className:"text-xs text-hils-text-muted leading-snug",children:A.description})]},A.value))}),y.jsx("label",{className:"block text-sm font-medium text-hils-text mb-2",children:"Current Semester"}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:kG.map(A=>y.jsxs("button",{onClick:()=>S(A),className:`py-2.5 rounded-xl border text-sm font-semibold transition-all
                                                ${b===A?"border-white/40 bg-white text-black":"border-hils-border text-hils-text-muted hover:border-white/20 hover:text-hils-text"}`,children:["Sem ",A]},A))})]})]},s)}),y.jsxs("div",{className:"flex items-center justify-between mt-5",children:[s>1?y.jsxs("button",{onClick:()=>o(A=>A-1),className:"btn-secondary text-sm flex items-center gap-1.5",children:[y.jsx(Qc,{className:"w-3.5 h-3.5"})," Back"]}):y.jsxs("button",{onClick:()=>t(-1),className:"btn-secondary text-sm flex items-center gap-1.5",children:[y.jsx(Qc,{className:"w-3.5 h-3.5"})," Back"]}),s<Gy.length?y.jsxs("button",{disabled:!C,onClick:()=>o(A=>A+1),className:"btn-primary text-sm flex items-center gap-2 disabled:opacity-40 disabled:cursor-not-allowed",children:["Next ",y.jsx(Hf,{className:"w-4 h-4"})]}):y.jsxs("button",{disabled:!C||i,onClick:R,className:"btn-primary text-sm flex items-center gap-2 disabled:opacity-40 disabled:cursor-not-allowed",children:[i?y.jsx(mo,{className:"w-4 h-4 animate-spin"}):y.jsx(Ri,{className:"w-4 h-4"}),i?"Saving...":"Get Started"]})]})]})]})}function MG(){const{user:t,logout:e}=di(),{activePersona:n}=Bx(),{userProfile:i}=e1(),s=Mi(),[o,u]=P.useState(!1),h=async()=>{await e(),s("/login")},d=(i==null?void 0:i.fullName)||(t==null?void 0:t.displayName)||"Student",f=(i==null?void 0:i.email)||(t==null?void 0:t.email)||"",g=d.split(" ").map(b=>b[0]).slice(0,2).join("").toUpperCase(),x=[{to:"/dashboard",label:"Dashboard",icon:Mj}];return y.jsxs(qe.aside,{initial:!1,animate:{width:o?64:240},transition:{duration:.2},className:"h-screen bg-hils-surface border-r border-hils-border flex flex-col sticky top-0",children:[y.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-hils-border",children:[!o&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center",children:y.jsx(Hi,{className:"w-4 h-4 text-black"})}),y.jsx("span",{className:"text-sm font-bold text-hils-text tracking-tight",children:"HILS"})]}),y.jsx("button",{onClick:()=>u(!o),className:"p-1.5 rounded-lg hover:bg-hils-card transition-colors",children:y.jsx(wj,{className:`w-4 h-4 text-hils-text-dim transition-transform duration-200 ${o?"rotate-180":""}`})})]}),y.jsx("nav",{className:"flex-1 p-3 space-y-1",children:x.map(b=>y.jsxs(Q2,{to:b.to,className:({isActive:S})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-150
              ${S?"bg-white/[0.08] text-white border border-white/[0.12]":"text-hils-text-muted hover:text-hils-text hover:bg-hils-card border border-transparent"}`,children:[y.jsx(b.icon,{className:"w-4 h-4 flex-shrink-0"}),!o&&y.jsx("span",{children:b.label})]},b.to))}),!o&&y.jsx("div",{className:"px-3 mb-2",children:y.jsx("div",{className:"glass-card p-3",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg",children:n.emoji}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"text-xs font-medium text-hils-text truncate",children:n.name}),y.jsx("p",{className:"text-xs text-hils-text-dim truncate",children:n.style})]})]})})}),y.jsxs("div",{className:"p-3 border-t border-hils-border",children:[y.jsxs("button",{onClick:()=>s("/profile"),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-hils-card transition-colors group",title:"View Profile",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-hils-card border border-hils-border flex items-center justify-center flex-shrink-0 group-hover:border-white/20 transition-colors",children:y.jsx("span",{className:"text-xs font-bold text-hils-text",children:g||"?"})}),!o&&y.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[y.jsx("p",{className:"text-sm font-medium text-hils-text truncate",children:d}),y.jsx("p",{className:"text-xs text-hils-text-dim truncate",children:f})]})]}),y.jsxs("div",{className:`flex items-center mt-1 gap-1 ${o?"flex-col":""}`,children:[y.jsxs("button",{onClick:()=>s("/profile"),className:"flex-1 flex items-center justify-center gap-1.5 px-2 py-1.5 rounded-lg hover:bg-hils-card text-hils-text-dim hover:text-hils-text transition-colors text-xs",title:"Profile & Settings",children:[y.jsx(UA,{className:"w-3.5 h-3.5"}),!o&&y.jsx("span",{children:"Settings"})]}),y.jsx("button",{onClick:h,className:"flex items-center justify-center p-1.5 rounded-lg hover:bg-hils-card text-hils-text-dim hover:text-hils-danger transition-colors",title:"Sign Out",children:y.jsx(VA,{className:"w-4 h-4"})})]})]})]})}function DG(t){var n;const e=[];for(const i of zi.branches)for(const s of i.semesters)if(s.number===t)for(const o of s.subjects){e.push({kind:"subject",id:o.id,label:o.name,sublabel:`${o.code}  ${o.credits} credits`});for(const u of o.modules){e.push({kind:"module",id:u.id,label:`Module ${u.moduleNumber}: ${u.name}`,sublabel:o.name,topicId:(n=u.topics[0])==null?void 0:n.id,subjectId:o.id});for(const h of u.topics)e.push({kind:"topic",id:h.id,label:h.name,sublabel:`${o.code}  ${u.name}`,topicId:h.id})}}return e}function R2(t,e){if(!e.trim())return y.jsx(y.Fragment,{children:t});const n=t.toLowerCase().indexOf(e.toLowerCase());return n===-1?y.jsx(y.Fragment,{children:t}):y.jsxs(y.Fragment,{children:[t.slice(0,n),y.jsx("mark",{className:"bg-white/20 text-white rounded px-0.5 not-italic",children:t.slice(n,n+e.length)}),t.slice(n+e.length)]})}const PG={subject:yo,module:Uv,topic:Bv},OG={subject:"Subjects",module:"Modules",topic:"Topics"};function jG(){const t=Mi(),{profile:e}=ou(),[n,i]=P.useState(""),[s,o]=P.useState([]),[u,h]=P.useState(!1),[d,f]=P.useState(-1),g=P.useRef(null),x=P.useRef(null),b=P.useRef(null),S=(e==null?void 0:e.semester)??3,C=P.useCallback(L=>{if(!L.trim()){o([]);return}const ee=DG(S),J=L.toLowerCase(),F=ee.filter(I=>I.label.toLowerCase().includes(J)||I.sublabel.toLowerCase().includes(J));o(F.slice(0,20))},[S]);P.useEffect(()=>(x.current&&clearTimeout(x.current),x.current=setTimeout(()=>C(n),300),()=>{x.current&&clearTimeout(x.current)}),[n,C]),P.useEffect(()=>{const L=ee=>{b.current&&!b.current.contains(ee.target)&&h(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const R=L=>{h(!1),i(""),L.topicId?t(`/topic/${L.topicId}`):t("/dashboard")},A=L=>{var ee;!u||s.length===0||(L.key==="ArrowDown"?(L.preventDefault(),f(J=>Math.min(J+1,s.length-1))):L.key==="ArrowUp"?(L.preventDefault(),f(J=>Math.max(J-1,0))):L.key==="Enter"&&d>=0?R(s[d]):L.key==="Escape"&&(h(!1),(ee=g.current)==null||ee.blur()))},D=["subject","module","topic"].map(L=>({kind:L,items:s.filter(ee=>ee.kind===L)})).filter(L=>L.items.length>0);let q=0;return y.jsxs("div",{ref:b,className:"relative w-full max-w-sm",children:[y.jsxs("div",{className:"relative flex items-center",children:[y.jsx(Fj,{className:"absolute left-3 w-4 h-4 text-hils-text-dim pointer-events-none"}),y.jsx("input",{ref:g,type:"text",value:n,onChange:L=>{i(L.target.value),h(!0),f(-1)},onFocus:()=>h(!0),onKeyDown:A,placeholder:"Search subjects, modules, topics...",className:"w-full bg-hils-card border border-hils-border rounded-xl pl-9 pr-8 py-2 text-sm text-hils-text placeholder:text-hils-text-dim focus:outline-none focus:border-white/30 transition-colors"}),n&&y.jsx("button",{onClick:()=>{var L;i(""),o([]),(L=g.current)==null||L.focus()},className:"absolute right-2.5 p-0.5 rounded hover:bg-hils-card transition-colors",children:y.jsx(FA,{className:"w-3.5 h-3.5 text-hils-text-dim"})})]}),y.jsx(hh,{children:u&&s.length>0&&y.jsxs(qe.div,{initial:{opacity:0,y:-6,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-4,scale:.98},transition:{duration:.15},className:"absolute top-full mt-2 w-full z-50 glass-card border border-hils-border rounded-xl overflow-hidden max-h-[380px] overflow-y-auto",style:{backdropFilter:"blur(24px)"},children:[D.map(L=>{const ee=PG[L.kind];return y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 px-3 pt-3 pb-1",children:[y.jsx(ee,{className:"w-3 h-3 text-hils-text-dim"}),y.jsx("span",{className:"text-[10px] font-semibold text-hils-text-dim uppercase tracking-wider",children:OG[L.kind]})]}),L.items.map(J=>{const F=q++;return y.jsxs("button",{onMouseEnter:()=>f(F),onClick:()=>R(J),className:`w-full text-left px-3 py-2.5 flex flex-col gap-0.5 transition-colors
                                                    ${d===F?"bg-white/[0.06]":"hover:bg-white/[0.04]"}`,children:[y.jsx("span",{className:"text-sm text-hils-text font-medium",children:R2(J.label,n)}),y.jsx("span",{className:"text-xs text-hils-text-muted",children:R2(J.sublabel,n)})]},J.id)})]},L.kind)}),y.jsx("div",{className:"px-3 py-2 border-t border-hils-border mt-1",children:y.jsx("p",{className:"text-[10px] text-hils-text-dim",children:" navigate  Enter to open  Esc close"})})]})})]})}const k2={1:"1st Sem",2:"2nd Sem",3:"3rd Sem",4:"4th Sem",5:"5th Sem",6:"6th Sem",7:"7th Sem",8:"8th Sem"},LG=[1,2,3,4,5,6,7,8];function VG(){const{user:t}=di(),{profile:e,updateSemester:n}=ou(),[i,s]=P.useState(!1),o=P.useRef(null),u=(e==null?void 0:e.semester)??3;P.useEffect(()=>{const d=f=>{o.current&&!o.current.contains(f.target)&&s(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const h=d=>{t&&(n(t.uid,d),s(!1))};return e?y.jsxs("div",{ref:o,className:"relative",children:[y.jsxs("button",{onClick:()=>s(d=>!d),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-hils-card border border-hils-border text-sm text-hils-text hover:border-white/20 transition-colors",children:[y.jsx("span",{className:"text-hils-text-muted text-xs",children:"Semester:"}),y.jsx("span",{className:"font-medium",children:k2[u]}),y.jsx(DA,{className:`w-3.5 h-3.5 text-hils-text-dim transition-transform ${i?"rotate-180":""}`})]}),i&&y.jsx("div",{className:"absolute top-full mt-1.5 right-0 z-50 glass-card border border-hils-border rounded-xl overflow-hidden w-36 py-1",style:{backdropFilter:"blur(20px)"},children:LG.map(d=>y.jsx("button",{onClick:()=>h(d),className:`w-full text-left px-3 py-2 text-sm transition-colors
                                ${d===u?"text-hils-text font-semibold bg-white/[0.06]":"text-hils-text-muted hover:text-hils-text hover:bg-white/[0.04]"}`,children:k2[d]},d))})]}):null}function BG(){return y.jsxs("div",{className:"flex min-h-screen bg-hils-bg",children:[y.jsx(MG,{}),y.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[y.jsxs("header",{className:"h-14 border-b border-hils-border bg-hils-surface/60 backdrop-blur-md flex items-center gap-3 px-5 sticky top-0 z-30",children:[y.jsx("div",{className:"flex-1",children:y.jsx(jG,{})}),y.jsx(VG,{})]}),y.jsx("main",{className:"flex-1 overflow-y-auto",children:y.jsx(IM,{})})]})]})}function I2({children:t,skipProfileCheck:e=!1}){const{user:n,isAuthenticated:i,isLoading:s}=di(),{fetchProfile:o}=ou(),{fetchUserProfile:u}=e1(),h=Mi(),d=P.useRef(null);return P.useEffect(()=>{!s&&n&&d.current!==n.uid&&(d.current=n.uid,e||(o(n.uid),u(n.uid)))},[s,n,e,o,u]),P.useEffect(()=>{if(!s){if(!i||!n){h("/login",{replace:!0});return}n.provider==="email"&&!n.emailVerified&&h("/verify-email",{replace:!0})}},[i,n,s,h]),s?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-hils-bg",children:y.jsx(mo,{className:"w-8 h-8 text-hils-accent animate-spin"})}):!i||!n?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-hils-bg",children:y.jsx(mo,{className:"w-8 h-8 text-hils-accent animate-spin"})}):n.provider==="email"&&!n.emailVerified?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-hils-bg",children:y.jsx(mo,{className:"w-8 h-8 text-hils-accent animate-spin"})}):y.jsx(y.Fragment,{children:t})}function UG(){return y.jsx(i3,{children:y.jsxs(DM,{children:[y.jsx(En,{path:"/",element:y.jsx(j8,{})}),y.jsx(En,{path:"/login",element:y.jsx(z8,{})}),y.jsx(En,{path:"/signup",element:y.jsx(F8,{})}),y.jsx(En,{path:"/forgot-password",element:y.jsx(H8,{})}),y.jsx(En,{path:"/verify-email",element:y.jsx(q8,{})}),y.jsx(En,{path:"/setup",element:y.jsx(I2,{skipProfileCheck:!0,children:y.jsx(IG,{})})}),y.jsxs(En,{element:y.jsx(I2,{children:y.jsx(BG,{})}),children:[y.jsx(En,{path:"/dashboard",element:y.jsx(mc,{})}),y.jsx(En,{path:"/university/:university",element:y.jsx(mc,{})}),y.jsx(En,{path:"/semester/:semester",element:y.jsx(mc,{})}),y.jsx(En,{path:"/subject/:subjectCode",element:y.jsx(mc,{})}),y.jsx(En,{path:"/subject/:subjectCode/module/:moduleId",element:y.jsx(mc,{})}),y.jsx(En,{path:"/topic/:topicId",element:y.jsx(wG,{})}),y.jsx(En,{path:"/profile",element:y.jsx(AG,{})})]}),y.jsx(En,{path:"*",element:y.jsx(kM,{to:"/",replace:!0})})]})})}function zG(){const t=di(e=>e.initAuthListener);return P.useEffect(()=>{const e=t();return()=>e()},[t]),y.jsx(UG,{})}M4.createRoot(document.getElementById("root")).render(y.jsx(P.StrictMode,{children:y.jsx(zG,{})}));
